(()=>{var e={790:()=>{}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{"use strict";const e={};let t,n,o,i;e.version="0.4.1",e.parse=function(e,r){return n=String(e),o=n.length,s(r),Je(),function(e){b=_=p,t.locations&&(R=new Xe),O=N=null,m=[],Ke();const r=e||pt();let n=!0;for(e||(r.body=[]);d!==A;){const e=Rt();r.body.push(e),n&&ht(e)&&at(!0),n=!1}return lt(r,"Program")}(t.program)};const a=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function s(e){t=e||{};for(let e in a)Object.prototype.hasOwnProperty.call(t,e)||(t[e]=a[e]);i=t.sourceFile||null}const c=e.getLineInfo=function(e,t){for(var r=1,n=0;;){Ge.lastIndex=n;const o=Ge.exec(e);if(!(o&&o.index<t))break;++r,n=o.index+o[0].length}return{line:r,column:t-n}};var p,u,l,h,f,d,y,E,v,g;let b,_,R,O,m,N;function P(e,t){const r=c(n,e);t+=" ("+r.line+":"+r.column+")";const o=new SyntaxError(t);throw o.pos=e,o.loc=r,o.raisedAt=p,o}e.tokenize=function(e,r){n=String(e),o=n.length,s(r),Je();const i={};function a(e){return Ke(e),i.start=u,i.end=l,i.startLoc=h,i.endLoc=f,i.type=d,i.value=y,i}return a.jumpTo=function(e,r){if(p=e,t.locations){let t;for(v=1,g=Ge.lastIndex=0;(t=Ge.exec(n))&&t.index<e;)++v,g=t.index+t[0].length}E=r,ze()},a};const T=[],S={type:"num"},w={type:"regexp"},C={type:"string"},x={type:"name"},A={type:"eof"},k={keyword:"break"},j={keyword:"case",beforeExpr:!0},I={keyword:"catch"},F={keyword:"continue"},U={keyword:"debugger"},L={keyword:"default"},D={keyword:"do",isLoop:!0},B={keyword:"else",beforeExpr:!0},M={keyword:"finally"},G={keyword:"for",isLoop:!0},Y={keyword:"function"},V={keyword:"if"},X={keyword:"return",beforeExpr:!0},J={keyword:"switch"},W={keyword:"throw",beforeExpr:!0},q={keyword:"try"},H={keyword:"var"},z={keyword:"while",isLoop:!0},K={keyword:"with"},$={keyword:"new",beforeExpr:!0},Q={keyword:"this"},Z={keyword:"null",atomValue:null},ee={keyword:"true",atomValue:!0},te={keyword:"false",atomValue:!1},re={keyword:"in",binop:7,beforeExpr:!0},ne={break:k,case:j,catch:I,continue:F,debugger:U,default:L,do:D,else:B,finally:M,for:G,function:Y,if:V,return:X,switch:J,throw:W,try:q,var:H,while:z,with:K,null:Z,true:ee,false:te,new:$,in:re,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},oe={type:"[",beforeExpr:!0},ie={type:"]"},ae={type:"{",beforeExpr:!0},se={type:"}"},ce={type:"(",beforeExpr:!0},pe={type:")"},ue={type:",",beforeExpr:!0},le={type:";",beforeExpr:!0},he={type:":",beforeExpr:!0},fe={type:"."},de={type:"?",beforeExpr:!0},ye={binop:10,beforeExpr:!0},Ee={isAssign:!0,beforeExpr:!0},ve={isAssign:!0,beforeExpr:!0},ge={postfix:!0,prefix:!0,isUpdate:!0},be={prefix:!0,beforeExpr:!0},_e={binop:1,beforeExpr:!0},Re={binop:2,beforeExpr:!0},Oe={binop:3,beforeExpr:!0},me={binop:4,beforeExpr:!0},Ne={binop:5,beforeExpr:!0},Pe={binop:6,beforeExpr:!0},Te={binop:7,beforeExpr:!0},Se={binop:8,beforeExpr:!0},we={binop:9,prefix:!0,beforeExpr:!0},Ce={binop:10,beforeExpr:!0};e.tokTypes={bracketL:oe,bracketR:ie,braceL:ae,braceR:se,parenL:ce,parenR:pe,comma:ue,semi:le,colon:he,dot:fe,question:de,slash:ye,eq:Ee,name:x,eof:A,num:S,regexp:w,string:C};for(let t in ne)e.tokTypes["_"+t]=ne[t];function xe(e){e=e.split(" ");let t="";const r=[];e:for(var n=0;n<e.length;++n){for(let t=0;t<r.length;++t)if(r[t][0].length==e[n].length){r[t].push(e[n]);continue e}r.push([e[n]])}function o(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(let r=0;r<e.length;++r)t+="case "+JSON.stringify(e[r])+":";t+="return true}return false;"}if(r.length>3){for(r.sort((function(e,t){return t.length-e.length})),t+="switch(str.length){",n=0;n<r.length;++n){const e=r[n];t+="case "+e[0].length+":",o(e)}t+="}"}else o(e);return new Function("str",t)}const Ae=xe("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),ke=xe("class enum extends super const export import"),je=xe("implements interface let package private protected public static yield"),Ie=xe("eval arguments"),Fe=xe("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ue=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Le="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",De=new RegExp("["+Le+"]"),Be=new RegExp("["+Le+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Me=/[\n\r\u2028\u2029]/;var Ge=/\r\n|[\n\r\u2028\u2029]/g;const Ye=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&De.test(String.fromCharCode(e)))},Ve=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&Be.test(String.fromCharCode(e))))};function Xe(){this.line=v,this.column=p-g}function Je(){v=1,p=g=0,E=!0,ze()}function We(e,r){l=p,t.locations&&(f=new Xe),d=e,ze(),y=r,E=e.beforeExpr}function qe(){const e=t.onComment&&t.locations&&new Xe,r=p,o=n.indexOf("*/",p+=2);if(-1===o&&P(p-2,"Unterminated comment"),p=o+2,t.locations){let e;for(Ge.lastIndex=r;(e=Ge.exec(n))&&e.index<p;)++v,g=e.index+e[0].length}t.onComment&&t.onComment(!0,n.slice(r+2,o),r,p,e,t.locations&&new Xe)}function He(){const e=p,r=t.onComment&&t.locations&&new Xe;let i=n.charCodeAt(p+=2);for(;p<o&&10!==i&&13!==i&&8232!==i&&8233!==i;)++p,i=n.charCodeAt(p);t.onComment&&t.onComment(!1,n.slice(e+2,p),e,p,r,t.locations&&new Xe)}function ze(){for(;p<o;){const r=n.charCodeAt(p);if(32===r)++p;else if(13===r)++p,10===(e=n.charCodeAt(p))&&++p,t.locations&&(++v,g=p);else if(10===r||8232===r||8233===r)++p,t.locations&&(++v,g=p);else if(r>8&&r<14)++p;else if(47===r){var e;if(42===(e=n.charCodeAt(p+1)))qe();else{if(47!==e)break;He()}}else if(160===r)++p;else{if(!(r>=5760&&Ue.test(String.fromCharCode(r))))break;++p}}}function Ke(e){if(e?p=u+1:u=p,t.locations&&(h=new Xe),e)return Qe();if(p>=o)return We(A);const r=n.charCodeAt(p);if(Ye(r)||92===r)return ot();const i=function(e){switch(e){case 46:return function(){const e=n.charCodeAt(p+1);return e>=48&&e<=57?et(!0):(++p,We(fe))}();case 40:return++p,We(ce);case 41:return++p,We(pe);case 59:return++p,We(le);case 44:return++p,We(ue);case 91:return++p,We(oe);case 93:return++p,We(ie);case 123:return++p,We(ae);case 125:return++p,We(se);case 58:return++p,We(he);case 63:return++p,We(de);case 48:const r=n.charCodeAt(p+1);if(120===r||88===r)return function(){p+=2;const e=Ze(16);return null==e&&P(u+2,"Expected hexadecimal number"),Ye(n.charCodeAt(p))&&P(p,"Identifier directly after number"),We(S,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return et(!1);case 34:case 39:return function(e){p++;let r="";for(;;){p>=o&&P(u,"Unterminated string constant");let i=n.charCodeAt(p);if(i===e)return++p,We(C,r);if(92===i){i=n.charCodeAt(++p);let e=/^[0-7]+/.exec(n.slice(p,p+3));for(e&&(e=e[0]);e&&parseInt(e,8)>255;)e=e.slice(0,-1);if("0"===e&&(e=null),++p,e)N&&P(p-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(e,8)),p+=e.length-1;else switch(i){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(tt(2));break;case 117:r+=String.fromCharCode(tt(4));break;case 85:r+=String.fromCharCode(tt(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\v";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===n.charCodeAt(p)&&++p;case 10:t.locations&&(g=p,++v);break;default:r+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||P(u,"Unterminated string constant"),r+=String.fromCharCode(i),++p}}(e);case 47:return function(){const e=n.charCodeAt(p+1);return E?(++p,Qe()):61===e?$e(ve,2):$e(ye,1)}();case 37:case 42:return 61===n.charCodeAt(p+1)?$e(ve,2):$e(Ce,1);case 124:case 38:return function(e){const t=n.charCodeAt(p+1);return t===e?$e(124===e?_e:Re,2):61===t?$e(ve,2):$e(124===e?Oe:Ne,1)}(e);case 94:return 61===n.charCodeAt(p+1)?$e(ve,2):$e(me,1);case 43:case 45:return function(e){const t=n.charCodeAt(p+1);return t===e?45==t&&62==n.charCodeAt(p+2)&&Me.test(n.slice(_,p))?(p+=3,He(),ze(),Ke()):$e(ge,2):61===t?$e(ve,2):$e(we,1)}(e);case 60:case 62:return function(e){const t=n.charCodeAt(p+1);let r=1;return t===e?(r=62===e&&62===n.charCodeAt(p+2)?3:2,61===n.charCodeAt(p+r)?$e(ve,r+1):$e(Se,r)):33==t&&60==e&&45==n.charCodeAt(p+2)&&45==n.charCodeAt(p+3)?(p+=4,He(),ze(),Ke()):(61===t&&(r=61===n.charCodeAt(p+2)?3:2),$e(Te,r))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(p+1)?$e(Pe,61===n.charCodeAt(p+2)?3:2):$e(61===e?Ee:be,1)}(e);case 126:return $e(be,1)}return!1}(r);if(!1===i){const e=String.fromCharCode(r);if("\\"===e||De.test(e))return ot();P(p,"Unexpected character '"+e+"'")}return i}function $e(e,t){const r=n.slice(p,p+t);p+=t,We(e,r)}function Qe(){for(var e,t,r=p;;){p>=o&&P(r,"Unterminated regular expression");const i=n.charAt(p);if(Me.test(i)&&P(r,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++p}var i=n.slice(r,p);++p;const a=nt();return a&&!/^[gmsiy]*$/.test(a)&&P(r,"Invalid regexp flag"),We(w,new RegExp(i,a))}function Ze(e,t){const r=p;let o=0,i=0;const a=null==t?1/0:t;for(;i<a;++i){const t=n.charCodeAt(p);let r;if(r=t>=97?t-97+10:t>=65?t-65+10:t>=48&&t<=57?t-48:1/0,r>=e)break;++p,o=o*e+r}return p===r||null!=t&&p-r!==t?null:o}function et(e){const t=p;let r=!1;const o=48===n.charCodeAt(p);e||null!==Ze(10)||P(t,"Invalid number"),46===n.charCodeAt(p)&&(++p,Ze(10),r=!0);let i=n.charCodeAt(p);69!==i&&101!==i||(i=n.charCodeAt(++p),43!==i&&45!==i||++p,null===Ze(10)&&P(t,"Invalid number"),r=!0),Ye(n.charCodeAt(p))&&P(p,"Identifier directly after number");const a=n.slice(t,p);let s;return r?s=parseFloat(a):o&&1!==a.length?/[89]/.test(a)||N?P(t,"Invalid number"):s=parseInt(a,8):s=parseInt(a,10),We(S,s)}function tt(e){const t=Ze(16,e);return null===t&&P(u,"Bad character escape sequence"),t}let rt;function nt(){rt=!1;let e,t=!0;const r=p;for(;;){const o=n.charCodeAt(p);if(Ve(o))rt&&(e+=n.charAt(p)),++p;else{if(92!==o)break;{rt||(e=n.slice(r,p)),rt=!0,117!=n.charCodeAt(++p)&&P(p,"Expecting Unicode escape sequence \\uXXXX"),++p;const o=tt(4),i=String.fromCharCode(o);i||P(p-1,"Invalid Unicode escape"),(t?Ye(o):Ve(o))||P(p-4,"Invalid Unicode escape"),e+=i}}t=!1}return rt?e:n.slice(r,p)}function ot(){const e=nt();let r=x;return rt||(Fe(e)?r=ne[e]:(t.forbidReserved&&(3===t.ecmaVersion?Ae:ke)(e)||N&&je(e))&&P(u,"The keyword '"+e+"' is reserved")),We(r,e)}function it(){b=u,_=l,R=f,Ke()}function at(e){if(N=e,p=_,t.locations)for(;p<g;)g=n.lastIndexOf("\n",g-2)+1,--v;ze(),Ke()}function st(){this.type=null,this.start=u,this.end=null}function ct(){this.start=h,this.end=null,null!==i&&(this.source=i)}function pt(){const e=new st;return t.locations&&(e.loc=new ct),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[u,0]),e}function ut(e){const r=new st;return r.start=e.start,t.locations&&(r.loc=new ct,r.loc.start=e.loc.start),t.ranges&&(r.range=[e.range[0],0]),r}function lt(e,r){return e.type=r,e.end=_,t.locations&&(e.loc.end=R),t.ranges&&(e.range[1]=_),e}function ht(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function ft(e){if(d===e)return it(),!0}function dt(){return!t.strictSemicolons&&(d===A||d===se||Me.test(n.slice(_,u)))}function yt(){ft(le)||dt()||vt()}function Et(e){d===e?it():vt()}function vt(){P(u,"Unexpected token")}function gt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&P(e.start,"Assigning to rvalue"),N&&"Identifier"===e.type&&Ie(e.name)&&P(e.start,"Assigning to "+e.name+" in strict mode")}const bt={kind:"loop"},_t={kind:"switch"};function Rt(){(d===ye||d===ve&&"/="==y)&&Ke(!0);const e=d,t=pt();switch(e){case k:case F:it();const s=e===k;ft(le)||dt()?t.label=null:d!==x?vt():(t.label=Ut(),yt());for(var r=0;r<m.length;++r){const e=m[r];if(null==t.label||e.name===t.label.name){if(null!=e.kind&&(s||"loop"===e.kind))break;if(t.label&&s)break}}return r===m.length&&P(t.start,"Unsyntactic "+e.keyword),lt(t,s?"BreakStatement":"ContinueStatement");case U:return it(),yt(),lt(t,"DebuggerStatement");case D:return it(),m.push(bt),t.body=Rt(),m.pop(),Et(z),t.test=Ot(),yt(),lt(t,"DoWhileStatement");case G:if(it(),m.push(bt),Et(ce),d===le)return Nt(t,null);if(d===H){var o=pt();return it(),Tt(o,!0),lt(o,"VariableDeclaration"),1===o.declarations.length&&ft(re)?Pt(t,o):Nt(t,o)}return o=St(!1,!0),ft(re)?(gt(o),Pt(t,o)):Nt(t,o);case Y:return it(),It(t,!0);case V:return it(),t.test=Ot(),t.consequent=Rt(),t.alternate=ft(B)?Rt():null,lt(t,"IfStatement");case X:return O||P(u,"'return' outside of function"),it(),ft(le)||dt()?t.argument=null:(t.argument=St(),yt()),lt(t,"ReturnStatement");case J:it(),t.discriminant=Ot(),t.cases=[],Et(ae),m.push(_t);for(var i,a;d!=se;)if(d===j||d===L){const e=d===j;i&&lt(i,"SwitchCase"),t.cases.push(i=pt()),i.consequent=[],it(),e?i.test=St():(a&&P(b,"Multiple default clauses"),a=!0,i.test=null),Et(he)}else i||vt(),i.consequent.push(Rt());return i&&lt(i,"SwitchCase"),it(),m.pop(),lt(t,"SwitchStatement");case W:return it(),Me.test(n.slice(_,u))&&P(_,"Illegal newline after throw"),t.argument=St(),yt(),lt(t,"ThrowStatement");case q:if(it(),t.block=mt(),t.handler=null,d===I){const e=pt();it(),Et(ce),e.param=Ut(),N&&Ie(e.param.name)&&P(e.param.start,"Binding "+e.param.name+" in strict mode"),Et(pe),e.guard=null,e.body=mt(),t.handler=lt(e,"CatchClause")}return t.guardedHandlers=T,t.finalizer=ft(M)?mt():null,t.handler||t.finalizer||P(t.start,"Missing catch or finally clause"),lt(t,"TryStatement");case H:return it(),Tt(t),yt(),lt(t,"VariableDeclaration");case z:return it(),t.test=Ot(),m.push(bt),t.body=Rt(),m.pop(),lt(t,"WhileStatement");case K:return N&&P(u,"'with' in strict mode"),it(),t.object=Ot(),t.body=Rt(),lt(t,"WithStatement");case ae:return mt();case le:return it(),lt(t,"EmptyStatement");default:const c=y,p=St();if(e===x&&"Identifier"===p.type&&ft(he)){for(r=0;r<m.length;++r)m[r].name===c&&P(p.start,"Label '"+c+"' is already declared");const e=d.isLoop?"loop":d===J?"switch":null;return m.push({name:c,kind:e}),t.body=Rt(),m.pop(),t.label=p,lt(t,"LabeledStatement")}return t.expression=p,yt(),lt(t,"ExpressionStatement")}}function Ot(){Et(ce);const e=St();return Et(pe),e}function mt(e){const t=pt();let r,n=!0,o=!1;for(t.body=[],Et(ae);!ft(se);){const i=Rt();t.body.push(i),n&&e&&ht(i)&&(r=o,at(o=!0)),n=!1}return o&&!r&&at(!1),lt(t,"BlockStatement")}function Nt(e,t){return e.init=t,Et(le),e.test=d===le?null:St(),Et(le),e.update=d===pe?null:St(),Et(pe),e.body=Rt(),m.pop(),lt(e,"ForStatement")}function Pt(e,t){return e.left=t,e.right=St(),Et(pe),e.body=Rt(),m.pop(),lt(e,"ForInStatement")}function Tt(e,t){for(e.declarations=[],e.kind="var";;){const r=pt();if(r.id=Ut(),N&&Ie(r.id.name)&&P(r.id.start,"Binding "+r.id.name+" in strict mode"),r.init=ft(Ee)?St(!0,t):null,e.declarations.push(lt(r,"VariableDeclarator")),!ft(ue))break}return e}function St(e,t){const r=wt(t);if(!e&&d===ue){const e=ut(r);for(e.expressions=[r];ft(ue);)e.expressions.push(wt(t));return lt(e,"SequenceExpression")}return r}function wt(e){const t=function(e){const t=function(e){return Ct(xt(),-1,e)}(e);if(ft(de)){const r=ut(t);return r.test=t,r.consequent=St(!0),Et(he),r.alternate=St(!0,e),lt(r,"ConditionalExpression")}return t}(e);if(d.isAssign){const r=ut(t);return r.operator=y,r.left=t,it(),r.right=wt(e),gt(t),lt(r,"AssignmentExpression")}return t}function Ct(e,t,r){const n=d.binop;if(null!=n&&(!r||d!==re)&&n>t){const o=ut(e);o.left=e,o.operator=y;const i=d;return it(),o.right=Ct(xt(),n,r),Ct(lt(o,i===_e||i===Re?"LogicalExpression":"BinaryExpression"),t,r)}return e}function xt(){if(d.prefix){var e=pt(),t=d.isUpdate;return e.operator=y,e.prefix=!0,E=!0,it(),e.argument=xt(),t?gt(e.argument):N&&"delete"===e.operator&&"Identifier"===e.argument.type&&P(e.start,"Deleting local variable in strict mode"),lt(e,t?"UpdateExpression":"UnaryExpression")}let r=At(kt());for(;d.postfix&&!dt();)(e=ut(r)).operator=y,e.prefix=!1,e.argument=r,gt(r),it(),r=lt(e,"UpdateExpression");return r}function At(e,t){var r;return ft(fe)?((r=ut(e)).object=e,r.property=Ut(!0),r.computed=!1,At(lt(r,"MemberExpression"),t)):ft(oe)?((r=ut(e)).object=e,r.property=St(),r.computed=!0,Et(ie),At(lt(r,"MemberExpression"),t)):!t&&ft(ce)?((r=ut(e)).callee=e,r.arguments=Ft(pe,!1),At(lt(r,"CallExpression"),t)):e}function kt(){switch(d){case Q:var e=pt();return it(),lt(e,"ThisExpression");case x:return Ut();case S:case C:case w:return(e=pt()).value=y,e.raw=n.slice(u,l),it(),lt(e,"Literal");case Z:case ee:case te:return(e=pt()).value=d.atomValue,e.raw=d.keyword,it(),lt(e,"Literal");case ce:const r=h,o=u;it();const i=St();return i.start=o,i.end=l,t.locations&&(i.loc.start=r,i.loc.end=f),t.ranges&&(i.range=[o,l]),Et(pe),i;case oe:return e=pt(),it(),e.elements=Ft(ie,!0,!0),lt(e,"ArrayExpression");case ae:return function(){const e=pt();let r=!0,n=!1;for(e.properties=[],it();!ft(se);){if(r)r=!1;else if(Et(ue),t.allowTrailingCommas&&ft(se))break;const o={key:jt()};let i,a=!1;if(ft(he)?(o.value=St(!0),i=o.kind="init"):t.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(a=n=!0,i=o.kind=o.key.name,o.key=jt(),d!==ce&&vt(),o.value=It(pt(),!1)):vt(),"Identifier"===o.key.type&&(N||n))for(let t=0;t<e.properties.length;++t){const r=e.properties[t];if(r.key.name===o.key.name){let e=i==r.kind||a&&"init"===r.kind||"init"===i&&("get"===r.kind||"set"===r.kind);e&&!N&&"init"===i&&"init"===r.kind&&(e=!1),e&&P(o.key.start,"Redefinition of property")}}e.properties.push(o)}return lt(e,"ObjectExpression")}();case Y:return e=pt(),it(),It(e,!1);case $:return function(){const e=pt();return it(),e.callee=At(kt(),!0),ft(ce)?e.arguments=Ft(pe,!1):e.arguments=T,lt(e,"NewExpression")}();default:vt()}}function jt(){return d===S||d===C?kt():Ut(!0)}function It(e,t){d===x?e.id=Ut():t?vt():e.id=null,e.params=[];let r=!0;for(Et(ce);!ft(pe);)r?r=!1:Et(ue),e.params.push(Ut());const n=O,o=m;if(O=!0,m=[],e.body=mt(!0),O=n,m=o,N||e.body.body.length&&ht(e.body.body[0]))for(let t=e.id?-1:0;t<e.params.length;++t){const r=t<0?e.id:e.params[t];if((je(r.name)||Ie(r.name))&&P(r.start,"Defining '"+r.name+"' in strict mode"),t>=0)for(let n=0;n<t;++n)r.name===e.params[n].name&&P(r.start,"Argument name clash in strict mode")}return lt(e,t?"FunctionDeclaration":"FunctionExpression")}function Ft(e,r,n){const o=[];let i=!0;for(;!ft(e);){if(i)i=!1;else if(Et(ue),r&&t.allowTrailingCommas&&ft(e))break;n&&d===ue?o.push(null):o.push(St(!0))}return o}function Ut(e){const r=pt();return r.name=d===x?y:e&&!t.forbidReserved&&d.keyword||vt(),E=!1,it(),lt(r,"Identifier")}var Lt=function(t,r){this.uid=Math.random().toString(16).substr(2),this.halted_=!1,this.hasCompleteFuncRun_=!1,this.completeFunc_=function(){},this.hasErrorFuncRun_=!1,this.errorFunc_=function(){},this.unpauseFunc_=function(){},"string"==typeof t&&(t=e.parse(t,Lt.PARSE_OPTIONS)),this.nodeConstructor=t.constructor;var n=new this.nodeConstructor({options:{}});for(var o in t)n[o]="body"===o?t[o].slice():t[o];this.ast=n,this.initFunc_=r,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var i,a,s=/^step([A-Z]\w*)$/;for(var c in this)"function"==typeof this[c]&&(i=c.match(s))&&(this.stepFunctions_[i[1]]=this[c].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=e.parse(this.polyfills_.join("\n"),Lt.PARSE_OPTIONS),this.polyfills_=void 0,Lt.stripLocations_(this.ast,void 0,void 0),(a=new Lt.State(this.ast,this.globalScope)).done=!1,this.stateStack=[a],this.run(),this.value=void 0,this.ast=n,(a=new Lt.State(this.ast,this.globalScope)).done=!1,this.stateStack.length=0,this.stateStack[0]=a,this.stateStack=this.stateStack};Lt.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},Lt.PARSE_OPTIONS={ecmaVersion:5},Lt.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},Lt.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},Lt.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},Lt.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},Lt.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},Lt.STEP_ERROR={STEP_ERROR:!0},Lt.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},Lt.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},Lt.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},Lt.toStringCycles_=[],Lt.vm=null,Lt.nativeGlobal=void 0,Lt.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","};"],Lt.legalArrayLength=function(e){var t=e>>>0;return t===Number(e)?t:NaN},Lt.legalArrayIndex=function(e){var t=e>>>0;return String(t)===String(e)&&4294967295!==t?t:NaN},Lt.stripLocations_=function(e,t,r){for(var n in t?e.start=t:delete e.start,r?e.end=r:delete e.end,e)if(e.hasOwnProperty(n)){var o=e[n];o&&"object"==typeof o&&Lt.stripLocations_(o,t,r)}},Lt.prototype.REGEXP_MODE=2,Lt.prototype.REGEXP_THREAD_TIMEOUT=1e3,Lt.prototype.POLYFILL_TIMEOUT=1e3,Lt.prototype.getterStep_=!1,Lt.prototype.setterStep_=!1,Lt.prototype.appendCode=function(t){var r=this.stateStack[0];if(!r||"Program"!==r.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof t&&(t=e.parse(t,Lt.PARSE_OPTIONS)),!t||"Program"!==t.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(t,r.scope),Array.prototype.push.apply(r.node.body,t.body),r.done=!1},Lt.prototype.step=function(){var e=this.stateStack;Date.now();do{var t=e[e.length-1];if(!t)return!1;var r=t.node,n=r.type;if("Program"===n&&t.done)return this.completeFunc_(),!1;if(this.paused_)return!0;try{var o=this.stepFunctions_[n](e,t,r)}catch(e){if(e!==Lt.STEP_ERROR)throw e}if(o&&e.push(o),this.getterStep_)throw Error("Getter not supported in this context");if(this.setterStep_)throw Error("Setter not supported in this context")}while(!r.end);return!0},Lt.prototype.halt=function(){this.halted_=!0},Lt.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},Lt.prototype.runAll=function(e,t){var r=this;r.errorFunc_=t=>{r.hasErrorFuncRun_||(r.hasErrorFuncRun_=!0,e(t))},r.completeFunc_=()=>{r.hasCompleteFuncRun_||(r.hasCompleteFuncRun_=!0,t())},r.unpauseFunc_=function(){try{r.run()}catch(e){r.errorFunc_(e)}};try{r.run()}catch(e){r.errorFunc_(e)}},Lt.prototype.callFunction=function(e,t,r){var n=this.buildFunctionCaller_.apply(this,arguments);return new Lt.Callback(n)},Lt.prototype.queueFunction=function(e,t,r){var n=this.stateStack[0],o=this.buildFunctionCaller_.apply(this,arguments);return n.node.body.push(o),n.done=!1,new Lt.Callback(o,!0)},Lt.prototype.buildFunctionCaller_=function(e,t,r){var n=this,o=Array.prototype.slice.call(arguments,2).map((function(e){return e instanceof Lt.Object?e:n.nativeToPseudo(e)})),i=this.stateStack[this.stateStack.length-1].scope,a=new this.nodeConstructor({options:{}});return a.type="CallExpressionFunc_",a.funcThis_=t,a.func_=e,a.arguments_=o,a.scope_=i,a},Lt.prototype.initGlobal=function(e){this.setProperty(e,"NaN",NaN,Lt.READONLY_DESCRIPTOR),this.setProperty(e,"Infinity",1/0,Lt.READONLY_DESCRIPTOR),this.setProperty(e,"undefined",void 0,Lt.READONLY_DESCRIPTOR),this.setProperty(e,"window",e,Lt.READONLY_DESCRIPTOR),this.setProperty(e,"this",e,Lt.READONLY_DESCRIPTOR),this.setProperty(e,"self",e),this.OBJECT_PROTO=new Lt.Object(null),this.FUNCTION_PROTO=new Lt.Object(this.OBJECT_PROTO),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT_PROTO,this.setProperty(e,"constructor",this.OBJECT,Lt.NONENUMERABLE_DESCRIPTOR),this.initArray(e),this.initString(e),this.initBoolean(e),this.initNumber(e),this.initDate(e),this.initRegExp(e),this.initError(e),this.initMath(e),this.initJSON(e);var t=this,r=this.createNativeFunction((function(e){throw EvalError("Can't happen")}),!1);r.eval=!0,this.setProperty(e,"eval",r),this.setProperty(e,"parseInt",this.createNativeFunction(parseInt,!1)),this.setProperty(e,"parseFloat",this.createNativeFunction(parseFloat,!1)),this.setProperty(e,"isNaN",this.createNativeFunction(isNaN,!1)),this.setProperty(e,"isFinite",this.createNativeFunction(isFinite,!1));for(var n=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],o=0;o<n.length;o++){var i=function(e){return function(r){try{return e(r)}catch(e){t.throwException(t.URI_ERROR,e.message)}}}(n[o][0]);this.setProperty(e,n[o][1],this.createNativeFunction(i,!1),Lt.NONENUMERABLE_DESCRIPTOR)}this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,e)},Lt.prototype.initFunction=function(t){var r,n=this,o=/^[A-Za-z_$][\w$]*$/;r=function(t){if(arguments.length)var r=String(arguments[arguments.length-1]);else r="";var i=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(i){for(var a=i.split(/\s*,\s*/),s=0;s<a.length;s++){var c=a[s];o.test(c)||n.throwException(n.SYNTAX_ERROR,"Invalid function argument: "+c)}i=a.join(", ")}try{var p=e.parse("(function("+i+") {"+r+"})",Lt.PARSE_OPTIONS)}catch(e){n.throwException(n.SYNTAX_ERROR,"Invalid code: "+e.message)}1!==p.body.length&&n.throwException(n.SYNTAX_ERROR,"Invalid code in function body.");var u=p.body[0].expression;return n.createFunction(u,n.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(r,!0),this.setProperty(t,"Function",this.FUNCTION,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,Lt.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",r=function(e,t){var r=n.stateStack[n.stateStack.length-1];r.func_=this,r.funcThis_=e,r.arguments_=[],null!=t&&(t instanceof Lt.Object?r.arguments_=n.arrayPseudoToNative(t):n.throwException(n.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",r),r=function(e){var t=n.stateStack[n.stateStack.length-1];t.func_=this,t.funcThis_=e,t.arguments_=[];for(var r=1;r<arguments.length;r++)t.arguments_.push(arguments[r]);t.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",r),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),r=function(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",r),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(r,!1),Lt.NONENUMERABLE_DESCRIPTOR),r=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",r),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(r,!1),Lt.NONENUMERABLE_DESCRIPTOR)},Lt.prototype.initObject=function(e){var t,r=this;t=function(e){if(null==e)return r.calledWithNew()?this:r.createObjectProto(r.OBJECT_PROTO);if(!(e instanceof Lt.Object)){var t=r.createObjectProto(r.getPrototype(e));return t.data=e,t}return e},this.OBJECT=this.createNativeFunction(t,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Object",this.OBJECT,Lt.NONENUMERABLE_DESCRIPTOR);var n=function(e){null==e&&r.throwException(r.TYPE_ERROR,"Cannot convert '"+e+"' to object")};t=function(e){n(e);var t=e instanceof Lt.Object?e.properties:e;return r.arrayNativeToPseudo(Object.getOwnPropertyNames(t))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return n(e),e instanceof Lt.Object&&(e=e.properties),r.arrayNativeToPseudo(Object.keys(e))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return null===e?r.createObjectProto(null):(e instanceof Lt.Object||r.throwException(r.TYPE_ERROR,"Object prototype may only be an Object or null"),r.createObjectProto(e))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),t=function(e,t,n){return t=String(t),e instanceof Lt.Object||r.throwException(r.TYPE_ERROR,"Object.defineProperty called on non-object"),n instanceof Lt.Object||r.throwException(r.TYPE_ERROR,"Property description must be an object"),!e.properties[t]&&e.preventExtensions&&r.throwException(r.TYPE_ERROR,"Can't define property '"+t+"', object is not extensible"),r.setProperty(e,t,Lt.VALUE_IN_DESCRIPTOR,n.properties),e},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),t=function(e,t){if(e instanceof Lt.Object||r.throwException(r.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object"),(t=String(t))in e.properties){var n=Object.getOwnPropertyDescriptor(e.properties,t),o=e.getter[t],i=e.setter[t],a=r.createObjectProto(r.OBJECT_PROTO);return o||i?(r.setProperty(a,"get",o),r.setProperty(a,"set",i)):(r.setProperty(a,"value",n.value),r.setProperty(a,"writable",n.writable)),r.setProperty(a,"configurable",n.configurable),r.setProperty(a,"enumerable",n.enumerable),a}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return n(e),r.getPrototype(e)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return Boolean(e)&&!e.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return e instanceof Lt.Object&&(e.preventExtensions=!0),e},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",Lt.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",Lt.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",Lt.Object.prototype.valueOf),t=function(e){return n(this),this instanceof Lt.Object?String(e)in this.properties:this.hasOwnProperty(e)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",t),t=function(e){return n(this),this instanceof Lt.Object?Object.prototype.propertyIsEnumerable.call(this.properties,e):this.propertyIsEnumerable(e)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",t),t=function(e){for(;;){if(!(e=r.getPrototype(e)))return!1;if(e===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",t)},Lt.prototype.initArray=function(e){var t,r=this;t=function(e){if(r.calledWithNew())var t=this;else t=r.createArray();var n=arguments[0];if(1===arguments.length&&"number"==typeof n)isNaN(Lt.legalArrayLength(n))&&r.throwException(r.RANGE_ERROR,"Invalid array length"),t.properties.length=n;else{for(var o=0;o<arguments.length;o++)t.properties[o]=arguments[o];t.properties.length=o}return t},this.ARRAY=this.createNativeFunction(t,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(e,"Array",this.ARRAY,Lt.NONENUMERABLE_DESCRIPTOR),t=function(e){return e&&"Array"===e.class},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(t,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("Object.defineProperty(Array.prototype, 'pop',","{configurable: true, writable: true, value:","function pop() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}","});","Object.defineProperty(Array.prototype, 'push',","{configurable: true, writable: true, value:","function push(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}","});","Object.defineProperty(Array.prototype, 'shift',","{configurable: true, writable: true, value:","function shift() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","o[i] = o[i + 1];","}","delete o[i];","o.length = len - 1;","return value;","}","});","Object.defineProperty(Array.prototype, 'unshift',","{configurable: true, writable: true, value:","function unshift(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","o[i + arguments.length] = o[i];","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return o.length = len + arguments.length;","}","});","Object.defineProperty(Array.prototype, 'reverse',","{configurable: true, writable: true, value:","function reverse() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","o[i] = o[len - i - 1];","o[len - i - 1] = x;","}","return o;","}","});","Object.defineProperty(Array.prototype, 'indexOf',","{configurable: true, writable: true, value:","function indexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'lastIndexOf',","{configurable: true, writable: true, value:","function lastIndexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'slice',","{configurable: true, writable: true, value:","function slice(start, end) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = [];","for (var i = 0; i < size; i++) {","cloned[i] = o[start + i];","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'splice',","{configurable: true, writable: true, value:","function splice(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 1) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","removed[removed.length++] = o[i];","o[i] = o[i + deleteCount];","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","o[i] = o[i + deleteCount];","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","for (var i = len - 1; i >= start; i--) {","o[i + arguments.length - 2] = o[i];","}","len += arguments.length - 2;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","o.length = len;","return removed;","}","});","Object.defineProperty(Array.prototype, 'concat',","{configurable: true, writable: true, value:","function concat(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","cloned.push.apply(cloned, value);","} else {","cloned.push(value);","}","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'join',","{configurable: true, writable: true, value:","function join(opt_separator) {","if (!this) throw TypeError();","var o = Object(this);","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < o.length; i++) {","if (i && sep) {","str += sep;","}","str += o[i];","}","return str;","}","});","Object.defineProperty(Array.prototype, 'every',","{configurable: true, writable: true, value:","function(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","(function() {","var sort_ = Array.prototype.sort;","Array.prototype.sort = function(opt_comp) {","if (typeof opt_comp !== 'function') {","return sort_.call(this);","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp(this[j], this[j + 1]) > 0) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","};","})();","Object.defineProperty(Array.prototype, 'toLocaleString',","{configurable: true, writable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},Lt.prototype.initString=function(e){var t,r=this;t=function(e){return e=arguments.length?String(e):"",r.calledWithNew()?(this.data=e,this):e},this.STRING=this.createNativeFunction(t,!0),this.setProperty(e,"String",this.STRING),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),Lt.NONENUMERABLE_DESCRIPTOR);for(var n=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],o=0;o<n.length;o++)this.setNativeFunctionPrototype(this.STRING,n[o],String.prototype[n[o]]);t=function(e,t,n){return t=t?r.pseudoToNative(t):void 0,n=n?r.pseudoToNative(n):void 0,String(this).localeCompare(e,t,n)},this.setNativeFunctionPrototype(this.STRING,"localeCompare",t),t=function(e,t,n){var o=String(this);if(t=t?Number(t):void 0,r.isa(e,r.REGEXP)&&(e=e.data,r.maybeThrowRegExp(e,n),2===r.REGEXP_MODE))if(Lt.vm){var i={string:o,separator:e,limit:t};(c=r.vmCall("string.split(separator, limit)",i,e,n))!==Lt.REGEXP_TIMEOUT&&n(r.arrayNativeToPseudo(c))}else{var a=r.createWorker(),s=r.regExpTimeout(e,a,n);a.onmessage=function(e){clearTimeout(s),n(r.arrayNativeToPseudo(e.data))},a.postMessage(["split",o,e,t])}else{var c=o.split(e,t);n(r.arrayNativeToPseudo(c))}},this.setAsyncFunctionPrototype(this.STRING,"split",t),t=function(e,t){var n=String(this);if(e=r.isa(e,r.REGEXP)?e.data:new RegExp(e),r.maybeThrowRegExp(e,t),2!==r.REGEXP_MODE)o=n.match(e),t(o&&r.arrayNativeToPseudo(o));else if(Lt.vm){var o,i={string:n,regexp:e};(o=r.vmCall("string.match(regexp)",i,e,t))!==Lt.REGEXP_TIMEOUT&&t(o&&r.arrayNativeToPseudo(o))}else{var a=r.createWorker(),s=r.regExpTimeout(e,a,t);a.onmessage=function(e){clearTimeout(s),t(e.data&&r.arrayNativeToPseudo(e.data))},a.postMessage(["match",n,e])}},this.setAsyncFunctionPrototype(this.STRING,"match",t),t=function(e,t){var n=String(this);if(e=r.isa(e,r.REGEXP)?e.data:new RegExp(e),r.maybeThrowRegExp(e,t),2!==r.REGEXP_MODE)t(n.search(e));else if(Lt.vm){var o={string:n,regexp:e},i=r.vmCall("string.search(regexp)",o,e,t);i!==Lt.REGEXP_TIMEOUT&&t(i)}else{var a=r.createWorker(),s=r.regExpTimeout(e,a,t);a.onmessage=function(e){clearTimeout(s),t(e.data)},a.postMessage(["search",n,e])}},this.setAsyncFunctionPrototype(this.STRING,"search",t),t=function(e,t,n){var o=String(this);if(t=String(t),r.isa(e,r.REGEXP)&&(e=e.data,r.maybeThrowRegExp(e,n),2===r.REGEXP_MODE))if(Lt.vm){var i={string:o,substr:e,newSubstr:t},a=r.vmCall("string.replace(substr, newSubstr)",i,e,n);a!==Lt.REGEXP_TIMEOUT&&n(a)}else{var s=r.createWorker(),c=r.regExpTimeout(e,s,n);s.onmessage=function(e){clearTimeout(c),n(e.data)},s.postMessage(["replace",o,e,t])}else n(o.replace(e,t))},this.setAsyncFunctionPrototype(this.STRING,"replace",t),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},Lt.prototype.initBoolean=function(e){var t,r=this;t=function(e){return e=Boolean(e),r.calledWithNew()?(this.data=e,this):e},this.BOOLEAN=this.createNativeFunction(t,!0),this.setProperty(e,"Boolean",this.BOOLEAN)},Lt.prototype.initNumber=function(e){var t,r=this;t=function(e){return e=arguments.length?Number(e):0,r.calledWithNew()?(this.data=e,this):e},this.NUMBER=this.createNativeFunction(t,!0),this.setProperty(e,"Number",this.NUMBER);for(var n=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],o=0;o<n.length;o++)this.setProperty(this.NUMBER,n[o],Number[n[o]],Lt.READONLY_NONENUMERABLE_DESCRIPTOR);t=function(e){try{return Number(this).toExponential(e)}catch(e){r.throwException(r.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",t),t=function(e){try{return Number(this).toFixed(e)}catch(e){r.throwException(r.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",t),t=function(e){try{return Number(this).toPrecision(e)}catch(e){r.throwException(r.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",t),t=function(e){try{return Number(this).toString(e)}catch(e){r.throwException(r.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",t),t=function(e,t){return e=e?r.pseudoToNative(e):void 0,t=t?r.pseudoToNative(t):void 0,Number(this).toLocaleString(e,t)},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",t)},Lt.prototype.initDate=function(e){var t,r=this;t=function(e,t){if(!r.calledWithNew())return Date();var n=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(Date,n)),this},this.DATE=this.createNativeFunction(t,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(e,"Date",this.DATE),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),Lt.NONENUMERABLE_DESCRIPTOR);for(var n=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],o=0;o<n.length;o++)t=function(e){return function(t){for(var n=[],o=0;o<arguments.length;o++)n[o]=r.pseudoToNative(arguments[o]);return this.data[e].apply(this.data,n)}}(n[o]),this.setNativeFunctionPrototype(this.DATE,n[o],t)},Lt.prototype.initRegExp=function(e){var t,r=this;t=function(e,t){if(r.calledWithNew())var n=this;else n=r.createObjectProto(r.REGEXP_PROTO);return e=e?String(e):"",t=t?String(t):"",r.populateRegExp(n,new RegExp(e,t)),n},this.REGEXP=this.createNativeFunction(t,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(e,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function(str) {","return String(str).search(this) !== -1","}","});"),t=function(e,t){var n=this.data;if(e=String(e),n.lastIndex=Number(r.getProperty(this,"lastIndex")),r.maybeThrowRegExp(n,t),2!==r.REGEXP_MODE)o=n.exec(e),r.setProperty(this,"lastIndex",n.lastIndex),t(p(o));else if(Lt.vm){var o,i={string:e,regexp:n};(o=r.vmCall("regexp.exec(string)",i,n,t))!==Lt.REGEXP_TIMEOUT&&(r.setProperty(this,"lastIndex",n.lastIndex),t(p(o)))}else{var a=r.createWorker(),s=r.regExpTimeout(n,a,t),c=this;a.onmessage=function(e){clearTimeout(s),r.setProperty(c,"lastIndex",e.data[1]),t(p(e.data[0]))},a.postMessage(["exec",n,n.lastIndex,e])}function p(e){if(e){var t=r.arrayNativeToPseudo(e);return r.setProperty(t,"index",e.index),r.setProperty(t,"input",e.input),t}return null}},this.setAsyncFunctionPrototype(this.REGEXP,"exec",t)},Lt.prototype.initError=function(e){var t=this;this.ERROR=this.createNativeFunction((function(e){if(t.calledWithNew())var r=this;else r=t.createObject(t.ERROR);return e&&t.setProperty(r,"message",String(e),Lt.NONENUMERABLE_DESCRIPTOR),r}),!0),this.setProperty(e,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message","",Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",Lt.NONENUMERABLE_DESCRIPTOR);var r=function(r){var n=t.createNativeFunction((function(e){if(t.calledWithNew())var r=this;else r=t.createObject(n);return e&&t.setProperty(r,"message",String(e),Lt.NONENUMERABLE_DESCRIPTOR),r}),!0);return t.setProperty(n,"prototype",t.createObject(t.ERROR),Lt.NONENUMERABLE_DESCRIPTOR),t.setProperty(n.properties.prototype,"name",r,Lt.NONENUMERABLE_DESCRIPTOR),t.setProperty(e,r,n),n};this.EVAL_ERROR=r("EvalError"),this.RANGE_ERROR=r("RangeError"),this.REFERENCE_ERROR=r("ReferenceError"),this.SYNTAX_ERROR=r("SyntaxError"),this.TYPE_ERROR=r("TypeError"),this.URI_ERROR=r("URIError")},Lt.prototype.initMath=function(e){var t=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"Math",t);for(var r=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],n=0;n<r.length;n++)this.setProperty(t,r[n],Math[r[n]],Lt.READONLY_NONENUMERABLE_DESCRIPTOR);var o=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"];for(n=0;n<o.length;n++)this.setProperty(t,o[n],this.createNativeFunction(Math[o[n]],!1),Lt.NONENUMERABLE_DESCRIPTOR)},Lt.prototype.initJSON=function(e){var t=this,r=t.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"JSON",r);var n=function(e){try{var r=JSON.parse(String(e))}catch(e){t.throwException(t.SYNTAX_ERROR,e.message)}return t.nativeToPseudo(r)};this.setProperty(r,"parse",this.createNativeFunction(n,!1)),n=function(e,r,n){r&&"Function"===r.class?t.throwException(t.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):r=r&&"Array"===r.class?(r=t.arrayPseudoToNative(r)).filter((function(e){return"string"==typeof e||"number"==typeof e})):null,"string"!=typeof n&&"number"!=typeof n&&(n=void 0);var o=t.pseudoToNative(e);try{var i=JSON.stringify(o,r,n)}catch(e){t.throwException(t.TYPE_ERROR,e.message)}return i},this.setProperty(r,"stringify",this.createNativeFunction(n,!1))},Lt.prototype.isa=function(e,t){if(null==e||!t)return!1;var r=t.properties.prototype;if(e===r)return!0;for(e=this.getPrototype(e);e;){if(e===r)return!0;e=e.proto}return!1},Lt.prototype.populateRegExp=function(e,t){e.data=new RegExp(t.source,t.flags),this.setProperty(e,"lastIndex",t.lastIndex,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",t.source,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",t.global,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",t.ignoreCase,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",t.multiline,Lt.READONLY_NONENUMERABLE_DESCRIPTOR)},Lt.prototype.createWorker=function(){var e=this.createWorker.blob_;return e||(e=new Blob([Lt.WORKER_CODE.join("\n")],{type:"application/javascript"}),this.createWorker.blob_=e),new Worker(URL.createObjectURL(e))},Lt.prototype.vmCall=function(e,t,r,n){var o={timeout:this.REGEXP_THREAD_TIMEOUT};try{return Lt.vm.runInNewContext(e,t,o)}catch(e){n(null),this.throwException(this.ERROR,"RegExp Timeout: "+r)}return Lt.REGEXP_TIMEOUT},Lt.prototype.maybeThrowRegExp=function(e,t){var n;if(0===this.REGEXP_MODE)n=!1;else if(1===this.REGEXP_MODE)n=!0;else if(Lt.vm)n=!0;else if("function"==typeof Worker&&"function"==typeof URL)n=!0;else{try{Lt.vm=r(790)}catch(e){}n=!!Lt.vm}n||(t(null),this.throwException(this.ERROR,"Regular expressions not supported: "+e))},Lt.prototype.regExpTimeout=function(e,t,r){var n=this;return setTimeout((function(){t.terminate(),r(null);try{n.throwException(n.ERROR,"RegExp Timeout: "+e)}catch(e){}}),this.REGEXP_THREAD_TIMEOUT)},Lt.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},Lt.prototype.createObjectProto=function(e){if("object"!=typeof e)throw Error("Non object prototype");var t=new Lt.Object(e);return this.isa(t,this.ERROR)&&(t.class="Error"),t},Lt.prototype.createArray=function(){var e=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(e,"length",0,{configurable:!1,enumerable:!1,writable:!0}),e.class="Array",e},Lt.prototype.createFunctionBase_=function(e,t){var r=this.createObjectProto(this.FUNCTION_PROTO);if(t){var n=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(r,"prototype",n,Lt.NONENUMERABLE_DESCRIPTOR),this.setProperty(n,"constructor",r,Lt.NONENUMERABLE_DESCRIPTOR)}else r.illegalConstructor=!0;return this.setProperty(r,"length",e,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),r.class="Function",r},Lt.prototype.createFunction=function(e,t,r){var n=this.createFunctionBase_(e.params.length,!0);n.parentScope=t,n.node=e;var o=e.id?String(e.id.name):r||"";return this.setProperty(n,"name",o,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),n},Lt.prototype.createNativeFunction=function(e,t){var r=this.createFunctionBase_(e.length,t);return r.nativeFunc=e,e.id=this.functionCounter_++,this.setProperty(r,"name",e.name,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),r},Lt.prototype.createAsyncFunction=function(e){var t=this.createFunctionBase_(e.length,!0);return t.asyncFunc=e,e.id=this.functionCounter_++,this.setProperty(t,"name",e.name,Lt.READONLY_NONENUMERABLE_DESCRIPTOR),t},Lt.prototype.nativeToPseudo=function(e){if(e instanceof Lt.Object)throw Error("Object is already pseudo");if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(e instanceof RegExp){var t=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(t,e),t}if(e instanceof Date){var r=this.createObjectProto(this.DATE_PROTO);return r.data=new Date(e.valueOf()),r}if("object"==typeof e&&e.hasOwnProperty("_s8async"))return this.createAsyncFunction(e.run);if("function"==typeof e){var n=this,o=Object.getOwnPropertyDescriptor(e,"prototype");return this.createNativeFunction((function(){var t=Array.prototype.slice.call(arguments).map((function(e){return n.pseudoToNative(e)})),r=e.apply(n,t);return n.nativeToPseudo(r)}),!!o)}if(Array.isArray(e)){for(var i=this.createArray(),a=0;a<e.length;a++)a in e&&this.setProperty(i,a,this.nativeToPseudo(e[a]));return i}var s=this.createObjectProto(this.OBJECT_PROTO);for(var c in e)this.setProperty(s,c,this.nativeToPseudo(e[c]));return s},Lt.prototype.pseudoToNative=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(!(e instanceof Lt.Object))throw Error("Object is not pseudo");if(this.isa(e,this.REGEXP)){var r=new RegExp(e.data.source,e.data.flags);return r.lastIndex=e.data.lastIndex,r}if(this.isa(e,this.DATE))return new Date(e.data.valueOf());var n,o=t||{pseudo:[],native:[]};if(-1!==(a=o.pseudo.indexOf(e)))return o.native[a];if(o.pseudo.push(e),this.isa(e,this.ARRAY)){n=[],o.native.push(n);for(var i=this.getProperty(e,"length"),a=0;a<i;a++)this.hasProperty(e,a)&&(n[a]=this.pseudoToNative(this.getProperty(e,a),o))}else{var s;for(var c in n={},o.native.push(n),e.properties)s=this.pseudoToNative(e.properties[c],o),Object.defineProperty(n,c,{value:s,writable:!0,enumerable:!0,configurable:!0})}return o.pseudo.pop(),o.native.pop(),n},Lt.prototype.arrayNativeToPseudo=function(e){for(var t=this.createArray(),r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++)this.setProperty(t,r[n],e[r[n]]);return t},Lt.prototype.arrayPseudoToNative=function(e){var t=[];for(var r in e.properties)t[r]=this.getProperty(e,r);return t.length=Lt.legalArrayLength(this.getProperty(e,"length"))||0,t},Lt.prototype.getPrototype=function(e){switch(typeof e){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return e?e.proto:null},Lt.prototype.getProperty=function(e,t){if(this.getterStep_)throw Error("Getter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof Lt.Object))throw TypeError("Expecting native value or pseudo object");if("length"===t){if(this.isa(e,this.STRING))return String(e).length}else if(t.charCodeAt(0)<64&&this.isa(e,this.STRING)){var r=Lt.legalArrayIndex(t);if(!isNaN(r)&&r<String(e).length)return String(e)[r]}do{if(e.properties&&t in e.properties){var n=e.getter[t];return n?(this.getterStep_=!0,n):e.properties[t]}}while(e=this.getPrototype(e))},Lt.prototype.hasProperty=function(e,t){if(!(e instanceof Lt.Object))throw TypeError("Primitive data type has no properties");if("length"===(t=String(t))&&this.isa(e,this.STRING))return!0;if(this.isa(e,this.STRING)){var r=Lt.legalArrayIndex(t);if(!isNaN(r)&&r<String(e).length)return!0}do{if(e.properties&&t in e.properties)return!0}while(e=this.getPrototype(e));return!1},Lt.prototype.setProperty=function(e,t,r,n){if(this.setterStep_)throw Error("Setter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof Lt.Object))throw TypeError("Expecting native value or pseudo object");n&&("get"in n||"set"in n)&&("value"in n||"writable"in n)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var o=!this.stateStack||this.getScope().strict;if(e instanceof Lt.Object){if(this.isa(e,this.STRING)){var i=Lt.legalArrayIndex(t);if("length"===t||!isNaN(i)&&i<String(e).length)return void(o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of String '"+e.data+"'"))}if("Array"===e.class){var a,s=e.properties.length;if("length"===t){if(n){if(!("value"in n))return;r=n.value}if(r=Lt.legalArrayLength(r),isNaN(r)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),r<s)for(a in e.properties)a=Lt.legalArrayIndex(a),!isNaN(a)&&r<=a&&delete e.properties[a]}else isNaN(a=Lt.legalArrayIndex(t))||(e.properties.length=Math.max(s,a+1))}if(!e.preventExtensions||t in e.properties)if(n){var c={};"get"in n&&n.get&&(e.getter[t]=n.get,c.get=this.setProperty.placeholderGet_),"set"in n&&n.set&&(e.setter[t]=n.set,c.set=this.setProperty.placeholderSet_),c={},"configurable"in n&&(c.configurable=n.configurable),"enumerable"in n&&(c.enumerable=n.enumerable),"writable"in n&&(c.writable=n.writable,delete e.getter[t],delete e.setter[t]),"value"in n?(c.value=n.value,delete e.getter[t],delete e.setter[t]):r!==Lt.VALUE_IN_DESCRIPTOR&&(c.value=r,delete e.getter[t],delete e.setter[t]);try{Object.defineProperty(e.properties,t,c)}catch(e){this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+t)}"get"in n&&!n.get&&delete e.getter[t],"set"in n&&!n.set&&delete e.setter[t]}else{if(r===Lt.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified.");for(var p=e;!(t in p.properties);)if(!(p=this.getPrototype(p))){p=e;break}if(p.setter&&p.setter[t])return this.setterStep_=!0,p.setter[t];if(p.getter&&p.getter[t])o&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of object '"+e+"' which only has a getter");else try{e.properties[t]=r}catch(r){o&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of object '"+e+"'")}}else o&&this.throwException(this.TYPE_ERROR,"Can't add property '"+t+"', object is not extensible")}else o&&this.throwException(this.TYPE_ERROR,"Can't create property '"+t+"' on '"+e+"'")},Lt.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},Lt.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},Lt.prototype.setNativeFunctionPrototype=function(e,t,r){this.setProperty(e.properties.prototype,t,this.createNativeFunction(r,!1),Lt.NONENUMERABLE_DESCRIPTOR)},Lt.prototype.setAsyncFunctionPrototype=function(e,t,r){this.setProperty(e.properties.prototype,t,this.createAsyncFunction(r),Lt.NONENUMERABLE_DESCRIPTOR)},Lt.prototype.getScope=function(){var e=this.stateStack[this.stateStack.length-1].scope;if(!e)throw Error("No scope found.");return e},Lt.prototype.createScope=function(e,t){var r=!1;if(t&&t.strict)r=!0;else{var n=e.body&&e.body[0];n&&n.expression&&"Literal"===n.expression.type&&"use strict"===n.expression.value&&(r=!0)}var o=this.createObjectProto(null),i=new Lt.Scope(t,r,o);return t||this.initGlobal(i.object),this.populateScope_(e,i),i},Lt.prototype.createSpecialScope=function(e,t){if(!e)throw Error("parentScope required");var r=t||this.createObjectProto(null);return new Lt.Scope(e,e.strict,r)},Lt.prototype.getValueFromScope=function(e){for(var t=this.getScope();t&&t!==this.globalScope;){if(e in t.object.properties)return t.object.properties[e];t=t.parentScope}if(t===this.globalScope&&this.hasProperty(t.object,e))return this.getProperty(t.object,e);var r=this.stateStack[this.stateStack.length-1].node;"UnaryExpression"===r.type&&"typeof"===r.operator||this.throwException(this.REFERENCE_ERROR,e+" is not defined")},Lt.prototype.setValueToScope=function(e,t){for(var r=this.getScope(),n=r.strict;r&&r!==this.globalScope;){if(e in r.object.properties)return void(r.object.properties[e]=t);r=r.parentScope}if(r===this.globalScope&&(!n||this.hasProperty(r.object,e)))return this.setProperty(r.object,e,t);this.throwException(this.REFERENCE_ERROR,e+" is not defined")},Lt.prototype.populateScope_=function(e,t){if("VariableDeclaration"===e.type)for(var r=0;r<e.declarations.length;r++)this.setProperty(t.object,e.declarations[r].id.name,void 0,Lt.VARIABLE_DESCRIPTOR);else{if("FunctionDeclaration"===e.type)return void this.setProperty(t.object,e.id.name,this.createFunction(e,t),Lt.VARIABLE_DESCRIPTOR);if("FunctionExpression"===e.type)return;if("ExpressionStatement"===e.type)return}var n=e.constructor;for(var o in e){var i=e[o];if(i&&"object"==typeof i)if(Array.isArray(i))for(r=0;r<i.length;r++)i[r]&&i[r].constructor===n&&this.populateScope_(i[r],t);else i.constructor===n&&this.populateScope_(i,t)}},Lt.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},Lt.prototype.getValue=function(e){return e[0]===Lt.SCOPE_REFERENCE?this.getValueFromScope(e[1]):this.getProperty(e[0],e[1])},Lt.prototype.setValue=function(e,t){return e[0]===Lt.SCOPE_REFERENCE?this.setValueToScope(e[1],t):this.setProperty(e[0],e[1],t)},Lt.prototype.throwException=function(e,t){if(void 0===t)var r=e;else r=this.createObject(e),this.setProperty(r,"message",t,Lt.NONENUMERABLE_DESCRIPTOR);throw this.unwind(Lt.Completion.THROW,r,void 0),Lt.STEP_ERROR},Lt.prototype.createThrowable=function(e,t){return new Lt.Throwable(e,t)},Lt.prototype.handleNativeResult_=function(e,t,r){if(r instanceof Lt.Callback)return r.pushState_(this,t),e.cb_=r,e.doneExec_=!1,r.state_;if(r instanceof Lt.Throwable)r.throw_(this);else{var n=e.cb_;n&&(n.stateless_?n.value=r:n.state_.value=r),e.value=r}},Lt.prototype.unwind=function(e,t,r){if(e===Lt.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");e:for(var n=this.stateStack;n.length>0;n.pop()){var o=n[n.length-1];switch(o.node.type){case"TryStatement":return void(o.cv={type:e,value:t,label:r});case"CallExpression":case"NewExpression":if(e===Lt.Completion.RETURN)return void(o.value=t);if(e!==Lt.Completion.THROW)throw Error("Unsynatctic break/continue not rejected by Acorn");break;case"CallExpressionFunc_":if(e===Lt.Completion.THROW&&o.catch_)return void(o.throw_=t);continue;case"Program":o.done=!0;break e}if(e===Lt.Completion.BREAK){if(r?o.labels&&-1!==o.labels.indexOf(r):o.isLoop||o.isSwitch)return void n.pop()}else if(e===Lt.Completion.CONTINUE&&(r?o.labels&&-1!==o.labels.indexOf(r):o.isLoop))return}var i;if(this.isa(t,this.ERROR)){var a={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},s=String(this.getProperty(t,"name")),c=this.getProperty(t,"message").valueOf();i=(a[s]||Error)(c)}else i=String(t);throw i},Lt.prototype.createGetter_=function(e,t){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var r=Array.isArray(t)?t[0]:t,n=new this.nodeConstructor({options:{}});n.type="CallExpression";var o=new Lt.State(n,this.stateStack[this.stateStack.length-1].scope);return o.doneCallee_=!0,o.funcThis_=r,o.func_=e,o.doneArgs_=!0,o.arguments_=[],o},Lt.prototype.createSetter_=function(e,t,r){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var n=Array.isArray(t)?t[0]:this.globalObject,o=new this.nodeConstructor({options:{}});o.type="CallExpression";var i=new Lt.State(o,this.stateStack[this.stateStack.length-1].scope);return i.doneCallee_=!0,i.funcThis_=n,i.func_=e,i.doneArgs_=!0,i.arguments_=[r],i},Lt.prototype.boxThis_=function(e){if(null==e)return this.globalObject;if(!(e instanceof Lt.Object)){var t=this.createObjectProto(this.getPrototype(e));return t.data=e,t}return e},Lt.Value,Lt.State=function(e,t){this.node=e,this.scope=t},Lt.Scope=function(e,t,r){this.parentScope=e,this.strict=t,this.object=r},Lt.Throwable=function(e,t){this.errorClass=e,this.opt_message=t},Lt.Throwable.prototype.throw_=function(e){e.throwException(this.errorClass,this.opt_message)},Lt.Callback=function(e,t){this.node_=e,this.handlers_=[],this.catch_=null,this.node_.cb_=this,this.queued_=t},Lt.Callback.prototype.then=function(e){if("function"!=typeof e)throw new Error('Expected function for "then" handler');return this.handlers_.push(e),this},Lt.Callback.prototype.catch=function(e){if("function"!=typeof e)throw new Error('Expected function for "catch" handler');if(this.catch_)throw new Error('"catch" already defined');return this.catch_=e,this},Lt.Callback.prototype.pushState_=function(e,t){this.stateless_||(this.state_||(this.state_=new Lt.State(this.node_,t)),e.stateStack.push(this.state_))},Lt.Callback.prototype.doNext_=function(e){var t=this.handlers_.shift();return t?(this.force_=this.handlers_.length,t(this.stateless_?this.value:this.state_.value,e)):this.stateless_?void 0:e?void e(this.state_.value):this.state_.value},Lt.Object=function(e){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},Lt.Object.prototype.proto=null,Lt.Object.prototype.class="Object",Lt.Object.prototype.data=null,Lt.Object.prototype.toString=function(){if(!(this instanceof Lt.Object))return String(this);if("Array"===this.class){(i=Lt.toStringCycles_).push(this);try{var e=[],t=this.properties.length,r=!1;t>1024&&(t=1e3,r=!0);for(var n=0;n<t;n++){var o=this.properties[n];e[n]=o instanceof Lt.Object&&-1!==i.indexOf(o)?"...":o}r&&e.push("...")}finally{i.pop()}return e.join(",")}if("Error"===this.class){var i,a,s;if(-1!==(i=Lt.toStringCycles_).indexOf(this))return"[object Error]";var c=this;do{if("name"in c.properties){a=c.properties.name;break}}while(c=c.proto);c=this;do{if("message"in c.properties){s=c.properties.message;break}}while(c=c.proto);i.push(this);try{a=a&&String(a),s=s&&String(s)}finally{i.pop()}return s?a+": "+s:String(a)}return null!==this.data?String(this.data):"[object "+this.class+"]"},Lt.Object.prototype.valueOf=function(){return void 0===this.data||null===this.data||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data},Lt.prototype.stepArrayExpression=function(e,t,r){var n=r.elements,o=t.n_||0;for(t.array_?(this.setProperty(t.array_,o,t.value),o++):(t.array_=this.createArray(),t.array_.properties.length=n.length);o<n.length;){if(n[o])return t.n_=o,new Lt.State(n[o],t.scope);o++}e.pop(),e[e.length-1].value=t.array_},Lt.prototype.stepAssignmentExpression=function(e,t,r){if(!t.doneLeft_){t.doneLeft_=!0;var n=new Lt.State(r.left,t.scope);return n.components=!0,n}if(!t.doneRight_){if(t.leftReference_||(t.leftReference_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_&&"="!==r.operator){var o=this.getValue(t.leftReference_);if(t.leftValue_=o,this.getterStep_){t.doneGetter_=!0;var i=o;return this.createGetter_(i,t.leftReference_)}}return t.doneRight_=!0,"="===r.operator&&"Identifier"===r.left.type&&(t.destinationName=r.left.name),new Lt.State(r.right,t.scope)}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.setterValue_);var a=t.leftValue_,s=t.value;switch(r.operator){case"=":a=s;break;case"+=":a+=s;break;case"-=":a-=s;break;case"*=":a*=s;break;case"/=":a/=s;break;case"%=":a%=s;break;case"<<=":a<<=s;break;case">>=":a>>=s;break;case">>>=":a>>>=s;break;case"&=":a&=s;break;case"^=":a^=s;break;case"|=":a|=s;break;default:throw SyntaxError("Unknown assignment expression: "+r.operator)}var c=this.setValue(t.leftReference_,a);if(c)return t.doneSetter_=!0,t.setterValue_=a,this.createSetter_(c,t.leftReference_,a);e.pop(),e[e.length-1].value=a},Lt.prototype.stepBinaryExpression=function(e,t,r){if(!t.doneLeft_)return t.doneLeft_=!0,new Lt.State(r.left,t.scope);if(!t.doneRight_)return t.doneRight_=!0,t.leftValue_=t.value,new Lt.State(r.right,t.scope);e.pop();var n,o=t.leftValue_,i=t.value;switch(r.operator){case"==":n=o==i;break;case"!=":n=o!=i;break;case"===":n=o===i;break;case"!==":n=o!==i;break;case">":n=o>i;break;case">=":n=o>=i;break;case"<":n=o<i;break;case"<=":n=o<=i;break;case"+":n=o+i;break;case"-":n=o-i;break;case"*":n=o*i;break;case"/":n=o/i;break;case"%":n=o%i;break;case"&":n=o&i;break;case"|":n=o|i;break;case"^":n=o^i;break;case"<<":n=o<<i;break;case">>":n=o>>i;break;case">>>":n=o>>>i;break;case"in":i instanceof Lt.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+i+"'"),n=this.hasProperty(i,o);break;case"instanceof":this.isa(i,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Right-hand side of instanceof is not an object"),n=o instanceof Lt.Object&&this.isa(o,i);break;default:throw SyntaxError("Unknown binary operator: "+r.operator)}e[e.length-1].value=n},Lt.prototype.stepBlockStatement=function(e,t,r){var n=t.n_||0,o=r.body[n];if(o)return t.n_=n+1,new Lt.State(o,t.scope);e.pop()},Lt.prototype.stepBreakStatement=function(e,t,r){var n=r.label&&r.label.name;this.unwind(Lt.Completion.BREAK,void 0,n)},Lt.prototype.stepCallExpression=function(t,r,n){if(!r.doneCallee_){r.doneCallee_=1;var o=new Lt.State(n.callee,r.scope);return o.components=!0,o}if(1===r.doneCallee_){r.doneCallee_=2;var i=r.value;if(Array.isArray(i)){if(r.func_=this.getValue(i),i[0]===Lt.SCOPE_REFERENCE?r.directEval_="eval"===i[1]:r.funcThis_=i[0],i=r.func_,this.getterStep_)return r.doneCallee_=1,this.createGetter_(i,r.value)}else r.func_=i;r.arguments_=[],r.n_=0}if(i=r.func_,!r.doneArgs_){if(0!==r.n_&&r.arguments_.push(r.value),n.arguments[r.n_])return new Lt.State(n.arguments[r.n_++],r.scope);if("NewExpression"===n.type){if(i instanceof Lt.Object&&!i.illegalConstructor||this.throwException(this.TYPE_ERROR,i+" is not a constructor"),i===this.ARRAY)r.funcThis_=this.createArray();else{var a=i.properties.prototype;"object"==typeof a&&null!==a||(a=this.OBJECT_PROTO),r.funcThis_=this.createObjectProto(a)}r.isConstructor=!0}else void 0===r.funcThis_&&(r.funcThis_=r.scope.strict?void 0:this.globalObject);r.doneArgs_=!0}if(r.cb_&&r.cb_.force_&&(r.doneExec_=!1,r.cb_.force_=!1),r.doneExec_)t.pop(),r.isConstructor&&"object"!=typeof r.value?t[t.length-1].value=r.funcThis_:t[t.length-1].value=r.value;else{r.doneExec_=!0,i instanceof Lt.Object||this.throwException(this.TYPE_ERROR,i+" is not a function");var s=i.node;if(s){for(var c=this.createScope(s.body,i.parentScope),p=0;p<s.params.length;p++){var u=s.params[p].name,l=r.arguments_.length>p?r.arguments_[p]:void 0;this.setProperty(c.object,u,l)}var h=this.createArray();for(p=0;p<r.arguments_.length;p++)this.setProperty(h,p,r.arguments_[p]);this.setProperty(c.object,"arguments",h);var f=s.id&&s.id.name;return f&&this.setProperty(c.object,f,i),c.strict||(r.funcThis_=this.boxThis_(r.funcThis_)),this.setProperty(c.object,"this",r.funcThis_,Lt.READONLY_DESCRIPTOR),r.value=void 0,new Lt.State(s.body,c)}if(i.eval){var d=r.arguments_[0];if("string"==typeof d){try{var y=e.parse(String(d),Lt.PARSE_OPTIONS)}catch(e){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+e.message)}var E=new this.nodeConstructor({options:{}});return E.type="EvalProgram_",E.body=y.body,Lt.stripLocations_(E,n.start,n.end),(c=r.directEval_?r.scope:this.globalScope).strict?c=this.createScope(y,c):this.populateScope_(y,c),this.value=void 0,new Lt.State(E,c)}r.value=d}else{if(i.nativeFunc)return r.scope.strict||(r.funcThis_=this.boxThis_(r.funcThis_)),void this.handleNativeResult_(r,c,r.cb_?r.cb_.doNext_():i.nativeFunc.apply(r.funcThis_,r.arguments_));if(i.asyncFunc){var v=this,g=function(e){r.value=e,v.paused_=!1,v.handleNativeResult_(r,c,e)};if(this.paused_=!0,r.cb_)return void r.cb_.doNext_(g);var b=i.asyncFunc.length-1,_=r.arguments_.concat(new Array(b)).slice(0,b);return _.push(g),r.scope.strict||(r.funcThis_=this.boxThis_(r.funcThis_)),void i.asyncFunc.apply(r.funcThis_,_)}this.throwException(this.TYPE_ERROR,i.class+" is not callable")}}},Lt.prototype.stepCatchClause=function(e,t,r){if(!t.done_){t.done_=!0;var n=this.createSpecialScope(t.scope);return this.setProperty(n.object,r.param.name,t.throwValue),new Lt.State(r.body,n)}e.pop()},Lt.prototype.stepConditionalExpression=function(e,t,r){var n=t.mode_||0;if(0===n)return t.mode_=1,new Lt.State(r.test,t.scope);if(1===n){t.mode_=2;var o=Boolean(t.value);if(o&&r.consequent)return new Lt.State(r.consequent,t.scope);if(!o&&r.alternate)return new Lt.State(r.alternate,t.scope);this.value=void 0}e.pop(),"ConditionalExpression"===r.type&&(e[e.length-1].value=t.value)},Lt.prototype.stepContinueStatement=function(e,t,r){var n=r.label&&r.label.name;this.unwind(Lt.Completion.CONTINUE,void 0,n)},Lt.prototype.stepDebuggerStatement=function(e,t,r){e.pop()},Lt.prototype.stepDoWhileStatement=function(e,t,r){if("DoWhileStatement"===r.type&&void 0===t.test_&&(t.value=!0,t.test_=!0),!t.test_)return t.test_=!0,new Lt.State(r.test,t.scope);if(t.value){if(r.body)return t.test_=!1,t.isLoop=!0,new Lt.State(r.body,t.scope)}else e.pop()},Lt.prototype.stepEmptyStatement=function(e,t,r){e.pop()},Lt.prototype.stepEvalProgram_=function(e,t,r){var n=t.n_||0,o=r.body[n];if(o)return t.n_=n+1,new Lt.State(o,t.scope);e.pop(),e[e.length-1].value=this.value},Lt.prototype.stepCallExpressionFunc_=function(e,t,r){var n=r.cb_,o=n.queued_;if(!t.done_){t.done_=!0;var i=new this.nodeConstructor({options:{}});i.type="CallExpression";var a=new Lt.State(i,r.scope_||t.scope);return a.doneCallee_=!0,a.funcThis_=r.funcThis_,a.func_=r.func_,a.doneArgs_=!0,a.arguments_=r.arguments_,t.catch_=n.catch_,a}if(o&&n.handlers_.length&&!t.throw_){var s=n.handlers_.shift();this.handleNativeResult_(t,r.funcThis_,s(t.value))}else{if(t.catch_&&t.throw_){if(o)return this.handleNativeResult_(t,r.funcThis_,t.catch_(t.throw_)),void(t.catch_=null);n.stateless_=!0,n.handlers_=[t.catch_],n.value=t.throw_,n.force_=!0}e.pop(),1===this.stateStack.length&&(this.value=t.value)}},Lt.prototype.stepExpressionStatement=function(e,t,r){if(!t.done_)return t.done_=!0,new Lt.State(r.expression,t.scope);e.pop(),this.value=t.value},Lt.prototype.stepForInStatement=function(e,t,r){if(!t.doneInit_&&(t.doneInit_=!0,r.left.declarations&&r.left.declarations[0].init))return t.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer."),new Lt.State(r.left,t.scope);if(!t.doneObject_)return t.doneObject_=!0,t.variable_||(t.variable_=t.value),new Lt.State(r.right,t.scope);if(t.isLoop||(t.isLoop=!0,t.object_=t.value,t.visited_=Object.create(null)),void 0===t.name_)e:for(;;){if(t.object_ instanceof Lt.Object){for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_.properties));void 0!==(n=t.props_.shift());)if(Object.prototype.hasOwnProperty.call(t.object_.properties,n)&&!t.visited_[n]&&(t.visited_[n]=!0,Object.prototype.propertyIsEnumerable.call(t.object_.properties,n))){t.name_=n;break e}}else if(null!==t.object_&&void 0!==t.object_)for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_));;){var n;if(void 0===(n=t.props_.shift()))break;if(t.visited_[n]=!0,Object.prototype.propertyIsEnumerable.call(t.object_,n)){t.name_=n;break e}}if(t.object_=this.getPrototype(t.object_),t.props_=null,null===t.object_)return void e.pop()}if(!t.doneVariable_){t.doneVariable_=!0;var o=r.left;if("VariableDeclaration"!==o.type){t.variable_=null;var i=new Lt.State(o,t.scope);return i.components=!0,i}t.variable_=[Lt.SCOPE_REFERENCE,o.declarations[0].id.name]}if(t.variable_||(t.variable_=t.value),!t.doneSetter_){t.doneSetter_=!0;var a=t.name_,s=this.setValue(t.variable_,a);if(s)return this.createSetter_(s,t.variable_,a)}return t.name_=void 0,t.doneVariable_=!1,t.doneSetter_=!1,r.body?new Lt.State(r.body,t.scope):void 0},Lt.prototype.stepForStatement=function(e,t,r){var n=t.mode_||0;if(0===n){if(t.mode_=1,r.init)return new Lt.State(r.init,t.scope)}else if(1===n){if(t.mode_=2,r.test)return new Lt.State(r.test,t.scope)}else if(2===n){if(t.mode_=3,!r.test||t.value)return t.isLoop=!0,new Lt.State(r.body,t.scope);e.pop()}else if(3===n&&(t.mode_=1,r.update))return new Lt.State(r.update,t.scope)},Lt.prototype.stepFunctionDeclaration=function(e,t,r){e.pop()},Lt.prototype.stepFunctionExpression=function(e,t,r){e.pop(),(t=e[e.length-1]).value=this.createFunction(r,t.scope,t.destinationName)},Lt.prototype.stepIdentifier=function(e,t,r){if(e.pop(),t.components)e[e.length-1].value=[Lt.SCOPE_REFERENCE,r.name];else{var n=this.getValueFromScope(r.name);if(this.getterStep_){for(var o=t.scope;o!==this.globalScope&&!this.hasProperty(o,r.name);)o=o.parentScope;var i=n;return this.createGetter_(i,this.globalObject)}e[e.length-1].value=n}},Lt.prototype.stepIfStatement=Lt.prototype.stepConditionalExpression,Lt.prototype.stepLabeledStatement=function(e,t,r){e.pop();var n=t.labels||[];n.push(r.label.name);var o=new Lt.State(r.body,t.scope);return o.labels=n,o},Lt.prototype.stepLiteral=function(e,t,r){e.pop();var n=r.value;if(n instanceof RegExp){var o=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(o,n),n=o}e[e.length-1].value=n},Lt.prototype.stepLogicalExpression=function(e,t,r){if("&&"!==r.operator&&"||"!==r.operator)throw SyntaxError("Unknown logical operator: "+r.operator);if(!t.doneLeft_)return t.doneLeft_=!0,new Lt.State(r.left,t.scope);if(t.doneRight_)e.pop(),e[e.length-1].value=t.value;else{if(!("&&"===r.operator&&!t.value||"||"===r.operator&&t.value))return t.doneRight_=!0,new Lt.State(r.right,t.scope);e.pop(),e[e.length-1].value=t.value}},Lt.prototype.stepMemberExpression=function(e,t,r){if(!t.doneObject_)return t.doneObject_=!0,new Lt.State(r.object,t.scope);var n;if(r.computed){if(!t.doneProperty_)return t.object_=t.value,t.doneProperty_=!0,new Lt.State(r.property,t.scope);n=t.value}else t.object_=t.value,n=r.property.name;if(e.pop(),t.components)e[e.length-1].value=[t.object_,n];else{var o=this.getProperty(t.object_,n);if(this.getterStep_){var i=o;return this.createGetter_(i,t.object_)}e[e.length-1].value=o}},Lt.prototype.stepNewExpression=Lt.prototype.stepCallExpression,Lt.prototype.stepObjectExpression=function(e,t,r){var n=t.n_||0,o=r.properties[n];if(t.object_){var i=t.destinationName;t.properties_[i]||(t.properties_[i]={}),t.properties_[i][o.kind]=t.value,t.n_=++n,o=r.properties[n]}else t.object_=this.createObjectProto(this.OBJECT_PROTO),t.properties_=Object.create(null);if(o){if("Identifier"===(a=o.key).type)i=a.name;else{if("Literal"!==a.type)throw SyntaxError("Unknown object structure: "+a.type);i=a.value}return t.destinationName=i,new Lt.State(o.value,t.scope)}for(var a in t.properties_){var s=t.properties_[a];if("get"in s||"set"in s){var c={configurable:!0,enumerable:!0,get:s.get,set:s.set};this.setProperty(t.object_,a,Lt.VALUE_IN_DESCRIPTOR,c)}else this.setProperty(t.object_,a,s.init)}e.pop(),e[e.length-1].value=t.object_},Lt.prototype.stepProgram=function(e,t,r){var n=r.body.shift();if(n)return t.done=!1,new Lt.State(n,t.scope);t.done=!0},Lt.prototype.stepReturnStatement=function(e,t,r){if(r.argument&&!t.done_)return t.done_=!0,new Lt.State(r.argument,t.scope);this.unwind(Lt.Completion.RETURN,t.value,void 0)},Lt.prototype.stepSequenceExpression=function(e,t,r){var n=t.n_||0,o=r.expressions[n];if(o)return t.n_=n+1,new Lt.State(o,t.scope);e.pop(),e[e.length-1].value=t.value},Lt.prototype.stepSwitchStatement=function(e,t,r){if(!t.test_)return t.test_=1,new Lt.State(r.discriminant,t.scope);for(1===t.test_&&(t.test_=2,t.switchValue_=t.value,t.defaultCase_=-1);;){var n=t.index_||0,o=r.cases[n];if(t.matched_||!o||o.test)if(o||t.matched_||-1===t.defaultCase_){if(!o)return void e.pop();if(!t.matched_&&!t.tested_&&o.test)return t.tested_=!0,new Lt.State(o.test,t.scope);if(t.matched_||t.value===t.switchValue_){t.matched_=!0;var i=t.n_||0;if(o.consequent[i])return t.isSwitch=!0,t.n_=i+1,new Lt.State(o.consequent[i],t.scope)}t.tested_=!1,t.n_=0,t.index_=n+1}else t.matched_=!0,t.index_=t.defaultCase_;else t.defaultCase_=n,t.index_=n+1}},Lt.prototype.stepThisExpression=function(e,t,r){e.pop(),e[e.length-1].value=this.getValueFromScope("this")},Lt.prototype.stepThrowStatement=function(e,t,r){if(!t.done_)return t.done_=!0,new Lt.State(r.argument,t.scope);this.throwException(t.value)},Lt.prototype.stepTryStatement=function(e,t,r){if(!t.doneBlock_)return t.doneBlock_=!0,new Lt.State(r.block,t.scope);if(t.cv&&t.cv.type===Lt.Completion.THROW&&!t.doneHandler_&&r.handler){t.doneHandler_=!0;var n=new Lt.State(r.handler,t.scope);return n.throwValue=t.cv.value,t.cv=void 0,n}if(!t.doneFinalizer_&&r.finalizer)return t.doneFinalizer_=!0,new Lt.State(r.finalizer,t.scope);e.pop(),t.cv&&this.unwind(t.cv.type,t.cv.value,t.cv.label)},Lt.prototype.stepUnaryExpression=function(e,t,r){if(!t.done_){t.done_=!0;var n=new Lt.State(r.argument,t.scope);return n.components="delete"===r.operator,n}e.pop();var o=t.value;if("-"===r.operator)o=-o;else if("+"===r.operator)o=+o;else if("!"===r.operator)o=!o;else if("~"===r.operator)o=~o;else if("delete"===r.operator){var i=!0;if(Array.isArray(o)){var a=o[0];a===Lt.SCOPE_REFERENCE&&(a=t.scope);var s=String(o[1]);try{delete a.properties[s]}catch(e){t.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+s+"' of '"+a+"'"):i=!1}}o=i}else if("typeof"===r.operator)o=o&&"Function"===o.class?"function":typeof o;else{if("void"!==r.operator)throw SyntaxError("Unknown unary operator: "+r.operator);o=void 0}e[e.length-1].value=o},Lt.prototype.stepUpdateExpression=function(e,t,r){if(!t.doneLeft_){t.doneLeft_=!0;var n=new Lt.State(r.argument,t.scope);return n.components=!0,n}if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_){var o=this.getValue(t.leftSide_);if(t.leftValue_=o,this.getterStep_){t.doneGetter_=!0;var i=o;return this.createGetter_(i,t.leftSide_)}}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.setterValue_);var a;if(o=Number(t.leftValue_),"++"===r.operator)a=o+1;else{if("--"!==r.operator)throw SyntaxError("Unknown update expression: "+r.operator);a=o-1}var s=r.prefix?a:o,c=this.setValue(t.leftSide_,a);if(c)return t.doneSetter_=!0,t.setterValue_=s,this.createSetter_(c,t.leftSide_,a);e.pop(),e[e.length-1].value=s},Lt.prototype.stepVariableDeclaration=function(e,t,r){var n=r.declarations,o=t.n_||0,i=n[o];for(t.init_&&i&&(this.setValueToScope(i.id.name,t.value),t.init_=!1,i=n[++o]);i;){if(i.init)return t.n_=o,t.init_=!0,t.destinationName=i.id.name,new Lt.State(i.init,t.scope);i=n[++o]}e.pop()},Lt.prototype.stepWithStatement=function(e,t,r){if(!t.doneObject_)return t.doneObject_=!0,new Lt.State(r.object,t.scope);if(!t.doneBody_){t.doneBody_=!0;var n=this.createSpecialScope(t.scope,t.value);return new Lt.State(r.body,n)}e.pop()},Lt.prototype.stepWhileStatement=Lt.prototype.stepDoWhileStatement,Lt.prototype.step=Lt.prototype.step,Lt.prototype.run=Lt.prototype.run,Lt.prototype.appendCode=Lt.prototype.appendCode,Lt.prototype.createObject=Lt.prototype.createObject,Lt.prototype.createObjectProto=Lt.prototype.createObjectProto,Lt.prototype.createAsyncFunction=Lt.prototype.createAsyncFunction,Lt.prototype.createNativeFunction=Lt.prototype.createNativeFunction,Lt.prototype.getProperty=Lt.prototype.getProperty,Lt.prototype.setProperty=Lt.prototype.setProperty,Lt.prototype.nativeToPseudo=Lt.prototype.nativeToPseudo,Lt.prototype.pseudoToNative=Lt.prototype.pseudoToNative,Lt.prototype.callFunction=Lt.prototype.callFunction,Lt.prototype.queueFunction=Lt.prototype.queueFunction,Lt.prototype.createThrowable=Lt.prototype.createThrowable;var Dt=[],Bt=0,Mt=[{key:"timeout",value:'setTimeout(\n   function(){\n      log("later");\n   },\n   1000\n);'},{key:"callA",value:"callA(function(a){\n    log(a);\n}, function(e) {\n    log(e);\n});"},{key:"callF",value:"callF(function(a, b){\n    log(a);\n    log(b);\n});"},{key:"require",value:'var foo = "hi";\nvar doer = require("doer");\nvar get = require("get");\nvar defer = require("defer");\nvar log = require("log");\ndefer(function(){\n    defer(function(){\n        log(get());\n        doer()();\n    });\n});'}],Gt=function(e,t){t.value=t.value+"\n"+e};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("code"),t=document.getElementById("log");if(null!==e&&null!==t){e.addEventListener("input",(function(){t.value=""}));var r=document.getElementById("preset");null!==r&&(Mt.forEach((function(e){r.options[r.options.length]=new Option(e.key,e.value)})),r.addEventListener("change",(function(){t.value="",e.value=this.value}))),document.addEventListener("click",(function(r){r.target.matches(".run-button")&&(r.preventDefault(),function(e,t){t.value="Started",new Lt(e,(function(e,r){e.setProperty(r,"callA",e.createNativeFunction((function(t,r){setTimeout((function(){try{e.queueFunction(t,void 0,"script done"),e.run()}catch(r){e.queueFunction(t,void 0,r),e.run()}}),100)}))),e.setProperty(r,"callF",e.createNativeFunction((function(t,r){return e.callFunction(t,void 0,"sdasd","dsdsd")}))),e.setProperty(r,"log",e.nativeToPseudo((function(e){Gt(e,t)}))),e.setProperty(r,"setTimeout",e.createNativeFunction((function(t,r){var n=++Bt;return Dt[n]=setTimeout((function(){Dt[n]&&(delete Dt[n],e.queueFunction(t),e.run())}),r),n}))),e.setProperty(r,"clearTimeout",e.createNativeFunction((function(e){clearTimeout(Dt[e]),delete Dt[e]}))),e.setProperty(r,"require",e.createNativeFunction((function(r){switch(r){case"doer":return e.createNativeFunction((function(){return e.createNativeFunction((function(){return Gt("bla bla",t)}))}));case"get":return e.createNativeFunction((function(){return e.nativeToPseudo("hi")}));case"log":return e.createNativeFunction((function(e){Gt(e,t)}));case"defer":return e.createNativeFunction((function(t){setTimeout((function(){e.queueFunction(t,void 0),e.run()}),100)}))}})))})).runAll((function(e){return Gt("Some error: ".concat(e),t)}),(function(){return Gt("Finished",t)}))}(e.value,t))}),!1)}}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2NhbGU4L3M4LWludGVycHJldGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0BzY2FsZTgvczgtaW50ZXJwcmV0ZXIvLi9zcmMvaW50ZXJwcmV0ZXIvYWNvcm4uanMiLCJ3ZWJwYWNrOi8vQHNjYWxlOC9zOC1pbnRlcnByZXRlci8uL3NyYy9pbnRlcnByZXRlci9JbnRlcnByZXRlci5qcyIsIndlYnBhY2s6Ly9Ac2NhbGU4L3M4LWludGVycHJldGVyLy4vZGVtby9zcmMvZGVtby50cyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm9wdGlvbnMiLCJpbnB1dCIsImlucHV0TGVuIiwic291cmNlRmlsZSIsInZlcnNpb24iLCJwYXJzZSIsImlucHQiLCJvcHRzIiwiU3RyaW5nIiwibGVuZ3RoIiwic2V0T3B0aW9ucyIsImluaXRUb2tlblN0YXRlIiwicHJvZ3JhbSIsImxhc3RTdGFydCIsImxhc3RFbmQiLCJ0b2tQb3MiLCJsb2NhdGlvbnMiLCJsYXN0RW5kTG9jIiwibGluZV9sb2NfdCIsImluRnVuY3Rpb24iLCJzdHJpY3QiLCJsYWJlbHMiLCJyZWFkVG9rZW4iLCJub2RlIiwic3RhcnROb2RlIiwiZmlyc3QiLCJib2R5IiwidG9rVHlwZSIsIl9lb2YiLCJzdG10IiwicGFyc2VTdGF0ZW1lbnQiLCJwdXNoIiwiaXNVc2VTdHJpY3QiLCJzZXRTdHJpY3QiLCJmaW5pc2hOb2RlIiwicGFyc2VUb3BMZXZlbCIsImRlZmF1bHRPcHRpb25zIiwiZWNtYVZlcnNpb24iLCJzdHJpY3RTZW1pY29sb25zIiwiYWxsb3dUcmFpbGluZ0NvbW1hcyIsImZvcmJpZFJlc2VydmVkIiwib25Db21tZW50IiwicmFuZ2VzIiwiZGlyZWN0U291cmNlRmlsZSIsIm9wdCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldExpbmVJbmZvIiwib2Zmc2V0IiwibGluZSIsImN1ciIsImxpbmVCcmVhayIsImxhc3RJbmRleCIsIm1hdGNoIiwiZXhlYyIsImluZGV4IiwiY29sdW1uIiwidG9rU3RhcnQiLCJ0b2tFbmQiLCJ0b2tTdGFydExvYyIsInRva0VuZExvYyIsInRva1ZhbCIsInRva1JlZ2V4cEFsbG93ZWQiLCJ0b2tDdXJMaW5lIiwidG9rTGluZVN0YXJ0IiwicmFpc2UiLCJwb3MiLCJtZXNzYWdlIiwibG9jIiwiZXJyIiwiU3ludGF4RXJyb3IiLCJyYWlzZWRBdCIsInRva2VuaXplIiwidCIsImdldFRva2VuIiwiZm9yY2VSZWdleHAiLCJzdGFydCIsImVuZCIsInN0YXJ0TG9jIiwiZW5kTG9jIiwidHlwZSIsInZhbHVlIiwianVtcFRvIiwicmVBbGxvd2VkIiwic2tpcFNwYWNlIiwiZW1wdHkiLCJfbnVtIiwiX3JlZ2V4cCIsIl9zdHJpbmciLCJfbmFtZSIsIl9icmVhayIsImtleXdvcmQiLCJfY2FzZSIsImJlZm9yZUV4cHIiLCJfY2F0Y2giLCJfY29udGludWUiLCJfZGVidWdnZXIiLCJfZGVmYXVsdCIsIl9kbyIsImlzTG9vcCIsIl9lbHNlIiwiX2ZpbmFsbHkiLCJfZm9yIiwiX2Z1bmN0aW9uIiwiX2lmIiwiX3JldHVybiIsIl9zd2l0Y2giLCJfdGhyb3ciLCJfdHJ5IiwiX3ZhciIsIl93aGlsZSIsIl93aXRoIiwiX25ldyIsIl90aGlzIiwiX251bGwiLCJhdG9tVmFsdWUiLCJfdHJ1ZSIsIl9mYWxzZSIsIl9pbiIsImJpbm9wIiwia2V5d29yZFR5cGVzIiwicHJlZml4IiwiX2JyYWNrZXRMIiwiX2JyYWNrZXRSIiwiX2JyYWNlTCIsIl9icmFjZVIiLCJfcGFyZW5MIiwiX3BhcmVuUiIsIl9jb21tYSIsIl9zZW1pIiwiX2NvbG9uIiwiX2RvdCIsIl9xdWVzdGlvbiIsIl9zbGFzaCIsIl9lcSIsImlzQXNzaWduIiwiX2Fzc2lnbiIsIl9pbmNEZWMiLCJwb3N0Zml4IiwiaXNVcGRhdGUiLCJfcHJlZml4IiwiX2xvZ2ljYWxPUiIsIl9sb2dpY2FsQU5EIiwiX2JpdHdpc2VPUiIsIl9iaXR3aXNlWE9SIiwiX2JpdHdpc2VBTkQiLCJfZXF1YWxpdHkiLCJfcmVsYXRpb25hbCIsIl9iaXRTaGlmdCIsIl9wbHVzTWluIiwiX211bHRpcGx5TW9kdWxvIiwidG9rVHlwZXMiLCJicmFja2V0TCIsImJyYWNrZXRSIiwiYnJhY2VMIiwiYnJhY2VSIiwicGFyZW5MIiwicGFyZW5SIiwiY29tbWEiLCJzZW1pIiwiY29sb24iLCJkb3QiLCJxdWVzdGlvbiIsInNsYXNoIiwiZXEiLCJuYW1lIiwiZW9mIiwibnVtIiwicmVnZXhwIiwic3RyaW5nIiwia3ciLCJtYWtlUHJlZGljYXRlIiwid29yZHMiLCJzcGxpdCIsImYiLCJjYXRzIiwib3V0IiwiaSIsImoiLCJjb21wYXJlVG8iLCJhcnIiLCJKU09OIiwic3RyaW5naWZ5Iiwic29ydCIsImEiLCJiIiwiY2F0IiwiRnVuY3Rpb24iLCJpc1Jlc2VydmVkV29yZDMiLCJpc1Jlc2VydmVkV29yZDUiLCJpc1N0cmljdFJlc2VydmVkV29yZCIsImlzU3RyaWN0QmFkSWRXb3JkIiwiaXNLZXl3b3JkIiwibm9uQVNDSUl3aGl0ZXNwYWNlIiwibm9uQVNDSUlpZGVudGlmaWVyU3RhcnRDaGFycyIsIm5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0IiwiUmVnRXhwIiwibm9uQVNDSUlpZGVudGlmaWVyIiwibmV3bGluZSIsImlzSWRlbnRpZmllclN0YXJ0IiwiY29kZSIsInRlc3QiLCJmcm9tQ2hhckNvZGUiLCJpc0lkZW50aWZpZXJDaGFyIiwidGhpcyIsImZpbmlzaFRva2VuIiwidmFsIiwic2tpcEJsb2NrQ29tbWVudCIsImluZGV4T2YiLCJzbGljZSIsInNraXBMaW5lQ29tbWVudCIsImNoIiwiY2hhckNvZGVBdCIsIm5leHQiLCJyZWFkUmVnZXhwIiwicmVhZFdvcmQiLCJ0b2siLCJyZWFkTnVtYmVyIiwicmVhZFRva2VuX2RvdCIsInJlYWRJbnQiLCJyZWFkSGV4TnVtYmVyIiwicXVvdGUiLCJvY3RhbCIsInBhcnNlSW50IiwicmVhZEhleENoYXIiLCJyZWFkU3RyaW5nIiwiZmluaXNoT3AiLCJyZWFkVG9rZW5fc2xhc2giLCJyZWFkVG9rZW5fcGlwZV9hbXAiLCJyZWFkVG9rZW5fcGx1c19taW4iLCJzaXplIiwicmVhZFRva2VuX2x0X2d0IiwicmVhZFRva2VuX2VxX2V4Y2wiLCJnZXRUb2tlbkZyb21Db2RlIiwic3RyIiwiZXNjYXBlZCIsImluQ2xhc3MiLCJjaGFyQXQiLCJjb250ZW50IiwibW9kcyIsInJlYWRXb3JkMSIsInJhZGl4IiwibGVuIiwidG90YWwiLCJlIiwiSW5maW5pdHkiLCJzdGFydHNXaXRoRG90IiwiaXNGbG9hdCIsInBhcnNlRmxvYXQiLCJuIiwiY29udGFpbnNFc2MiLCJ3b3JkIiwiZXNjIiwiZXNjU3RyIiwic3RyY3QiLCJsYXN0SW5kZXhPZiIsIm5vZGVfdCIsIm5vZGVfbG9jX3QiLCJzb3VyY2UiLCJyYW5nZSIsInN0YXJ0Tm9kZUZyb20iLCJvdGhlciIsImV4cHJlc3Npb24iLCJlYXQiLCJjYW5JbnNlcnRTZW1pY29sb24iLCJzZW1pY29sb24iLCJ1bmV4cGVjdGVkIiwiZXhwZWN0IiwiY2hlY2tMVmFsIiwiZXhwciIsImxvb3BMYWJlbCIsImtpbmQiLCJzd2l0Y2hMYWJlbCIsInN0YXJ0dHlwZSIsImlzQnJlYWsiLCJsYWJlbCIsInBhcnNlSWRlbnQiLCJsYWIiLCJwb3AiLCJwYXJzZVBhcmVuRXhwcmVzc2lvbiIsInBhcnNlRm9yIiwiaW5pdCIsInBhcnNlVmFyIiwiZGVjbGFyYXRpb25zIiwicGFyc2VGb3JJbiIsInBhcnNlRXhwcmVzc2lvbiIsInBhcnNlRnVuY3Rpb24iLCJjb25zZXF1ZW50IiwiYWx0ZXJuYXRlIiwiYXJndW1lbnQiLCJkaXNjcmltaW5hbnQiLCJjYXNlcyIsInNhd0RlZmF1bHQiLCJpc0Nhc2UiLCJibG9jayIsInBhcnNlQmxvY2siLCJoYW5kbGVyIiwiY2xhdXNlIiwicGFyYW0iLCJndWFyZCIsImd1YXJkZWRIYW5kbGVycyIsImZpbmFsaXplciIsIm9iamVjdCIsIm1heWJlTmFtZSIsImFsbG93U3RyaWN0Iiwib2xkU3RyaWN0IiwidXBkYXRlIiwibGVmdCIsInJpZ2h0Iiwibm9JbiIsImRlY2wiLCJpZCIsIm5vQ29tbWEiLCJwYXJzZU1heWJlQXNzaWduIiwiZXhwcmVzc2lvbnMiLCJwYXJzZUV4cHJPcCIsInBhcnNlTWF5YmVVbmFyeSIsInBhcnNlRXhwck9wcyIsInBhcnNlTWF5YmVDb25kaXRpb25hbCIsIm9wZXJhdG9yIiwibWluUHJlYyIsInByZWMiLCJvcCIsInBhcnNlU3Vic2NyaXB0cyIsInBhcnNlRXhwckF0b20iLCJiYXNlIiwibm9DYWxscyIsInByb3BlcnR5IiwiY29tcHV0ZWQiLCJjYWxsZWUiLCJhcmd1bWVudHMiLCJwYXJzZUV4cHJMaXN0IiwicmF3IiwidG9rU3RhcnRMb2MxIiwidG9rU3RhcnQxIiwiZWxlbWVudHMiLCJzYXdHZXRTZXQiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImtleSIsInBhcnNlUHJvcGVydHlOYW1lIiwiaXNHZXRTZXQiLCJjb25mbGljdCIsInBhcnNlT2JqIiwicGFyc2VOZXciLCJpc1N0YXRlbWVudCIsInBhcmFtcyIsIm9sZEluRnVuYyIsIm9sZExhYmVscyIsImNsb3NlIiwiYWxsb3dUcmFpbGluZ0NvbW1hIiwiYWxsb3dFbXB0eSIsImVsdHMiLCJsaWJlcmFsIiwiSW50ZXJwcmV0ZXIiLCJvcHRfaW5pdEZ1bmMiLCJ1aWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJoYWx0ZWRfIiwiaGFzQ29tcGxldGVGdW5jUnVuXyIsImNvbXBsZXRlRnVuY18iLCJoYXNFcnJvckZ1bmNSdW5fIiwiZXJyb3JGdW5jXyIsInVucGF1c2VGdW5jXyIsIlBBUlNFX09QVElPTlMiLCJub2RlQ29uc3RydWN0b3IiLCJjb25zdHJ1Y3RvciIsImFzdCIsImluaXRGdW5jXyIsInBhdXNlZF8iLCJwb2x5ZmlsbHNfIiwiZnVuY3Rpb25Db3VudGVyXyIsInN0ZXBGdW5jdGlvbnNfIiwiY3JlYXRlIiwibSIsInN0YXRlIiwic3RlcE1hdGNoIiwibWV0aG9kTmFtZSIsImJpbmQiLCJnbG9iYWxTY29wZSIsImNyZWF0ZVNjb3BlIiwiZ2xvYmFsT2JqZWN0Iiwiam9pbiIsInVuZGVmaW5lZCIsInN0cmlwTG9jYXRpb25zXyIsIlN0YXRlIiwiZG9uZSIsInN0YXRlU3RhY2siLCJydW4iLCJDb21wbGV0aW9uIiwiTk9STUFMIiwiQlJFQUsiLCJDT05USU5VRSIsIlJFVFVSTiIsIlRIUk9XIiwiUkVBRE9OTFlfREVTQ1JJUFRPUiIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsIk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUiIsIlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUiIsIk5PTkNPTkZJR1VSQUJMRV9SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IiLCJWQVJJQUJMRV9ERVNDUklQVE9SIiwiU1RFUF9FUlJPUiIsIlNDT1BFX1JFRkVSRU5DRSIsIlZBTFVFX0lOX0RFU0NSSVBUT1IiLCJSRUdFWFBfVElNRU9VVCIsInRvU3RyaW5nQ3ljbGVzXyIsInZtIiwibmF0aXZlR2xvYmFsIiwiV09SS0VSX0NPREUiLCJsZWdhbEFycmF5TGVuZ3RoIiwieCIsIk51bWJlciIsIk5hTiIsImxlZ2FsQXJyYXlJbmRleCIsImdldHRlclN0ZXBfIiwic2V0dGVyU3RlcF8iLCJhcHBlbmRDb2RlIiwiRXJyb3IiLCJwb3B1bGF0ZVNjb3BlXyIsInNjb3BlIiwiQXJyYXkiLCJhcHBseSIsInN0ZXAiLCJzdGFjayIsIkRhdGUiLCJub3ciLCJuZXh0U3RhdGUiLCJoYWx0IiwicnVuQWxsIiwib25FcnJvciIsIm9uQ29tcGxldGUiLCJ0aGlzSW50ZXJwcmV0ZXIiLCJjYWxsRnVuY3Rpb24iLCJmdW5jIiwiZnVuY1RoaXMiLCJ2YXJfYXJncyIsImV4cE5vZGUiLCJidWlsZEZ1bmN0aW9uQ2FsbGVyXyIsIkNhbGxiYWNrIiwicXVldWVGdW5jdGlvbiIsImFyZ3MiLCJtYXAiLCJhcmciLCJuYXRpdmVUb1BzZXVkbyIsImNlTm9kZSIsImZ1bmNUaGlzXyIsImZ1bmNfIiwiYXJndW1lbnRzXyIsInNjb3BlXyIsImluaXRHbG9iYWwiLCJzZXRQcm9wZXJ0eSIsIk9CSkVDVF9QUk9UTyIsIkZVTkNUSU9OX1BST1RPIiwiaW5pdEZ1bmN0aW9uIiwiaW5pdE9iamVjdCIsInByb3RvIiwiT0JKRUNUIiwiaW5pdEFycmF5IiwiaW5pdFN0cmluZyIsImluaXRCb29sZWFuIiwiaW5pdE51bWJlciIsImluaXREYXRlIiwiaW5pdFJlZ0V4cCIsImluaXRFcnJvciIsImluaXRNYXRoIiwiaW5pdEpTT04iLCJjcmVhdGVOYXRpdmVGdW5jdGlvbiIsIkV2YWxFcnJvciIsImV2YWwiLCJpc05hTiIsImlzRmluaXRlIiwic3RyRnVuY3Rpb25zIiwiZXNjYXBlIiwidW5lc2NhcGUiLCJkZWNvZGVVUkkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUkkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ3cmFwcGVyIiwibmF0aXZlRnVuYyIsInRocm93RXhjZXB0aW9uIiwiVVJJX0VSUk9SIiwiRlVOQ1RJT04iLCJBUlJBWSIsIkFSUkFZX1BST1RPIiwiUkVHRVhQIiwiUkVHRVhQX1BST1RPIiwiREFURSIsIkRBVEVfUFJPVE8iLCJpZGVudGlmaWVyUmVnZXhwIiwiYXJnc1N0ciIsInRyaW0iLCJTWU5UQVhfRVJST1IiLCJjcmVhdGVGdW5jdGlvbiIsImlsbGVnYWxDb25zdHJ1Y3RvciIsImNsYXNzIiwidGhpc0FyZyIsImFycmF5UHNldWRvVG9OYXRpdmUiLCJUWVBFX0VSUk9SIiwiZG9uZUV4ZWNfIiwic2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUiLCJ2YWx1ZU9mIiwiY2FsbGVkV2l0aE5ldyIsImNyZWF0ZU9iamVjdFByb3RvIiwiYm94IiwiZ2V0UHJvdG90eXBlIiwiZGF0YSIsInRocm93SWZOdWxsVW5kZWZpbmVkIiwib2JqIiwicHJvcHMiLCJhcnJheU5hdGl2ZVRvUHNldWRvIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImtleXMiLCJkZXNjcmlwdG9yIiwicHJldmVudEV4dGVuc2lvbnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXR0ZXIiLCJzZXR0ZXIiLCJwc2V1ZG9EZXNjcmlwdG9yIiwiQm9vbGVhbiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibmV3QXJyYXkiLCJjcmVhdGVBcnJheSIsIlJBTkdFX0VSUk9SIiwiU1RSSU5HIiwiZnVuY3Rpb25zIiwiY29tcGFyZVN0cmluZyIsImxvY2FsZXMiLCJwc2V1ZG9Ub05hdGl2ZSIsImxvY2FsZUNvbXBhcmUiLCJzZXBhcmF0b3IiLCJsaW1pdCIsImNhbGxiYWNrIiwiaXNhIiwibWF5YmVUaHJvd1JlZ0V4cCIsInNhbmRib3giLCJqc0xpc3QiLCJ2bUNhbGwiLCJzcGxpdFdvcmtlciIsImNyZWF0ZVdvcmtlciIsInBpZCIsInJlZ0V4cFRpbWVvdXQiLCJvbm1lc3NhZ2UiLCJjbGVhclRpbWVvdXQiLCJwb3N0TWVzc2FnZSIsInNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUiLCJtYXRjaFdvcmtlciIsInNlYXJjaCIsInNlYXJjaFdvcmtlciIsIm5ld1N1YnN0ciIsInJlcGxhY2VXb3JrZXIiLCJyZXBsYWNlIiwiQk9PTEVBTiIsIk5VTUJFUiIsIm51bUNvbnN0cyIsImZyYWN0aW9uRGlnaXRzIiwidG9FeHBvbmVudGlhbCIsIkVSUk9SIiwiZGlnaXRzIiwidG9GaXhlZCIsInByZWNpc2lvbiIsInRvUHJlY2lzaW9uIiwidG9Mb2NhbGVTdHJpbmciLCJjb25jYXQiLCJmcm9tIiwiVVRDIiwicGF0dGVybiIsImZsYWdzIiwicmd4IiwicG9wdWxhdGVSZWdFeHAiLCJnZXRQcm9wZXJ0eSIsIm1hdGNoVG9Qc2V1ZG8iLCJleGVjV29ya2VyIiwidGhpc1BzZXVkb1JlZ0V4cCIsInJlc3VsdCIsIm9wdF9tZXNzYWdlIiwibmV3RXJyb3IiLCJjcmVhdGVPYmplY3QiLCJjcmVhdGVFcnJvclN1YmNsYXNzIiwiRVZBTF9FUlJPUiIsIlJFRkVSRU5DRV9FUlJPUiIsIm15TWF0aCIsIm1hdGhDb25zdHMiLCJudW1GdW5jdGlvbnMiLCJteUpTT04iLCJ0ZXh0IiwibmF0aXZlT2JqIiwicmVwbGFjZXIiLCJzcGFjZSIsImZpbHRlciIsImNoaWxkIiwicHNldWRvUmVnZXhwIiwibmF0aXZlUmVnZXhwIiwiZ2xvYmFsIiwiaWdub3JlQ2FzZSIsIm11bHRpbGluZSIsImJsb2IiLCJibG9iXyIsIkJsb2IiLCJXb3JrZXIiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJuYXRpdmVSZWdFeHAiLCJ0aW1lb3V0Iiwib2siLCJ3b3JrZXIiLCJzZXRUaW1lb3V0IiwidGVybWluYXRlIiwiYXJyYXkiLCJjcmVhdGVGdW5jdGlvbkJhc2VfIiwiYXJndW1lbnRMZW5ndGgiLCJpc0NvbnN0cnVjdG9yIiwib3B0X25hbWUiLCJwYXJlbnRTY29wZSIsImNyZWF0ZUFzeW5jRnVuY3Rpb24iLCJhc3luY0Z1bmMiLCJwc2V1ZG9EYXRlIiwiaXNBcnJheSIsInBzZXVkb0FycmF5IiwicHNldWRvT2JqIiwib3B0X2N5Y2xlcyIsImN5Y2xlcyIsInBzZXVkbyIsIm5hdGl2ZSIsImhhc1Byb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJuYXRpdmVBcnJheSIsIlR5cGVFcnJvciIsIm9wdF9kZXNjcmlwdG9yIiwiZ2V0U2NvcGUiLCJtYXgiLCJnZXQiLCJwbGFjZWhvbGRlckdldF8iLCJzZXQiLCJwbGFjZWhvbGRlclNldF8iLCJSZWZlcmVuY2VFcnJvciIsImRlZk9iaiIsImZpcnN0Tm9kZSIsIlNjb3BlIiwiY3JlYXRlU3BlY2lhbFNjb3BlIiwib3B0X29iamVjdCIsImdldFZhbHVlRnJvbVNjb3BlIiwicHJldk5vZGUiLCJzZXRWYWx1ZVRvU2NvcGUiLCJub2RlQ2xhc3MiLCJnZXRWYWx1ZSIsInJlZiIsInNldFZhbHVlIiwiZXJyb3JDbGFzcyIsImVycm9yIiwidW53aW5kIiwiY3JlYXRlVGhyb3dhYmxlIiwiVGhyb3dhYmxlIiwiaGFuZGxlTmF0aXZlUmVzdWx0XyIsInB1c2hTdGF0ZV8iLCJjYl8iLCJzdGF0ZV8iLCJ0aHJvd18iLCJjYiIsInN0YXRlbGVzc18iLCJsb29wIiwiY3YiLCJjYXRjaF8iLCJpc1N3aXRjaCIsInJlYWxFcnJvciIsImVycm9yVGFibGUiLCJSYW5nZUVycm9yIiwiVVJJRXJyb3IiLCJjcmVhdGVHZXR0ZXJfIiwiZG9uZUNhbGxlZV8iLCJkb25lQXJnc18iLCJjcmVhdGVTZXR0ZXJfIiwiYm94VGhpc18iLCJWYWx1ZSIsImludGVycHJldGVyIiwiY2FsbEZuTm9kZSIsIm9wdF9xdWV1ZWQiLCJub2RlXyIsImhhbmRsZXJzXyIsInF1ZXVlZF8iLCJkb05leHRfIiwiYXN5bmNDYWxsYmFjayIsInNoaWZ0IiwiZm9yY2VfIiwic3RycyIsIm1heExlbmd0aCIsInRydW5jYXRlZCIsIm5fIiwiYXJyYXlfIiwiZG9uZUxlZnRfIiwiY29tcG9uZW50cyIsImRvbmVSaWdodF8iLCJsZWZ0UmVmZXJlbmNlXyIsImRvbmVHZXR0ZXJfIiwibGVmdFZhbHVlXyIsImxlZnRWYWx1ZSIsImRlc3RpbmF0aW9uTmFtZSIsImRvbmVTZXR0ZXJfIiwic2V0dGVyVmFsdWVfIiwicmlnaHRWYWx1ZSIsImRpcmVjdEV2YWxfIiwiZnVuY05vZGUiLCJwYXJhbU5hbWUiLCJwYXJhbVZhbHVlIiwiYXJnc0xpc3QiLCJldmFsTm9kZSIsImFyZ0xlbmd0aCIsImFyZ3NXaXRoQ2FsbGJhY2siLCJkb25lXyIsInRocm93VmFsdWUiLCJtb2RlIiwibW9kZV8iLCJ0ZXN0XyIsInF1ZXVlZCIsImNlU3RhdGUiLCJkb25lSW5pdF8iLCJkb25lT2JqZWN0XyIsInZhcmlhYmxlXyIsIm9iamVjdF8iLCJ2aXNpdGVkXyIsIm5hbWVfIiwiZ290UHJvcE5hbWUiLCJwcm9wc18iLCJkb25lVmFyaWFibGVfIiwicHJvcE5hbWUiLCJkb25lUHJvcGVydHlfIiwicHJvcGVydGllc18iLCJraW5kcyIsInN3aXRjaFZhbHVlXyIsImRlZmF1bHRDYXNlXyIsImluZGV4XyIsInN3aXRjaENhc2UiLCJtYXRjaGVkXyIsInRlc3RlZF8iLCJkb25lQmxvY2tfIiwiZG9uZUhhbmRsZXJfIiwiZG9uZUZpbmFsaXplcl8iLCJsZWZ0U2lkZV8iLCJjaGFuZ2VWYWx1ZSIsInJldHVyblZhbHVlIiwiZGVjbGFyYXRpb25Ob2RlIiwiaW5pdF8iLCJkb25lQm9keV8iLCJ0aW1lb3V0cyIsInRpbWVvdXRDb3VudGVyIiwicHJlc2V0cyIsImxvZyIsImxvZ1RleHRBcmVhIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29kZVRleHRBcmVhIiwiZ2V0RWxlbWVudEJ5SWQiLCJwcmVzZXRTZWxlY3QiLCJmb3JFYWNoIiwicHJlc2V0IiwiT3B0aW9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJtYXRjaGVzIiwicHJldmVudERlZmF1bHQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsIm1zZyIsImZuIiwidGltZSIsInRpZCIsInBhY2thZ2VOYW1lIiwicnVuQ29kZSJdLCJtYXBwaW5ncyI6InlCQUNJQSxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVQyxRQUczQyxJQUFJQyxFQUFTSixFQUF5QkUsR0FBWSxDQUdqREMsUUFBUyxJQU9WLE9BSEFFLEVBQW9CSCxHQUFVRSxFQUFRQSxFQUFPRCxRQUFTRixHQUcvQ0csRUFBT0QsUSxtQkNLZixNQUFNLEVBQVUsR0FZaEIsSUFBSUcsRUFBU0MsRUFBT0MsRUFBVUMsRUFWOUIsRUFBUUMsUUFBVSxRQVlsQixFQUFRQyxNQUFRLFNBQVNDLEVBQU1DLEdBSzNCLE9BSkFOLEVBQVFPLE9BQU9GLEdBQ2ZKLEVBQVdELEVBQU1RLE9BQ2pCQyxFQUFXSCxHQUNYSSxLQTZuQ0osU0FBdUJDLEdBQ25CQyxFQUFZQyxFQUFVQyxFQUNsQmYsRUFBUWdCLFlBQVdDLEVBQWEsSUFBSUMsSUFDeENDLEVBQWFDLEVBQVMsS0FDdEJDLEVBQVMsR0FDVEMsS0FFQSxN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RUFBWWhOLHNCQUFxQixTQUFDelMsR0FDckNxYixZQUFXLFdBQ1BvRSxFQUFZM08sY0FBYzlRLE9BQUdvTixHQUM3QnFTLEVBQVloUyxRQUNiLGdCQU03QjBDLFFBQ0UsU0FBQzdMLEdBQUQsT0FBTzJmLEdBQUksZUFBRCxPQUFnQjNmLEdBQUs0ZixNQUMvQixrQkFBTUQsR0FBSSxXQUFZQyxNQStCbEJvQixDQUFRakIsRUFBYWxxQixNQUFPK3BCLE9BQzdCLFEiLCJmaWxlIjoiZGVtby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gQWNvcm4gaXMgYSB0aW55LCBmYXN0IEphdmFTY3JpcHQgcGFyc2VyIHdyaXR0ZW4gaW4gSmF2YVNjcmlwdC5cbi8vXG4vLyBBY29ybiB3YXMgd3JpdHRlbiBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCByZWxlYXNlZCB1bmRlciBhbiBNSVRcbi8vIGxpY2Vuc2UuIFRoZSBVbmljb2RlIHJlZ2V4cHMgKGZvciBpZGVudGlmaWVycyBhbmQgd2hpdGVzcGFjZSkgd2VyZVxuLy8gdGFrZW4gZnJvbSBbRXNwcmltYV0oaHR0cDovL2VzcHJpbWEub3JnKSBieSBBcml5YSBIaWRheWF0LlxuLy9cbi8vIEdpdCByZXBvc2l0b3JpZXMgZm9yIEFjb3JuIGFyZSBhdmFpbGFibGUgYXRcbi8vXG4vLyAgICAgaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9naXQvYWNvcm5cbi8vICAgICBodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9hY29ybi5naXRcbi8vXG4vLyBQbGVhc2UgdXNlIHRoZSBbZ2l0aHViIGJ1ZyB0cmFja2VyXVtnaGJ0XSB0byByZXBvcnQgaXNzdWVzLlxuLy9cbi8vIFtnaGJ0XTogaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvYWNvcm4vaXNzdWVzXG4vL1xuLy8gVGhpcyBmaWxlIGRlZmluZXMgdGhlIG1haW4gcGFyc2VyIGludGVyZmFjZS4gVGhlIGxpYnJhcnkgYWxzbyBjb21lc1xuLy8gd2l0aCBhIFtlcnJvci10b2xlcmFudCBwYXJzZXJdW2RhbW1pdF0gYW5kIGFuXG4vLyBbYWJzdHJhY3Qgc3ludGF4IHRyZWUgd2Fsa2VyXVt3YWxrXSwgZGVmaW5lZCBpbiBvdGhlciBmaWxlcy5cbi8vXG4vLyBbZGFtbWl0XTogYWNvcm5fbG9vc2UuanNcbi8vIFt3YWxrXTogdXRpbC93YWxrLmpzXG5cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBleHBvcnRzID0ge307XG5cbmV4cG9ydHMudmVyc2lvbiA9ICcwLjQuMSc7XG5cbi8vIFRoZSBtYWluIGV4cG9ydGVkIGludGVyZmFjZSAodW5kZXIgYHNlbGYuYWNvcm5gIHdoZW4gaW4gdGhlXG4vLyBicm93c2VyKSBpcyBhIGBwYXJzZWAgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGNvZGUgc3RyaW5nIGFuZFxuLy8gcmV0dXJucyBhbiBhYnN0cmFjdCBzeW50YXggdHJlZSBhcyBzcGVjaWZpZWQgYnkgW01vemlsbGEgcGFyc2VyXG4vLyBBUEldW2FwaV0sIHdpdGggdGhlIGNhdmVhdCB0aGF0IHRoZSBTcGlkZXJNb25rZXktc3BlY2lmaWMgc3ludGF4XG4vLyAoYGxldGAsIGB5aWVsZGAsIGlubGluZSBYTUwsIGV0YykgaXMgbm90IHJlY29nbml6ZWQuXG4vL1xuLy8gW2FwaV06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvU3BpZGVyTW9ua2V5L1BhcnNlcl9BUElcblxubGV0IG9wdGlvbnMsIGlucHV0LCBpbnB1dExlbiwgc291cmNlRmlsZTtcblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uKGlucHQsIG9wdHMpIHtcbiAgICBpbnB1dCA9IFN0cmluZyhpbnB0KTtcbiAgICBpbnB1dExlbiA9IGlucHV0Lmxlbmd0aDtcbiAgICBzZXRPcHRpb25zKG9wdHMpO1xuICAgIGluaXRUb2tlblN0YXRlKCk7XG4gICAgcmV0dXJuIHBhcnNlVG9wTGV2ZWwob3B0aW9ucy5wcm9ncmFtKTtcbn07XG5cbi8vIEEgc2Vjb25kIG9wdGlvbmFsIGFyZ3VtZW50IGNhbiBiZSBnaXZlbiB0byBmdXJ0aGVyIGNvbmZpZ3VyZVxuLy8gdGhlIHBhcnNlciBwcm9jZXNzLiBUaGVzZSBvcHRpb25zIGFyZSByZWNvZ25pemVkOlxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IGV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLy8gYGVjbWFWZXJzaW9uYCBpbmRpY2F0ZXMgdGhlIEVDTUFTY3JpcHQgdmVyc2lvbiB0byBwYXJzZS4gTXVzdFxuICAgIC8vIGJlIGVpdGhlciAzIG9yIDUuIFRoaXNcbiAgICAvLyBpbmZsdWVuY2VzIHN1cHBvcnQgZm9yIHN0cmljdCBtb2RlLCB0aGUgc2V0IG9mIHJlc2VydmVkIHdvcmRzLCBhbmRcbiAgICAvLyBzdXBwb3J0IGZvciBnZXR0ZXJzIGFuZCBzZXR0ZXIuXG4gICAgZWNtYVZlcnNpb246IDUsXG4gICAgLy8gVHVybiBvbiBgc3RyaWN0U2VtaWNvbG9uc2AgdG8gcHJldmVudCB0aGUgcGFyc2VyIGZyb20gZG9pbmdcbiAgICAvLyBhdXRvbWF0aWMgc2VtaWNvbG9uIGluc2VydGlvbi5cbiAgICBzdHJpY3RTZW1pY29sb25zOiBmYWxzZSxcbiAgICAvLyBXaGVuIGBhbGxvd1RyYWlsaW5nQ29tbWFzYCBpcyBmYWxzZSwgdGhlIHBhcnNlciB3aWxsIG5vdCBhbGxvd1xuICAgIC8vIHRyYWlsaW5nIGNvbW1hcyBpbiBhcnJheSBhbmQgb2JqZWN0IGxpdGVyYWxzLlxuICAgIGFsbG93VHJhaWxpbmdDb21tYXM6IHRydWUsXG4gICAgLy8gQnkgZGVmYXVsdCwgcmVzZXJ2ZWQgd29yZHMgYXJlIG5vdCBlbmZvcmNlZC4gRW5hYmxlXG4gICAgLy8gYGZvcmJpZFJlc2VydmVkYCB0byBlbmZvcmNlIHRoZW0uXG4gICAgZm9yYmlkUmVzZXJ2ZWQ6IGZhbHNlLFxuICAgIC8vIFdoZW4gYGxvY2F0aW9uc2AgaXMgb24sIGBsb2NgIHByb3BlcnRpZXMgaG9sZGluZyBvYmplY3RzIHdpdGhcbiAgICAvLyBgc3RhcnRgIGFuZCBgZW5kYCBwcm9wZXJ0aWVzIGluIGB7bGluZSwgY29sdW1ufWAgZm9ybSAod2l0aFxuICAgIC8vIGxpbmUgYmVpbmcgMS1iYXNlZCBhbmQgY29sdW1uIDAtYmFzZWQpIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlXG4gICAgLy8gbm9kZXMuXG4gICAgbG9jYXRpb25zOiBmYWxzZSxcbiAgICAvLyBBIGZ1bmN0aW9uIGNhbiBiZSBwYXNzZWQgYXMgYG9uQ29tbWVudGAgb3B0aW9uLCB3aGljaCB3aWxsXG4gICAgLy8gY2F1c2UgQWNvcm4gdG8gY2FsbCB0aGF0IGZ1bmN0aW9uIHdpdGggYChibG9jaywgdGV4dCwgc3RhcnQsXG4gICAgLy8gZW5kKWAgcGFyYW1ldGVycyB3aGVuZXZlciBhIGNvbW1lbnQgaXMgc2tpcHBlZC4gYGJsb2NrYCBpcyBhXG4gICAgLy8gYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBpcyBhIGJsb2NrIChgLyogKi9gKSBjb21tZW50LFxuICAgIC8vIGB0ZXh0YCBpcyB0aGUgY29udGVudCBvZiB0aGUgY29tbWVudCwgYW5kIGBzdGFydGAgYW5kIGBlbmRgIGFyZVxuICAgIC8vIGNoYXJhY3RlciBvZmZzZXRzIHRoYXQgZGVub3RlIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBjb21tZW50LlxuICAgIC8vIFdoZW4gdGhlIGBsb2NhdGlvbnNgIG9wdGlvbiBpcyBvbiwgdHdvIG1vcmUgcGFyYW1ldGVycyBhcmVcbiAgICAvLyBwYXNzZWQsIHRoZSBmdWxsIGB7bGluZSwgY29sdW1ufWAgbG9jYXRpb25zIG9mIHRoZSBzdGFydCBhbmRcbiAgICAvLyBlbmQgb2YgdGhlIGNvbW1lbnRzLlxuICAgIG9uQ29tbWVudDogbnVsbCxcbiAgICAvLyBOb2RlcyBoYXZlIHRoZWlyIHN0YXJ0IGFuZCBlbmQgY2hhcmFjdGVycyBvZmZzZXRzIHJlY29yZGVkIGluXG4gICAgLy8gYHN0YXJ0YCBhbmQgYGVuZGAgcHJvcGVydGllcyAoZGlyZWN0bHkgb24gdGhlIG5vZGUsIHJhdGhlciB0aGFuXG4gICAgLy8gdGhlIGBsb2NgIG9iamVjdCwgd2hpY2ggaG9sZHMgbGluZS9jb2x1bW4gZGF0YS4gVG8gYWxzbyBhZGQgYVxuICAgIC8vIFtzZW1pLXN0YW5kYXJkaXplZF1bcmFuZ2VdIGByYW5nZWAgcHJvcGVydHkgaG9sZGluZyBhIGBbc3RhcnQsXG4gICAgLy8gZW5kXWAgYXJyYXkgd2l0aCB0aGUgc2FtZSBudW1iZXJzLCBzZXQgdGhlIGByYW5nZXNgIG9wdGlvbiB0b1xuICAgIC8vIGB0cnVlYC5cbiAgICAvL1xuICAgIC8vIFtyYW5nZV06IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTc0NTY3OFxuICAgIHJhbmdlczogZmFsc2UsXG4gICAgLy8gSXQgaXMgcG9zc2libGUgdG8gcGFyc2UgbXVsdGlwbGUgZmlsZXMgaW50byBhIHNpbmdsZSBBU1QgYnlcbiAgICAvLyBwYXNzaW5nIHRoZSB0cmVlIHByb2R1Y2VkIGJ5IHBhcnNpbmcgdGhlIGZpcnN0IGZpbGUgYXNcbiAgICAvLyBgcHJvZ3JhbWAgb3B0aW9uIGluIHN1YnNlcXVlbnQgcGFyc2VzLiBUaGlzIHdpbGwgYWRkIHRoZVxuICAgIC8vIHRvcGxldmVsIGZvcm1zIG9mIHRoZSBwYXJzZWQgZmlsZSB0byB0aGUgYFByb2dyYW1gICh0b3ApIG5vZGVcbiAgICAvLyBvZiBhbiBleGlzdGluZyBwYXJzZSB0cmVlLlxuICAgIHByb2dyYW06IG51bGwsXG4gICAgLy8gV2hlbiBgbG9jYXRpb25gIGlzIG9uLCB5b3UgY2FuIHBhc3MgdGhpcyB0byByZWNvcmQgdGhlIHNvdXJjZVxuICAgIC8vIGZpbGUgaW4gZXZlcnkgbm9kZSdzIGBsb2NgIG9iamVjdC5cbiAgICBzb3VyY2VGaWxlOiBudWxsLFxuICAgIC8vIFRoaXMgdmFsdWUsIGlmIGdpdmVuLCBpcyBzdG9yZWQgaW4gZXZlcnkgbm9kZSwgd2hldGhlclxuICAgIC8vIGBsb2NhdGlvbmAgaXMgb24gb3Igb2ZmLlxuICAgIGRpcmVjdFNvdXJjZUZpbGU6IG51bGwsXG59O1xuXG5mdW5jdGlvbiBzZXRPcHRpb25zKG9wdHMpIHtcbiAgICBvcHRpb25zID0gb3B0cyB8fCB7fTtcbiAgICBmb3IgKGxldCBvcHQgaW4gZGVmYXVsdE9wdGlvbnMpIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG9wdCkpXG4gICAgICAgIG9wdGlvbnNbb3B0XSA9IGRlZmF1bHRPcHRpb25zW29wdF07XG4gICAgc291cmNlRmlsZSA9IG9wdGlvbnMuc291cmNlRmlsZSB8fCBudWxsO1xufVxuXG4vLyBUaGUgYGdldExpbmVJbmZvYCBmdW5jdGlvbiBpcyBtb3N0bHkgdXNlZnVsIHdoZW4gdGhlXG4vLyBgbG9jYXRpb25zYCBvcHRpb24gaXMgb2ZmIChmb3IgcGVyZm9ybWFuY2UgcmVhc29ucykgYW5kIHlvdVxuLy8gd2FudCB0byBmaW5kIHRoZSBsaW5lL2NvbHVtbiBwb3NpdGlvbiBmb3IgYSBnaXZlbiBjaGFyYWN0ZXJcbi8vIG9mZnNldC4gYGlucHV0YCBzaG91bGQgYmUgdGhlIGNvZGUgc3RyaW5nIHRoYXQgdGhlIG9mZnNldCByZWZlcnNcbi8vIGludG8uXG5cbmNvbnN0IGdldExpbmVJbmZvID0gZXhwb3J0cy5nZXRMaW5lSW5mbyA9IGZ1bmN0aW9uKGlucHV0LCBvZmZzZXQpIHtcbiAgICBmb3IgKHZhciBsaW5lID0gMSwgY3VyID0gMDsgOykge1xuICAgICAgICBsaW5lQnJlYWsubGFzdEluZGV4ID0gY3VyO1xuICAgICAgICBjb25zdCBtYXRjaCA9IGxpbmVCcmVhay5leGVjKGlucHV0KTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4IDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICBjdXIgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4geyBsaW5lOiBsaW5lLCBjb2x1bW46IG9mZnNldCAtIGN1ciB9O1xufTtcblxuLy8gQWNvcm4gaXMgb3JnYW5pemVkIGFzIGEgdG9rZW5pemVyIGFuZCBhIHJlY3Vyc2l2ZS1kZXNjZW50IHBhcnNlci5cbi8vIFRoZSBgdG9rZW5pemVgIGV4cG9ydCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdG8gdGhlIHRva2VuaXplci5cbi8vIEJlY2F1c2UgdGhlIHRva2VuaXplciBpcyBvcHRpbWl6ZWQgZm9yIGJlaW5nIGVmZmljaWVudGx5IHVzZWQgYnlcbi8vIHRoZSBBY29ybiBwYXJzZXIgaXRzZWxmLCB0aGlzIGludGVyZmFjZSBpcyBzb21ld2hhdCBjcnVkZSBhbmQgbm90XG4vLyB2ZXJ5IG1vZHVsYXIuIFBlcmZvcm1pbmcgYW5vdGhlciBwYXJzZSBvciBjYWxsIHRvIGB0b2tlbml6ZWAgd2lsbFxuLy8gcmVzZXQgdGhlIGludGVybmFsIHN0YXRlLCBhbmQgaW52YWxpZGF0ZSBleGlzdGluZyB0b2tlbml6ZXJzLlxuXG5leHBvcnRzLnRva2VuaXplID0gZnVuY3Rpb24oaW5wdCwgb3B0cykge1xuICAgIGlucHV0ID0gU3RyaW5nKGlucHQpO1xuICAgIGlucHV0TGVuID0gaW5wdXQubGVuZ3RoO1xuICAgIHNldE9wdGlvbnMob3B0cyk7XG4gICAgaW5pdFRva2VuU3RhdGUoKTtcblxuICAgIGNvbnN0IHQgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGdldFRva2VuKGZvcmNlUmVnZXhwKSB7XG4gICAgICAgIHJlYWRUb2tlbihmb3JjZVJlZ2V4cCk7XG4gICAgICAgIHQuc3RhcnQgPSB0b2tTdGFydDtcbiAgICAgICAgdC5lbmQgPSB0b2tFbmQ7XG4gICAgICAgIHQuc3RhcnRMb2MgPSB0b2tTdGFydExvYztcbiAgICAgICAgdC5lbmRMb2MgPSB0b2tFbmRMb2M7XG4gICAgICAgIHQudHlwZSA9IHRva1R5cGU7XG4gICAgICAgIHQudmFsdWUgPSB0b2tWYWw7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cblxuICAgIGdldFRva2VuLmp1bXBUbyA9IGZ1bmN0aW9uKHBvcywgcmVBbGxvd2VkKSB7XG4gICAgICAgIHRva1BvcyA9IHBvcztcbiAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB7XG4gICAgICAgICAgICB0b2tDdXJMaW5lID0gMTtcbiAgICAgICAgICAgIHRva0xpbmVTdGFydCA9IGxpbmVCcmVhay5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IGxpbmVCcmVhay5leGVjKGlucHV0KSkgJiYgbWF0Y2guaW5kZXggPCBwb3MpIHtcbiAgICAgICAgICAgICAgICArK3Rva0N1ckxpbmU7XG4gICAgICAgICAgICAgICAgdG9rTGluZVN0YXJ0ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdG9rUmVnZXhwQWxsb3dlZCA9IHJlQWxsb3dlZDtcbiAgICAgICAgc2tpcFNwYWNlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gZ2V0VG9rZW47XG59O1xuXG4vLyBTdGF0ZSBpcyBrZXB0IGluIChjbG9zdXJlLSlnbG9iYWwgdmFyaWFibGVzLiBXZSBhbHJlYWR5IHNhdyB0aGVcbi8vIGBvcHRpb25zYCwgYGlucHV0YCwgYW5kIGBpbnB1dExlbmAgdmFyaWFibGVzIGFib3ZlLlxuXG4vLyBUaGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgdG9rZW5pemVyIGluIHRoZSBpbnB1dC5cblxudmFyIHRva1BvcztcblxuLy8gVGhlIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyBvZiB0aGUgY3VycmVudCB0b2tlbi5cblxudmFyIHRva1N0YXJ0LCB0b2tFbmQ7XG5cbi8vIFdoZW4gYG9wdGlvbnMubG9jYXRpb25zYCBpcyB0cnVlLCB0aGVzZSBob2xkIG9iamVjdHNcbi8vIGNvbnRhaW5pbmcgdGhlIHRva2VucyBzdGFydCBhbmQgZW5kIGxpbmUvY29sdW1uIHBhaXJzLlxuXG52YXIgdG9rU3RhcnRMb2MsIHRva0VuZExvYztcblxuLy8gVGhlIHR5cGUgYW5kIHZhbHVlIG9mIHRoZSBjdXJyZW50IHRva2VuLiBUb2tlbiB0eXBlcyBhcmUgb2JqZWN0cyxcbi8vIG5hbWVkIGJ5IHZhcmlhYmxlcyBhZ2FpbnN0IHdoaWNoIHRoZXkgY2FuIGJlIGNvbXBhcmVkLCBhbmRcbi8vIGhvbGRpbmcgcHJvcGVydGllcyB0aGF0IGRlc2NyaWJlIHRoZW0gKGluZGljYXRpbmcsIGZvciBleGFtcGxlLFxuLy8gdGhlIHByZWNlZGVuY2Ugb2YgYW4gaW5maXggb3BlcmF0b3IsIGFuZCB0aGUgb3JpZ2luYWwgbmFtZSBvZiBhXG4vLyBrZXl3b3JkIHRva2VuKS4gVGhlIGtpbmQgb2YgdmFsdWUgdGhhdCdzIGhlbGQgaW4gYHRva1ZhbGAgZGVwZW5kc1xuLy8gb24gdGhlIHR5cGUgb2YgdGhlIHRva2VuLiBGb3IgbGl0ZXJhbHMsIGl0IGlzIHRoZSBsaXRlcmFsIHZhbHVlLFxuLy8gZm9yIG9wZXJhdG9ycywgdGhlIG9wZXJhdG9yIG5hbWUsIGFuZCBzbyBvbi5cblxudmFyIHRva1R5cGUsIHRva1ZhbDtcblxuLy8gSW50ZXJhbCBzdGF0ZSBmb3IgdGhlIHRva2VuaXplci4gVG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiBkaXZpc2lvblxuLy8gb3BlcmF0b3JzIGFuZCByZWd1bGFyIGV4cHJlc3Npb25zLCBpdCByZW1lbWJlcnMgd2hldGhlciB0aGUgbGFzdFxuLy8gdG9rZW4gd2FzIG9uZSB0aGF0IGlzIGFsbG93ZWQgdG8gYmUgZm9sbG93ZWQgYnkgYW4gZXhwcmVzc2lvbi5cbi8vIChJZiBpdCBpcywgYSBzbGFzaCBpcyBwcm9iYWJseSBhIHJlZ2V4cCwgaWYgaXQgaXNuJ3QgaXQncyBhXG4vLyBkaXZpc2lvbiBvcGVyYXRvci4gU2VlIHRoZSBgcGFyc2VTdGF0ZW1lbnRgIGZ1bmN0aW9uIGZvciBhXG4vLyBjYXZlYXQuKVxuXG52YXIgdG9rUmVnZXhwQWxsb3dlZDtcblxuLy8gV2hlbiBgb3B0aW9ucy5sb2NhdGlvbnNgIGlzIHRydWUsIHRoZXNlIGFyZSB1c2VkIHRvIGtlZXBcbi8vIHRyYWNrIG9mIHRoZSBjdXJyZW50IGxpbmUsIGFuZCBrbm93IHdoZW4gYSBuZXcgbGluZSBoYXMgYmVlblxuLy8gZW50ZXJlZC5cblxudmFyIHRva0N1ckxpbmUsIHRva0xpbmVTdGFydDtcblxuLy8gVGhlc2Ugc3RvcmUgdGhlIHBvc2l0aW9uIG9mIHRoZSBwcmV2aW91cyB0b2tlbiwgd2hpY2ggaXMgdXNlZnVsXG4vLyB3aGVuIGZpbmlzaGluZyBhIG5vZGUgYW5kIGFzc2lnbmluZyBpdHMgYGVuZGAgcG9zaXRpb24uXG5cbmxldCBsYXN0U3RhcnQsIGxhc3RFbmQsIGxhc3RFbmRMb2M7XG5cbi8vIFRoaXMgaXMgdGhlIHBhcnNlcidzIHN0YXRlLiBgaW5GdW5jdGlvbmAgaXMgdXNlZCB0byByZWplY3Rcbi8vIGByZXR1cm5gIHN0YXRlbWVudHMgb3V0c2lkZSBvZiBmdW5jdGlvbnMsIGBsYWJlbHNgIHRvIHZlcmlmeSB0aGF0XG4vLyBgYnJlYWtgIGFuZCBgY29udGludWVgIGhhdmUgc29tZXdoZXJlIHRvIGp1bXAgdG8sIGFuZCBgc3RyaWN0YFxuLy8gaW5kaWNhdGVzIHdoZXRoZXIgc3RyaWN0IG1vZGUgaXMgb24uXG5cbmxldCBpbkZ1bmN0aW9uLCBsYWJlbHMsIHN0cmljdDtcblxuLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJhaXNlIGV4Y2VwdGlvbnMgb24gcGFyc2UgZXJyb3JzLiBJdFxuLy8gdGFrZXMgYW4gb2Zmc2V0IGludGVnZXIgKGludG8gdGhlIGN1cnJlbnQgYGlucHV0YCkgdG8gaW5kaWNhdGVcbi8vIHRoZSBsb2NhdGlvbiBvZiB0aGUgZXJyb3IsIGF0dGFjaGVzIHRoZSBwb3NpdGlvbiB0byB0aGUgZW5kXG4vLyBvZiB0aGUgZXJyb3IgbWVzc2FnZSwgYW5kIHRoZW4gcmFpc2VzIGEgYFN5bnRheEVycm9yYCB3aXRoIHRoYXRcbi8vIG1lc3NhZ2UuXG5cbmZ1bmN0aW9uIHJhaXNlKHBvcywgbWVzc2FnZSkge1xuICAgIGNvbnN0IGxvYyA9IGdldExpbmVJbmZvKGlucHV0LCBwb3MpO1xuICAgIG1lc3NhZ2UgKz0gJyAoJyArIGxvYy5saW5lICsgJzonICsgbG9jLmNvbHVtbiArICcpJztcbiAgICBjb25zdCBlcnIgPSBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSk7XG4gICAgZXJyLnBvcyA9IHBvcztcbiAgICBlcnIubG9jID0gbG9jO1xuICAgIGVyci5yYWlzZWRBdCA9IHRva1BvcztcbiAgICB0aHJvdyBlcnI7XG59XG5cbi8vIFJldXNlZCBlbXB0eSBhcnJheSBhZGRlZCBmb3Igbm9kZSBmaWVsZHMgdGhhdCBhcmUgYWx3YXlzIGVtcHR5LlxuXG5jb25zdCBlbXB0eSA9IFtdO1xuXG4vLyAjIyBUb2tlbiB0eXBlc1xuXG4vLyBUaGUgYXNzaWdubWVudCBvZiBmaW5lLWdyYWluZWQsIGluZm9ybWF0aW9uLWNhcnJ5aW5nIHR5cGUgb2JqZWN0c1xuLy8gYWxsb3dzIHRoZSB0b2tlbml6ZXIgdG8gc3RvcmUgdGhlIGluZm9ybWF0aW9uIGl0IGhhcyBhYm91dCBhXG4vLyB0b2tlbiBpbiBhIHdheSB0aGF0IGlzIHZlcnkgY2hlYXAgZm9yIHRoZSBwYXJzZXIgdG8gbG9vayB1cC5cblxuLy8gQWxsIHRva2VuIHR5cGUgdmFyaWFibGVzIHN0YXJ0IHdpdGggYW4gdW5kZXJzY29yZSwgdG8gbWFrZSB0aGVtXG4vLyBlYXN5IHRvIHJlY29nbml6ZS5cblxuLy8gVGhlc2UgYXJlIHRoZSBnZW5lcmFsIHR5cGVzLiBUaGUgYHR5cGVgIHByb3BlcnR5IGlzIG9ubHkgdXNlZCB0b1xuLy8gbWFrZSB0aGVtIHJlY29nbml6ZWFibGUgd2hlbiBkZWJ1Z2dpbmcuXG5cbmNvbnN0IF9udW0gPSB7IHR5cGU6ICdudW0nIH0sIF9yZWdleHAgPSB7IHR5cGU6ICdyZWdleHAnIH0sIF9zdHJpbmcgPSB7IHR5cGU6ICdzdHJpbmcnIH07XG5jb25zdCBfbmFtZSA9IHsgdHlwZTogJ25hbWUnIH0sIF9lb2YgPSB7IHR5cGU6ICdlb2YnIH07XG5cbi8vIEtleXdvcmQgdG9rZW5zLiBUaGUgYGtleXdvcmRgIHByb3BlcnR5IChhbHNvIHVzZWQgaW4ga2V5d29yZC1saWtlXG4vLyBvcGVyYXRvcnMpIGluZGljYXRlcyB0aGF0IHRoZSB0b2tlbiBvcmlnaW5hdGVkIGZyb20gYW5cbi8vIGlkZW50aWZpZXItbGlrZSB3b3JkLCB3aGljaCBpcyB1c2VkIHdoZW4gcGFyc2luZyBwcm9wZXJ0eSBuYW1lcy5cbi8vXG4vLyBUaGUgYGJlZm9yZUV4cHJgIHByb3BlcnR5IGlzIHVzZWQgdG8gZGlzYW1iaWd1YXRlIGJldHdlZW4gcmVndWxhclxuLy8gZXhwcmVzc2lvbnMgYW5kIGRpdmlzaW9ucy4gSXQgaXMgc2V0IG9uIGFsbCB0b2tlbiB0eXBlcyB0aGF0IGNhblxuLy8gYmUgZm9sbG93ZWQgYnkgYW4gZXhwcmVzc2lvbiAodGh1cywgYSBzbGFzaCBhZnRlciB0aGVtIHdvdWxkIGJlIGFcbi8vIHJlZ3VsYXIgZXhwcmVzc2lvbikuXG4vL1xuLy8gYGlzTG9vcGAgbWFya3MgYSBrZXl3b3JkIGFzIHN0YXJ0aW5nIGEgbG9vcCwgd2hpY2ggaXMgaW1wb3J0YW50XG4vLyB0byBrbm93IHdoZW4gcGFyc2luZyBhIGxhYmVsLCBpbiBvcmRlciB0byBhbGxvdyBvciBkaXNhbGxvd1xuLy8gY29udGludWUganVtcHMgdG8gdGhhdCBsYWJlbC5cblxuY29uc3QgX2JyZWFrID0geyBrZXl3b3JkOiAnYnJlYWsnIH0sIF9jYXNlID0geyBrZXl3b3JkOiAnY2FzZScsIGJlZm9yZUV4cHI6IHRydWUgfSwgX2NhdGNoID0geyBrZXl3b3JkOiAnY2F0Y2gnIH07XG5jb25zdCBfY29udGludWUgPSB7IGtleXdvcmQ6ICdjb250aW51ZScgfSwgX2RlYnVnZ2VyID0geyBrZXl3b3JkOiAnZGVidWdnZXInIH0sIF9kZWZhdWx0ID0geyBrZXl3b3JkOiAnZGVmYXVsdCcgfTtcbmNvbnN0IF9kbyA9IHsga2V5d29yZDogJ2RvJywgaXNMb29wOiB0cnVlIH0sIF9lbHNlID0geyBrZXl3b3JkOiAnZWxzZScsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9maW5hbGx5ID0geyBrZXl3b3JkOiAnZmluYWxseScgfSwgX2ZvciA9IHsga2V5d29yZDogJ2ZvcicsIGlzTG9vcDogdHJ1ZSB9LCBfZnVuY3Rpb24gPSB7IGtleXdvcmQ6ICdmdW5jdGlvbicgfTtcbmNvbnN0IF9pZiA9IHsga2V5d29yZDogJ2lmJyB9LCBfcmV0dXJuID0geyBrZXl3b3JkOiAncmV0dXJuJywgYmVmb3JlRXhwcjogdHJ1ZSB9LCBfc3dpdGNoID0geyBrZXl3b3JkOiAnc3dpdGNoJyB9O1xuY29uc3QgX3Rocm93ID0geyBrZXl3b3JkOiAndGhyb3cnLCBiZWZvcmVFeHByOiB0cnVlIH0sIF90cnkgPSB7IGtleXdvcmQ6ICd0cnknIH0sIF92YXIgPSB7IGtleXdvcmQ6ICd2YXInIH07XG5jb25zdCBfd2hpbGUgPSB7IGtleXdvcmQ6ICd3aGlsZScsIGlzTG9vcDogdHJ1ZSB9LCBfd2l0aCA9IHsga2V5d29yZDogJ3dpdGgnIH0sXG4gICAgX25ldyA9IHsga2V5d29yZDogJ25ldycsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF90aGlzID0geyBrZXl3b3JkOiAndGhpcycgfTtcblxuLy8gVGhlIGtleXdvcmRzIHRoYXQgZGVub3RlIHZhbHVlcy5cblxuY29uc3QgX251bGwgPSB7IGtleXdvcmQ6ICdudWxsJywgYXRvbVZhbHVlOiBudWxsIH0sIF90cnVlID0geyBrZXl3b3JkOiAndHJ1ZScsIGF0b21WYWx1ZTogdHJ1ZSB9O1xuY29uc3QgX2ZhbHNlID0geyBrZXl3b3JkOiAnZmFsc2UnLCBhdG9tVmFsdWU6IGZhbHNlIH07XG5cbi8vIFNvbWUga2V5d29yZHMgYXJlIHRyZWF0ZWQgYXMgcmVndWxhciBvcGVyYXRvcnMuIGBpbmAgc29tZXRpbWVzXG4vLyAod2hlbiBwYXJzaW5nIGBmb3JgKSBuZWVkcyB0byBiZSB0ZXN0ZWQgYWdhaW5zdCBzcGVjaWZpY2FsbHksIHNvXG4vLyB3ZSBhc3NpZ24gYSB2YXJpYWJsZSBuYW1lIHRvIGl0IGZvciBxdWljayBjb21wYXJpbmcuXG5cbmNvbnN0IF9pbiA9IHsga2V5d29yZDogJ2luJywgYmlub3A6IDcsIGJlZm9yZUV4cHI6IHRydWUgfTtcblxuLy8gTWFwIGtleXdvcmQgbmFtZXMgdG8gdG9rZW4gdHlwZXMuXG5cbmNvbnN0IGtleXdvcmRUeXBlcyA9IHtcbiAgICAnYnJlYWsnOiBfYnJlYWssICdjYXNlJzogX2Nhc2UsICdjYXRjaCc6IF9jYXRjaCxcbiAgICAnY29udGludWUnOiBfY29udGludWUsICdkZWJ1Z2dlcic6IF9kZWJ1Z2dlciwgJ2RlZmF1bHQnOiBfZGVmYXVsdCxcbiAgICAnZG8nOiBfZG8sICdlbHNlJzogX2Vsc2UsICdmaW5hbGx5JzogX2ZpbmFsbHksICdmb3InOiBfZm9yLFxuICAgICdmdW5jdGlvbic6IF9mdW5jdGlvbiwgJ2lmJzogX2lmLCAncmV0dXJuJzogX3JldHVybiwgJ3N3aXRjaCc6IF9zd2l0Y2gsXG4gICAgJ3Rocm93JzogX3Rocm93LCAndHJ5JzogX3RyeSwgJ3Zhcic6IF92YXIsICd3aGlsZSc6IF93aGlsZSwgJ3dpdGgnOiBfd2l0aCxcbiAgICAnbnVsbCc6IF9udWxsLCAndHJ1ZSc6IF90cnVlLCAnZmFsc2UnOiBfZmFsc2UsICduZXcnOiBfbmV3LCAnaW4nOiBfaW4sXG4gICAgJ2luc3RhbmNlb2YnOiB7IGtleXdvcmQ6ICdpbnN0YW5jZW9mJywgYmlub3A6IDcsIGJlZm9yZUV4cHI6IHRydWUgfSwgJ3RoaXMnOiBfdGhpcyxcbiAgICAndHlwZW9mJzogeyBrZXl3b3JkOiAndHlwZW9mJywgcHJlZml4OiB0cnVlLCBiZWZvcmVFeHByOiB0cnVlIH0sXG4gICAgJ3ZvaWQnOiB7IGtleXdvcmQ6ICd2b2lkJywgcHJlZml4OiB0cnVlLCBiZWZvcmVFeHByOiB0cnVlIH0sXG4gICAgJ2RlbGV0ZSc6IHsga2V5d29yZDogJ2RlbGV0ZScsIHByZWZpeDogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZSB9LFxufTtcblxuLy8gUHVuY3R1YXRpb24gdG9rZW4gdHlwZXMuIEFnYWluLCB0aGUgYHR5cGVgIHByb3BlcnR5IGlzIHB1cmVseSBmb3IgZGVidWdnaW5nLlxuXG5jb25zdCBfYnJhY2tldEwgPSB7IHR5cGU6ICdbJywgYmVmb3JlRXhwcjogdHJ1ZSB9LCBfYnJhY2tldFIgPSB7IHR5cGU6ICddJyB9LCBfYnJhY2VMID0geyB0eXBlOiAneycsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9icmFjZVIgPSB7IHR5cGU6ICd9JyB9LCBfcGFyZW5MID0geyB0eXBlOiAnKCcsIGJlZm9yZUV4cHI6IHRydWUgfSwgX3BhcmVuUiA9IHsgdHlwZTogJyknIH07XG5jb25zdCBfY29tbWEgPSB7IHR5cGU6ICcsJywgYmVmb3JlRXhwcjogdHJ1ZSB9LCBfc2VtaSA9IHsgdHlwZTogJzsnLCBiZWZvcmVFeHByOiB0cnVlIH07XG5jb25zdCBfY29sb24gPSB7IHR5cGU6ICc6JywgYmVmb3JlRXhwcjogdHJ1ZSB9LCBfZG90ID0geyB0eXBlOiAnLicgfSwgX3F1ZXN0aW9uID0geyB0eXBlOiAnPycsIGJlZm9yZUV4cHI6IHRydWUgfTtcblxuLy8gT3BlcmF0b3JzLiBUaGVzZSBjYXJyeSBzZXZlcmFsIGtpbmRzIG9mIHByb3BlcnRpZXMgdG8gaGVscCB0aGVcbi8vIHBhcnNlciB1c2UgdGhlbSBwcm9wZXJseSAodGhlIHByZXNlbmNlIG9mIHRoZXNlIHByb3BlcnRpZXMgaXNcbi8vIHdoYXQgY2F0ZWdvcml6ZXMgdGhlbSBhcyBvcGVyYXRvcnMpLlxuLy9cbi8vIGBiaW5vcGAsIHdoZW4gcHJlc2VudCwgc3BlY2lmaWVzIHRoYXQgdGhpcyBvcGVyYXRvciBpcyBhIGJpbmFyeVxuLy8gb3BlcmF0b3IsIGFuZCB3aWxsIHJlZmVyIHRvIGl0cyBwcmVjZWRlbmNlLlxuLy9cbi8vIGBwcmVmaXhgIGFuZCBgcG9zdGZpeGAgbWFyayB0aGUgb3BlcmF0b3IgYXMgYSBwcmVmaXggb3IgcG9zdGZpeFxuLy8gdW5hcnkgb3BlcmF0b3IuIGBpc1VwZGF0ZWAgc3BlY2lmaWVzIHRoYXQgdGhlIG5vZGUgcHJvZHVjZWQgYnlcbi8vIHRoZSBvcGVyYXRvciBzaG91bGQgYmUgb2YgdHlwZSBVcGRhdGVFeHByZXNzaW9uIHJhdGhlciB0aGFuXG4vLyBzaW1wbHkgVW5hcnlFeHByZXNzaW9uIChgKytgIGFuZCBgLS1gKS5cbi8vXG4vLyBgaXNBc3NpZ25gIG1hcmtzIGFsbCBvZiBgPWAsIGArPWAsIGAtPWAgZXRjZXRlcmEsIHdoaWNoIGFjdCBhc1xuLy8gYmluYXJ5IG9wZXJhdG9ycyB3aXRoIGEgdmVyeSBsb3cgcHJlY2VkZW5jZSwgdGhhdCBzaG91bGQgcmVzdWx0XG4vLyBpbiBBc3NpZ25tZW50RXhwcmVzc2lvbiBub2Rlcy5cblxuY29uc3QgX3NsYXNoID0geyBiaW5vcDogMTAsIGJlZm9yZUV4cHI6IHRydWUgfSwgX2VxID0geyBpc0Fzc2lnbjogdHJ1ZSwgYmVmb3JlRXhwcjogdHJ1ZSB9O1xuY29uc3QgX2Fzc2lnbiA9IHsgaXNBc3NpZ246IHRydWUsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9pbmNEZWMgPSB7IHBvc3RmaXg6IHRydWUsIHByZWZpeDogdHJ1ZSwgaXNVcGRhdGU6IHRydWUgfSwgX3ByZWZpeCA9IHsgcHJlZml4OiB0cnVlLCBiZWZvcmVFeHByOiB0cnVlIH07XG5jb25zdCBfbG9naWNhbE9SID0geyBiaW5vcDogMSwgYmVmb3JlRXhwcjogdHJ1ZSB9O1xuY29uc3QgX2xvZ2ljYWxBTkQgPSB7IGJpbm9wOiAyLCBiZWZvcmVFeHByOiB0cnVlIH07XG5jb25zdCBfYml0d2lzZU9SID0geyBiaW5vcDogMywgYmVmb3JlRXhwcjogdHJ1ZSB9O1xuY29uc3QgX2JpdHdpc2VYT1IgPSB7IGJpbm9wOiA0LCBiZWZvcmVFeHByOiB0cnVlIH07XG5jb25zdCBfYml0d2lzZUFORCA9IHsgYmlub3A6IDUsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9lcXVhbGl0eSA9IHsgYmlub3A6IDYsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9yZWxhdGlvbmFsID0geyBiaW5vcDogNywgYmVmb3JlRXhwcjogdHJ1ZSB9O1xuY29uc3QgX2JpdFNoaWZ0ID0geyBiaW5vcDogOCwgYmVmb3JlRXhwcjogdHJ1ZSB9O1xuY29uc3QgX3BsdXNNaW4gPSB7IGJpbm9wOiA5LCBwcmVmaXg6IHRydWUsIGJlZm9yZUV4cHI6IHRydWUgfTtcbmNvbnN0IF9tdWx0aXBseU1vZHVsbyA9IHsgYmlub3A6IDEwLCBiZWZvcmVFeHByOiB0cnVlIH07XG5cbi8vIFByb3ZpZGUgYWNjZXNzIHRvIHRoZSB0b2tlbiB0eXBlcyBmb3IgZXh0ZXJuYWwgdXNlcnMgb2YgdGhlXG4vLyB0b2tlbml6ZXIuXG5cbmV4cG9ydHMudG9rVHlwZXMgPSB7XG4gICAgYnJhY2tldEw6IF9icmFja2V0TCwgYnJhY2tldFI6IF9icmFja2V0UiwgYnJhY2VMOiBfYnJhY2VMLCBicmFjZVI6IF9icmFjZVIsXG4gICAgcGFyZW5MOiBfcGFyZW5MLCBwYXJlblI6IF9wYXJlblIsIGNvbW1hOiBfY29tbWEsIHNlbWk6IF9zZW1pLCBjb2xvbjogX2NvbG9uLFxuICAgIGRvdDogX2RvdCwgcXVlc3Rpb246IF9xdWVzdGlvbiwgc2xhc2g6IF9zbGFzaCwgZXE6IF9lcSwgbmFtZTogX25hbWUsIGVvZjogX2VvZixcbiAgICBudW06IF9udW0sIHJlZ2V4cDogX3JlZ2V4cCwgc3RyaW5nOiBfc3RyaW5nLFxufTtcbmZvciAobGV0IGt3IGluIGtleXdvcmRUeXBlcykgZXhwb3J0cy50b2tUeXBlc1snXycgKyBrd10gPSBrZXl3b3JkVHlwZXNba3ddO1xuXG4vLyBUaGlzIGlzIGEgdHJpY2sgdGFrZW4gZnJvbSBFc3ByaW1hLiBJdCB0dXJucyBvdXQgdGhhdCwgb25cbi8vIG5vbi1DaHJvbWUgYnJvd3NlcnMsIHRvIGNoZWNrIHdoZXRoZXIgYSBzdHJpbmcgaXMgaW4gYSBzZXQsIGFcbi8vIHByZWRpY2F0ZSBjb250YWluaW5nIGEgYmlnIHVnbHkgYHN3aXRjaGAgc3RhdGVtZW50IGlzIGZhc3RlciB0aGFuXG4vLyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiwgYW5kIG9uIENocm9tZSB0aGUgdHdvIGFyZSBhYm91dCBvbiBwYXIuXG4vLyBUaGlzIGZ1bmN0aW9uIHVzZXMgYGV2YWxgIChub24tbGV4aWNhbCkgdG8gcHJvZHVjZSBzdWNoIGFcbi8vIHByZWRpY2F0ZSBmcm9tIGEgc3BhY2Utc2VwYXJhdGVkIHN0cmluZyBvZiB3b3Jkcy5cbi8vXG4vLyBJdCBzdGFydHMgYnkgc29ydGluZyB0aGUgd29yZHMgYnkgbGVuZ3RoLlxuXG5mdW5jdGlvbiBtYWtlUHJlZGljYXRlKHdvcmRzKSB7XG4gICAgd29yZHMgPSB3b3Jkcy5zcGxpdCgnICcpO1xuICAgIGxldCBmID0gJyc7XG4gICAgY29uc3QgY2F0cyA9IFtdO1xuICAgIG91dDogZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNhdHMubGVuZ3RoOyArK2opXG4gICAgICAgICAgICBpZiAoY2F0c1tqXVswXS5sZW5ndGggPT0gd29yZHNbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2F0c1tqXS5wdXNoKHdvcmRzW2ldKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZSBvdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhdHMucHVzaChbd29yZHNbaV1dKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wYXJlVG8oYXJyKSB7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09IDEpIHJldHVybiBmICs9ICdyZXR1cm4gc3RyID09PSAnICsgSlNPTi5zdHJpbmdpZnkoYXJyWzBdKSArICc7JztcbiAgICAgICAgZiArPSAnc3dpdGNoKHN0cil7JztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGYgKz0gJ2Nhc2UgJyArIEpTT04uc3RyaW5naWZ5KGFycltpXSkgKyAnOic7XG4gICAgICAgIGYgKz0gJ3JldHVybiB0cnVlfXJldHVybiBmYWxzZTsnO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBsZW5ndGggY2F0ZWdvcmllcywgYW4gb3V0ZXJcbiAgICAvLyBzd2l0Y2ggZmlyc3QgZGlzcGF0Y2hlcyBvbiB0aGUgbGVuZ3RocywgdG8gc2F2ZSBvbiBjb21wYXJpc29ucy5cblxuICAgIGlmIChjYXRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgY2F0cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9KTtcbiAgICAgICAgZiArPSAnc3dpdGNoKHN0ci5sZW5ndGgpeyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0c1tpXTtcbiAgICAgICAgICAgIGYgKz0gJ2Nhc2UgJyArIGNhdFswXS5sZW5ndGggKyAnOic7XG4gICAgICAgICAgICBjb21wYXJlVG8oY2F0KTtcbiAgICAgICAgfVxuICAgICAgICBmICs9ICd9JztcblxuICAgICAgICAvLyBPdGhlcndpc2UsIHNpbXBseSBnZW5lcmF0ZSBhIGZsYXQgYHN3aXRjaGAgc3RhdGVtZW50LlxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGFyZVRvKHdvcmRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbignc3RyJywgZik7XG59XG5cbi8vIFRoZSBFQ01BU2NyaXB0IDMgcmVzZXJ2ZWQgd29yZCBsaXN0LlxuXG5jb25zdCBpc1Jlc2VydmVkV29yZDMgPSBtYWtlUHJlZGljYXRlKCdhYnN0cmFjdCBib29sZWFuIGJ5dGUgY2hhciBjbGFzcyBkb3VibGUgZW51bSBleHBvcnQgZXh0ZW5kcyBmaW5hbCBmbG9hdCBnb3RvIGltcGxlbWVudHMgaW1wb3J0IGludCBpbnRlcmZhY2UgbG9uZyBuYXRpdmUgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgc2hvcnQgc3RhdGljIHN1cGVyIHN5bmNocm9uaXplZCB0aHJvd3MgdHJhbnNpZW50IHZvbGF0aWxlJyk7XG5cbi8vIEVDTUFTY3JpcHQgNSByZXNlcnZlZCB3b3Jkcy5cblxuY29uc3QgaXNSZXNlcnZlZFdvcmQ1ID0gbWFrZVByZWRpY2F0ZSgnY2xhc3MgZW51bSBleHRlbmRzIHN1cGVyIGNvbnN0IGV4cG9ydCBpbXBvcnQnKTtcblxuLy8gVGhlIGFkZGl0aW9uYWwgcmVzZXJ2ZWQgd29yZHMgaW4gc3RyaWN0IG1vZGUuXG5cbmNvbnN0IGlzU3RyaWN0UmVzZXJ2ZWRXb3JkID0gbWFrZVByZWRpY2F0ZSgnaW1wbGVtZW50cyBpbnRlcmZhY2UgbGV0IHBhY2thZ2UgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHN0YXRpYyB5aWVsZCcpO1xuXG4vLyBUaGUgZm9yYmlkZGVuIHZhcmlhYmxlIG5hbWVzIGluIHN0cmljdCBtb2RlLlxuXG5jb25zdCBpc1N0cmljdEJhZElkV29yZCA9IG1ha2VQcmVkaWNhdGUoJ2V2YWwgYXJndW1lbnRzJyk7XG5cbi8vIEFuZCB0aGUga2V5d29yZHMuXG5cbmNvbnN0IGlzS2V5d29yZCA9IG1ha2VQcmVkaWNhdGUoJ2JyZWFrIGNhc2UgY2F0Y2ggY29udGludWUgZGVidWdnZXIgZGVmYXVsdCBkbyBlbHNlIGZpbmFsbHkgZm9yIGZ1bmN0aW9uIGlmIHJldHVybiBzd2l0Y2ggdGhyb3cgdHJ5IHZhciB3aGlsZSB3aXRoIG51bGwgdHJ1ZSBmYWxzZSBpbnN0YW5jZW9mIHR5cGVvZiB2b2lkIGRlbGV0ZSBuZXcgaW4gdGhpcycpO1xuXG4vLyAjIyBDaGFyYWN0ZXIgY2F0ZWdvcmllc1xuXG4vLyBCaWcgdWdseSByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgbWF0Y2ggY2hhcmFjdGVycyBpbiB0aGVcbi8vIHdoaXRlc3BhY2UsIGlkZW50aWZpZXIsIGFuZCBpZGVudGlmaWVyLXN0YXJ0IGNhdGVnb3JpZXMuIFRoZXNlXG4vLyBhcmUgb25seSBhcHBsaWVkIHdoZW4gYSBjaGFyYWN0ZXIgaXMgZm91bmQgdG8gYWN0dWFsbHkgaGF2ZSBhXG4vLyBjb2RlIHBvaW50IGFib3ZlIDEyOC5cblxuY29uc3Qgbm9uQVNDSUl3aGl0ZXNwYWNlID0gL1tcXHUxNjgwXFx1MTgwZVxcdTIwMDAtXFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdWZlZmZdLztcbmNvbnN0IG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgPSAnXFx4YWFcXHhiNVxceGJhXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxcdTAyYzFcXHUwMmM2LVxcdTAyZDFcXHUwMmUwLVxcdTAyZTRcXHUwMmVjXFx1MDJlZVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3YS1cXHUwMzdkXFx1MDM4NlxcdTAzODgtXFx1MDM4YVxcdTAzOGNcXHUwMzhlLVxcdTAzYTFcXHUwM2EzLVxcdTAzZjVcXHUwM2Y3LVxcdTA0ODFcXHUwNDhhLVxcdTA1MjdcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDVkMC1cXHUwNWVhXFx1MDVmMC1cXHUwNWYyXFx1MDYyMC1cXHUwNjRhXFx1MDY2ZVxcdTA2NmZcXHUwNjcxLVxcdTA2ZDNcXHUwNmQ1XFx1MDZlNVxcdTA2ZTZcXHUwNmVlXFx1MDZlZlxcdTA2ZmEtXFx1MDZmY1xcdTA2ZmZcXHUwNzEwXFx1MDcxMi1cXHUwNzJmXFx1MDc0ZC1cXHUwN2E1XFx1MDdiMVxcdTA3Y2EtXFx1MDdlYVxcdTA3ZjRcXHUwN2Y1XFx1MDdmYVxcdTA4MDAtXFx1MDgxNVxcdTA4MWFcXHUwODI0XFx1MDgyOFxcdTA4NDAtXFx1MDg1OFxcdTA4YTBcXHUwOGEyLVxcdTA4YWNcXHUwOTA0LVxcdTA5MzlcXHUwOTNkXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk3N1xcdTA5NzktXFx1MDk3ZlxcdTA5ODUtXFx1MDk4Y1xcdTA5OGZcXHUwOTkwXFx1MDk5My1cXHUwOWE4XFx1MDlhYS1cXHUwOWIwXFx1MDliMlxcdTA5YjYtXFx1MDliOVxcdTA5YmRcXHUwOWNlXFx1MDlkY1xcdTA5ZGRcXHUwOWRmLVxcdTA5ZTFcXHUwOWYwXFx1MDlmMVxcdTBhMDUtXFx1MGEwYVxcdTBhMGZcXHUwYTEwXFx1MGExMy1cXHUwYTI4XFx1MGEyYS1cXHUwYTMwXFx1MGEzMlxcdTBhMzNcXHUwYTM1XFx1MGEzNlxcdTBhMzhcXHUwYTM5XFx1MGE1OS1cXHUwYTVjXFx1MGE1ZVxcdTBhNzItXFx1MGE3NFxcdTBhODUtXFx1MGE4ZFxcdTBhOGYtXFx1MGE5MVxcdTBhOTMtXFx1MGFhOFxcdTBhYWEtXFx1MGFiMFxcdTBhYjJcXHUwYWIzXFx1MGFiNS1cXHUwYWI5XFx1MGFiZFxcdTBhZDBcXHUwYWUwXFx1MGFlMVxcdTBiMDUtXFx1MGIwY1xcdTBiMGZcXHUwYjEwXFx1MGIxMy1cXHUwYjI4XFx1MGIyYS1cXHUwYjMwXFx1MGIzMlxcdTBiMzNcXHUwYjM1LVxcdTBiMzlcXHUwYjNkXFx1MGI1Y1xcdTBiNWRcXHUwYjVmLVxcdTBiNjFcXHUwYjcxXFx1MGI4M1xcdTBiODUtXFx1MGI4YVxcdTBiOGUtXFx1MGI5MFxcdTBiOTItXFx1MGI5NVxcdTBiOTlcXHUwYjlhXFx1MGI5Y1xcdTBiOWVcXHUwYjlmXFx1MGJhM1xcdTBiYTRcXHUwYmE4LVxcdTBiYWFcXHUwYmFlLVxcdTBiYjlcXHUwYmQwXFx1MGMwNS1cXHUwYzBjXFx1MGMwZS1cXHUwYzEwXFx1MGMxMi1cXHUwYzI4XFx1MGMyYS1cXHUwYzMzXFx1MGMzNS1cXHUwYzM5XFx1MGMzZFxcdTBjNThcXHUwYzU5XFx1MGM2MFxcdTBjNjFcXHUwYzg1LVxcdTBjOGNcXHUwYzhlLVxcdTBjOTBcXHUwYzkyLVxcdTBjYThcXHUwY2FhLVxcdTBjYjNcXHUwY2I1LVxcdTBjYjlcXHUwY2JkXFx1MGNkZVxcdTBjZTBcXHUwY2UxXFx1MGNmMVxcdTBjZjJcXHUwZDA1LVxcdTBkMGNcXHUwZDBlLVxcdTBkMTBcXHUwZDEyLVxcdTBkM2FcXHUwZDNkXFx1MGQ0ZVxcdTBkNjBcXHUwZDYxXFx1MGQ3YS1cXHUwZDdmXFx1MGQ4NS1cXHUwZDk2XFx1MGQ5YS1cXHUwZGIxXFx1MGRiMy1cXHUwZGJiXFx1MGRiZFxcdTBkYzAtXFx1MGRjNlxcdTBlMDEtXFx1MGUzMFxcdTBlMzJcXHUwZTMzXFx1MGU0MC1cXHUwZTQ2XFx1MGU4MVxcdTBlODJcXHUwZTg0XFx1MGU4N1xcdTBlODhcXHUwZThhXFx1MGU4ZFxcdTBlOTQtXFx1MGU5N1xcdTBlOTktXFx1MGU5ZlxcdTBlYTEtXFx1MGVhM1xcdTBlYTVcXHUwZWE3XFx1MGVhYVxcdTBlYWJcXHUwZWFkLVxcdTBlYjBcXHUwZWIyXFx1MGViM1xcdTBlYmRcXHUwZWMwLVxcdTBlYzRcXHUwZWM2XFx1MGVkYy1cXHUwZWRmXFx1MGYwMFxcdTBmNDAtXFx1MGY0N1xcdTBmNDktXFx1MGY2Y1xcdTBmODgtXFx1MGY4Y1xcdTEwMDAtXFx1MTAyYVxcdTEwM2ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVhLVxcdTEwNWRcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZlLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhlXFx1MTBhMC1cXHUxMGM1XFx1MTBjN1xcdTEwY2RcXHUxMGQwLVxcdTEwZmFcXHUxMGZjLVxcdTEyNDhcXHUxMjRhLVxcdTEyNGRcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1YS1cXHUxMjVkXFx1MTI2MC1cXHUxMjg4XFx1MTI4YS1cXHUxMjhkXFx1MTI5MC1cXHUxMmIwXFx1MTJiMi1cXHUxMmI1XFx1MTJiOC1cXHUxMmJlXFx1MTJjMFxcdTEyYzItXFx1MTJjNVxcdTEyYzgtXFx1MTJkNlxcdTEyZDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1YVxcdTEzODAtXFx1MTM4ZlxcdTEzYTAtXFx1MTNmNFxcdTE0MDEtXFx1MTY2Y1xcdTE2NmYtXFx1MTY3ZlxcdTE2ODEtXFx1MTY5YVxcdTE2YTAtXFx1MTZlYVxcdTE2ZWUtXFx1MTZmMFxcdTE3MDAtXFx1MTcwY1xcdTE3MGUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Y1xcdTE3NmUtXFx1MTc3MFxcdTE3ODAtXFx1MTdiM1xcdTE3ZDdcXHUxN2RjXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOGE4XFx1MThhYVxcdTE4YjAtXFx1MThmNVxcdTE5MDAtXFx1MTkxY1xcdTE5NTAtXFx1MTk2ZFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlhYlxcdTE5YzEtXFx1MTljN1xcdTFhMDAtXFx1MWExNlxcdTFhMjAtXFx1MWE1NFxcdTFhYTdcXHUxYjA1LVxcdTFiMzNcXHUxYjQ1LVxcdTFiNGJcXHUxYjgzLVxcdTFiYTBcXHUxYmFlXFx1MWJhZlxcdTFiYmEtXFx1MWJlNVxcdTFjMDAtXFx1MWMyM1xcdTFjNGQtXFx1MWM0ZlxcdTFjNWEtXFx1MWM3ZFxcdTFjZTktXFx1MWNlY1xcdTFjZWUtXFx1MWNmMVxcdTFjZjVcXHUxY2Y2XFx1MWQwMC1cXHUxZGJmXFx1MWUwMC1cXHUxZjE1XFx1MWYxOC1cXHUxZjFkXFx1MWYyMC1cXHUxZjQ1XFx1MWY0OC1cXHUxZjRkXFx1MWY1MC1cXHUxZjU3XFx1MWY1OVxcdTFmNWJcXHUxZjVkXFx1MWY1Zi1cXHUxZjdkXFx1MWY4MC1cXHUxZmI0XFx1MWZiNi1cXHUxZmJjXFx1MWZiZVxcdTFmYzItXFx1MWZjNFxcdTFmYzYtXFx1MWZjY1xcdTFmZDAtXFx1MWZkM1xcdTFmZDYtXFx1MWZkYlxcdTFmZTAtXFx1MWZlY1xcdTFmZjItXFx1MWZmNFxcdTFmZjYtXFx1MWZmY1xcdTIwNzFcXHUyMDdmXFx1MjA5MC1cXHUyMDljXFx1MjEwMlxcdTIxMDdcXHUyMTBhLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFkXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyYS1cXHUyMTJkXFx1MjEyZi1cXHUyMTM5XFx1MjEzYy1cXHUyMTNmXFx1MjE0NS1cXHUyMTQ5XFx1MjE0ZVxcdTIxNjAtXFx1MjE4OFxcdTJjMDAtXFx1MmMyZVxcdTJjMzAtXFx1MmM1ZVxcdTJjNjAtXFx1MmNlNFxcdTJjZWItXFx1MmNlZVxcdTJjZjJcXHUyY2YzXFx1MmQwMC1cXHUyZDI1XFx1MmQyN1xcdTJkMmRcXHUyZDMwLVxcdTJkNjdcXHUyZDZmXFx1MmQ4MC1cXHUyZDk2XFx1MmRhMC1cXHUyZGE2XFx1MmRhOC1cXHUyZGFlXFx1MmRiMC1cXHUyZGI2XFx1MmRiOC1cXHUyZGJlXFx1MmRjMC1cXHUyZGM2XFx1MmRjOC1cXHUyZGNlXFx1MmRkMC1cXHUyZGQ2XFx1MmRkOC1cXHUyZGRlXFx1MmUyZlxcdTMwMDUtXFx1MzAwN1xcdTMwMjEtXFx1MzAyOVxcdTMwMzEtXFx1MzAzNVxcdTMwMzgtXFx1MzAzY1xcdTMwNDEtXFx1MzA5NlxcdTMwOWQtXFx1MzA5ZlxcdTMwYTEtXFx1MzBmYVxcdTMwZmMtXFx1MzBmZlxcdTMxMDUtXFx1MzEyZFxcdTMxMzEtXFx1MzE4ZVxcdTMxYTAtXFx1MzFiYVxcdTMxZjAtXFx1MzFmZlxcdTM0MDAtXFx1NGRiNVxcdTRlMDAtXFx1OWZjY1xcdWEwMDAtXFx1YTQ4Y1xcdWE0ZDAtXFx1YTRmZFxcdWE1MDAtXFx1YTYwY1xcdWE2MTAtXFx1YTYxZlxcdWE2MmFcXHVhNjJiXFx1YTY0MC1cXHVhNjZlXFx1YTY3Zi1cXHVhNjk3XFx1YTZhMC1cXHVhNmVmXFx1YTcxNy1cXHVhNzFmXFx1YTcyMi1cXHVhNzg4XFx1YTc4Yi1cXHVhNzhlXFx1YTc5MC1cXHVhNzkzXFx1YTdhMC1cXHVhN2FhXFx1YTdmOC1cXHVhODAxXFx1YTgwMy1cXHVhODA1XFx1YTgwNy1cXHVhODBhXFx1YTgwYy1cXHVhODIyXFx1YTg0MC1cXHVhODczXFx1YTg4Mi1cXHVhOGIzXFx1YThmMi1cXHVhOGY3XFx1YThmYlxcdWE5MGEtXFx1YTkyNVxcdWE5MzAtXFx1YTk0NlxcdWE5NjAtXFx1YTk3Y1xcdWE5ODQtXFx1YTliMlxcdWE5Y2ZcXHVhYTAwLVxcdWFhMjhcXHVhYTQwLVxcdWFhNDJcXHVhYTQ0LVxcdWFhNGJcXHVhYTYwLVxcdWFhNzZcXHVhYTdhXFx1YWE4MC1cXHVhYWFmXFx1YWFiMVxcdWFhYjVcXHVhYWI2XFx1YWFiOS1cXHVhYWJkXFx1YWFjMFxcdWFhYzJcXHVhYWRiLVxcdWFhZGRcXHVhYWUwLVxcdWFhZWFcXHVhYWYyLVxcdWFhZjRcXHVhYjAxLVxcdWFiMDZcXHVhYjA5LVxcdWFiMGVcXHVhYjExLVxcdWFiMTZcXHVhYjIwLVxcdWFiMjZcXHVhYjI4LVxcdWFiMmVcXHVhYmMwLVxcdWFiZTJcXHVhYzAwLVxcdWQ3YTNcXHVkN2IwLVxcdWQ3YzZcXHVkN2NiLVxcdWQ3ZmJcXHVmOTAwLVxcdWZhNmRcXHVmYTcwLVxcdWZhZDlcXHVmYjAwLVxcdWZiMDZcXHVmYjEzLVxcdWZiMTdcXHVmYjFkXFx1ZmIxZi1cXHVmYjI4XFx1ZmIyYS1cXHVmYjM2XFx1ZmIzOC1cXHVmYjNjXFx1ZmIzZVxcdWZiNDBcXHVmYjQxXFx1ZmI0M1xcdWZiNDRcXHVmYjQ2LVxcdWZiYjFcXHVmYmQzLVxcdWZkM2RcXHVmZDUwLVxcdWZkOGZcXHVmZDkyLVxcdWZkYzdcXHVmZGYwLVxcdWZkZmJcXHVmZTcwLVxcdWZlNzRcXHVmZTc2LVxcdWZlZmNcXHVmZjIxLVxcdWZmM2FcXHVmZjQxLVxcdWZmNWFcXHVmZjY2LVxcdWZmYmVcXHVmZmMyLVxcdWZmYzdcXHVmZmNhLVxcdWZmY2ZcXHVmZmQyLVxcdWZmZDdcXHVmZmRhLVxcdWZmZGMnO1xuY29uc3Qgbm9uQVNDSUlpZGVudGlmaWVyQ2hhcnMgPSAnXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg3XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDYyMC1cXHUwNjQ5XFx1MDY3Mi1cXHUwNmQzXFx1MDZlNy1cXHUwNmU4XFx1MDZmYi1cXHUwNmZjXFx1MDczMC1cXHUwNzRhXFx1MDgwMC1cXHUwODE0XFx1MDgxYi1cXHUwODIzXFx1MDgyNS1cXHUwODI3XFx1MDgyOS1cXHUwODJkXFx1MDg0MC1cXHUwODU3XFx1MDhlNC1cXHUwOGZlXFx1MDkwMC1cXHUwOTAzXFx1MDkzYS1cXHUwOTNjXFx1MDkzZS1cXHUwOTRmXFx1MDk1MS1cXHUwOTU3XFx1MDk2Mi1cXHUwOTYzXFx1MDk2Ni1cXHUwOTZmXFx1MDk4MS1cXHUwOTgzXFx1MDliY1xcdTA5YmUtXFx1MDljNFxcdTA5YzdcXHUwOWM4XFx1MDlkN1xcdTA5ZGYtXFx1MDllMFxcdTBhMDEtXFx1MGEwM1xcdTBhM2NcXHUwYTNlLVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTY2LVxcdTBhNzFcXHUwYTc1XFx1MGE4MS1cXHUwYTgzXFx1MGFiY1xcdTBhYmUtXFx1MGFjNVxcdTBhYzctXFx1MGFjOVxcdTBhY2ItXFx1MGFjZFxcdTBhZTItXFx1MGFlM1xcdTBhZTYtXFx1MGFlZlxcdTBiMDEtXFx1MGIwM1xcdTBiM2NcXHUwYjNlLVxcdTBiNDRcXHUwYjQ3XFx1MGI0OFxcdTBiNGItXFx1MGI0ZFxcdTBiNTZcXHUwYjU3XFx1MGI1Zi1cXHUwYjYwXFx1MGI2Ni1cXHUwYjZmXFx1MGI4MlxcdTBiYmUtXFx1MGJjMlxcdTBiYzYtXFx1MGJjOFxcdTBiY2EtXFx1MGJjZFxcdTBiZDdcXHUwYmU2LVxcdTBiZWZcXHUwYzAxLVxcdTBjMDNcXHUwYzQ2LVxcdTBjNDhcXHUwYzRhLVxcdTBjNGRcXHUwYzU1XFx1MGM1NlxcdTBjNjItXFx1MGM2M1xcdTBjNjYtXFx1MGM2ZlxcdTBjODJcXHUwYzgzXFx1MGNiY1xcdTBjYmUtXFx1MGNjNFxcdTBjYzYtXFx1MGNjOFxcdTBjY2EtXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMi1cXHUwY2UzXFx1MGNlNi1cXHUwY2VmXFx1MGQwMlxcdTBkMDNcXHUwZDQ2LVxcdTBkNDhcXHUwZDU3XFx1MGQ2Mi1cXHUwZDYzXFx1MGQ2Ni1cXHUwZDZmXFx1MGQ4MlxcdTBkODNcXHUwZGNhXFx1MGRjZi1cXHUwZGQ0XFx1MGRkNlxcdTBkZDgtXFx1MGRkZlxcdTBkZjJcXHUwZGYzXFx1MGUzNC1cXHUwZTNhXFx1MGU0MC1cXHUwZTQ1XFx1MGU1MC1cXHUwZTU5XFx1MGViNC1cXHUwZWI5XFx1MGVjOC1cXHUwZWNkXFx1MGVkMC1cXHUwZWQ5XFx1MGYxOFxcdTBmMTlcXHUwZjIwLVxcdTBmMjlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjQxLVxcdTBmNDdcXHUwZjcxLVxcdTBmODRcXHUwZjg2LVxcdTBmODdcXHUwZjhkLVxcdTBmOTdcXHUwZjk5LVxcdTBmYmNcXHUwZmM2XFx1MTAwMC1cXHUxMDI5XFx1MTA0MC1cXHUxMDQ5XFx1MTA2Ny1cXHUxMDZkXFx1MTA3MS1cXHUxMDc0XFx1MTA4Mi1cXHUxMDhkXFx1MTA4Zi1cXHUxMDlkXFx1MTM1ZC1cXHUxMzVmXFx1MTcwZS1cXHUxNzEwXFx1MTcyMC1cXHUxNzMwXFx1MTc0MC1cXHUxNzUwXFx1MTc3MlxcdTE3NzNcXHUxNzgwLVxcdTE3YjJcXHUxN2RkXFx1MTdlMC1cXHUxN2U5XFx1MTgwYi1cXHUxODBkXFx1MTgxMC1cXHUxODE5XFx1MTkyMC1cXHUxOTJiXFx1MTkzMC1cXHUxOTNiXFx1MTk1MS1cXHUxOTZkXFx1MTliMC1cXHUxOWMwXFx1MTljOC1cXHUxOWM5XFx1MTlkMC1cXHUxOWQ5XFx1MWEwMC1cXHUxYTE1XFx1MWEyMC1cXHUxYTUzXFx1MWE2MC1cXHUxYTdjXFx1MWE3Zi1cXHUxYTg5XFx1MWE5MC1cXHUxYTk5XFx1MWI0Ni1cXHUxYjRiXFx1MWI1MC1cXHUxYjU5XFx1MWI2Yi1cXHUxYjczXFx1MWJiMC1cXHUxYmI5XFx1MWJlNi1cXHUxYmYzXFx1MWMwMC1cXHUxYzIyXFx1MWM0MC1cXHUxYzQ5XFx1MWM1Yi1cXHUxYzdkXFx1MWNkMC1cXHUxY2QyXFx1MWQwMC1cXHUxZGJlXFx1MWUwMS1cXHUxZjE1XFx1MjAwY1xcdTIwMGRcXHUyMDNmXFx1MjA0MFxcdTIwNTRcXHUyMGQwLVxcdTIwZGNcXHUyMGUxXFx1MjBlNS1cXHUyMGYwXFx1MmQ4MS1cXHUyZDk2XFx1MmRlMC1cXHUyZGZmXFx1MzAyMS1cXHUzMDI4XFx1MzA5OVxcdTMwOWFcXHVhNjQwLVxcdWE2NmRcXHVhNjc0LVxcdWE2N2RcXHVhNjlmXFx1YTZmMC1cXHVhNmYxXFx1YTdmOC1cXHVhODAwXFx1YTgwNlxcdWE4MGJcXHVhODIzLVxcdWE4MjdcXHVhODgwLVxcdWE4ODFcXHVhOGI0LVxcdWE4YzRcXHVhOGQwLVxcdWE4ZDlcXHVhOGYzLVxcdWE4ZjdcXHVhOTAwLVxcdWE5MDlcXHVhOTI2LVxcdWE5MmRcXHVhOTMwLVxcdWE5NDVcXHVhOTgwLVxcdWE5ODNcXHVhOWIzLVxcdWE5YzBcXHVhYTAwLVxcdWFhMjdcXHVhYTQwLVxcdWFhNDFcXHVhYTRjLVxcdWFhNGRcXHVhYTUwLVxcdWFhNTlcXHVhYTdiXFx1YWFlMC1cXHVhYWU5XFx1YWFmMi1cXHVhYWYzXFx1YWJjMC1cXHVhYmUxXFx1YWJlY1xcdWFiZWRcXHVhYmYwLVxcdWFiZjlcXHVmYjIwLVxcdWZiMjhcXHVmZTAwLVxcdWZlMGZcXHVmZTIwLVxcdWZlMjZcXHVmZTMzXFx1ZmUzNFxcdWZlNGQtXFx1ZmU0ZlxcdWZmMTAtXFx1ZmYxOVxcdWZmM2YnO1xuY29uc3Qgbm9uQVNDSUlpZGVudGlmaWVyU3RhcnQgPSBuZXcgUmVnRXhwKCdbJyArIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgKyAnXScpO1xuY29uc3Qgbm9uQVNDSUlpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCgnWycgKyBub25BU0NJSWlkZW50aWZpZXJTdGFydENoYXJzICsgbm9uQVNDSUlpZGVudGlmaWVyQ2hhcnMgKyAnXScpO1xuXG4vLyBXaGV0aGVyIGEgc2luZ2xlIGNoYXJhY3RlciBkZW5vdGVzIGEgbmV3bGluZS5cblxuY29uc3QgbmV3bGluZSA9IC9bXFxuXFxyXFx1MjAyOFxcdTIwMjldLztcblxuLy8gTWF0Y2hlcyBhIHdob2xlIGxpbmUgYnJlYWsgKHdoZXJlIENSTEYgaXMgY29uc2lkZXJlZCBhIHNpbmdsZVxuLy8gbGluZSBicmVhaykuIFVzZWQgdG8gY291bnQgbGluZXMuXG5cbnZhciBsaW5lQnJlYWsgPSAvXFxyXFxufFtcXG5cXHJcXHUyMDI4XFx1MjAyOV0vZztcblxuLy8gVGVzdCB3aGV0aGVyIGEgZ2l2ZW4gY2hhcmFjdGVyIGNvZGUgc3RhcnRzIGFuIGlkZW50aWZpZXIuXG5cbmNvbnN0IGlzSWRlbnRpZmllclN0YXJ0ID0gZXhwb3J0cy5pc0lkZW50aWZpZXJTdGFydCA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICBpZiAoY29kZSA8IDY1KSByZXR1cm4gY29kZSA9PT0gMzY7XG4gICAgaWYgKGNvZGUgPCA5MSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNvZGUgPCA5NykgcmV0dXJuIGNvZGUgPT09IDk1O1xuICAgIGlmIChjb2RlIDwgMTIzKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gY29kZSA+PSAweGFhICYmIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSk7XG59O1xuXG4vLyBUZXN0IHdoZXRoZXIgYSBnaXZlbiBjaGFyYWN0ZXIgaXMgcGFydCBvZiBhbiBpZGVudGlmaWVyLlxuXG5jb25zdCBpc0lkZW50aWZpZXJDaGFyID0gZXhwb3J0cy5pc0lkZW50aWZpZXJDaGFyID0gZnVuY3Rpb24oY29kZSkge1xuICAgIGlmIChjb2RlIDwgNDgpIHJldHVybiBjb2RlID09PSAzNjtcbiAgICBpZiAoY29kZSA8IDU4KSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY29kZSA8IDY1KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNvZGUgPCA5MSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNvZGUgPCA5NykgcmV0dXJuIGNvZGUgPT09IDk1O1xuICAgIGlmIChjb2RlIDwgMTIzKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gY29kZSA+PSAweGFhICYmIG5vbkFTQ0lJaWRlbnRpZmllci50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSkpO1xufTtcblxuLy8gIyMgVG9rZW5pemVyXG5cbi8vIFRoZXNlIGFyZSB1c2VkIHdoZW4gYG9wdGlvbnMubG9jYXRpb25zYCBpcyBvbiwgZm9yIHRoZVxuLy8gYHRva1N0YXJ0TG9jYCBhbmQgYHRva0VuZExvY2AgcHJvcGVydGllcy5cblxuZnVuY3Rpb24gbGluZV9sb2NfdCgpIHtcbiAgICB0aGlzLmxpbmUgPSB0b2tDdXJMaW5lO1xuICAgIHRoaXMuY29sdW1uID0gdG9rUG9zIC0gdG9rTGluZVN0YXJ0O1xufVxuXG4vLyBSZXNldCB0aGUgdG9rZW4gc3RhdGUuIFVzZWQgYXQgdGhlIHN0YXJ0IG9mIGEgcGFyc2UuXG5cbmZ1bmN0aW9uIGluaXRUb2tlblN0YXRlKCkge1xuICAgIHRva0N1ckxpbmUgPSAxO1xuICAgIHRva1BvcyA9IHRva0xpbmVTdGFydCA9IDA7XG4gICAgdG9rUmVnZXhwQWxsb3dlZCA9IHRydWU7XG4gICAgc2tpcFNwYWNlKCk7XG59XG5cbi8vIENhbGxlZCBhdCB0aGUgZW5kIG9mIGV2ZXJ5IHRva2VuLiBTZXRzIGB0b2tFbmRgLCBgdG9rVmFsYCwgYW5kXG4vLyBgdG9rUmVnZXhwQWxsb3dlZGAsIGFuZCBza2lwcyB0aGUgc3BhY2UgYWZ0ZXIgdGhlIHRva2VuLCBzbyB0aGF0XG4vLyB0aGUgbmV4dCBvbmUncyBgdG9rU3RhcnRgIHdpbGwgcG9pbnQgYXQgdGhlIHJpZ2h0IHBvc2l0aW9uLlxuXG5mdW5jdGlvbiBmaW5pc2hUb2tlbih0eXBlLCB2YWwpIHtcbiAgICB0b2tFbmQgPSB0b2tQb3M7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB0b2tFbmRMb2MgPSBuZXcgbGluZV9sb2NfdDtcbiAgICB0b2tUeXBlID0gdHlwZTtcbiAgICBza2lwU3BhY2UoKTtcbiAgICB0b2tWYWwgPSB2YWw7XG4gICAgdG9rUmVnZXhwQWxsb3dlZCA9IHR5cGUuYmVmb3JlRXhwcjtcbn1cblxuZnVuY3Rpb24gc2tpcEJsb2NrQ29tbWVudCgpIHtcbiAgICBjb25zdCBzdGFydExvYyA9IG9wdGlvbnMub25Db21tZW50ICYmIG9wdGlvbnMubG9jYXRpb25zICYmIG5ldyBsaW5lX2xvY190O1xuICAgIGNvbnN0IHN0YXJ0ID0gdG9rUG9zLCBlbmQgPSBpbnB1dC5pbmRleE9mKCcqLycsIHRva1BvcyArPSAyKTtcbiAgICBpZiAoZW5kID09PSAtMSkgcmFpc2UodG9rUG9zIC0gMiwgJ1VudGVybWluYXRlZCBjb21tZW50Jyk7XG4gICAgdG9rUG9zID0gZW5kICsgMjtcbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHtcbiAgICAgICAgbGluZUJyZWFrLmxhc3RJbmRleCA9IHN0YXJ0O1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBsaW5lQnJlYWsuZXhlYyhpbnB1dCkpICYmIG1hdGNoLmluZGV4IDwgdG9rUG9zKSB7XG4gICAgICAgICAgICArK3Rva0N1ckxpbmU7XG4gICAgICAgICAgICB0b2tMaW5lU3RhcnQgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5vbkNvbW1lbnQpXG4gICAgICAgIG9wdGlvbnMub25Db21tZW50KHRydWUsIGlucHV0LnNsaWNlKHN0YXJ0ICsgMiwgZW5kKSwgc3RhcnQsIHRva1BvcyxcbiAgICAgICAgICAgIHN0YXJ0TG9jLCBvcHRpb25zLmxvY2F0aW9ucyAmJiBuZXcgbGluZV9sb2NfdCk7XG59XG5cbmZ1bmN0aW9uIHNraXBMaW5lQ29tbWVudCgpIHtcbiAgICBjb25zdCBzdGFydCA9IHRva1BvcztcbiAgICBjb25zdCBzdGFydExvYyA9IG9wdGlvbnMub25Db21tZW50ICYmIG9wdGlvbnMubG9jYXRpb25zICYmIG5ldyBsaW5lX2xvY190O1xuICAgIGxldCBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICs9IDIpO1xuICAgIHdoaWxlICh0b2tQb3MgPCBpbnB1dExlbiAmJiBjaCAhPT0gMTAgJiYgY2ggIT09IDEzICYmIGNoICE9PSA4MjMyICYmIGNoICE9PSA4MjMzKSB7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgICBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMub25Db21tZW50KVxuICAgICAgICBvcHRpb25zLm9uQ29tbWVudChmYWxzZSwgaW5wdXQuc2xpY2Uoc3RhcnQgKyAyLCB0b2tQb3MpLCBzdGFydCwgdG9rUG9zLFxuICAgICAgICAgICAgc3RhcnRMb2MsIG9wdGlvbnMubG9jYXRpb25zICYmIG5ldyBsaW5lX2xvY190KTtcbn1cblxuLy8gQ2FsbGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgcGFyc2UgYW5kIGFmdGVyIGV2ZXJ5IHRva2VuLiBTa2lwc1xuLy8gd2hpdGVzcGFjZSBhbmQgY29tbWVudHMsIGFuZC5cblxuZnVuY3Rpb24gc2tpcFNwYWNlKCkge1xuICAgIHdoaWxlICh0b2tQb3MgPCBpbnB1dExlbikge1xuICAgICAgICBjb25zdCBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICAgICAgaWYgKGNoID09PSAzMikgeyAvLyAnICdcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAxMykge1xuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAxMCkge1xuICAgICAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgKyt0b2tDdXJMaW5lO1xuICAgICAgICAgICAgICAgIHRva0xpbmVTdGFydCA9IHRva1BvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gMTAgfHwgY2ggPT09IDgyMzIgfHwgY2ggPT09IDgyMzMpIHtcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgKyt0b2tDdXJMaW5lO1xuICAgICAgICAgICAgICAgIHRva0xpbmVTdGFydCA9IHRva1BvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaCA+IDggJiYgY2ggPCAxNCkge1xuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDQ3KSB7IC8vICcvJ1xuICAgICAgICAgICAgdmFyIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgICAgICAgICAgaWYgKG5leHQgPT09IDQyKSB7IC8vICcqJ1xuICAgICAgICAgICAgICAgIHNraXBCbG9ja0NvbW1lbnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dCA9PT0gNDcpIHsgLy8gJy8nXG4gICAgICAgICAgICAgICAgc2tpcExpbmVDb21tZW50KCk7XG4gICAgICAgICAgICB9IGVsc2UgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDE2MCkgeyAvLyAnXFx4YTAnXG4gICAgICAgICAgICArK3Rva1BvcztcbiAgICAgICAgfSBlbHNlIGlmIChjaCA+PSA1NzYwICYmIG5vbkFTQ0lJd2hpdGVzcGFjZS50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpKSkge1xuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gIyMjIFRva2VuIHJlYWRpbmdcblxuLy8gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgdG8gZmV0Y2ggdGhlIG5leHQgdG9rZW4uIEl0XG4vLyBpcyBzb21ld2hhdCBvYnNjdXJlLCBiZWNhdXNlIGl0IHdvcmtzIGluIGNoYXJhY3RlciBjb2RlcyByYXRoZXJcbi8vIHRoYW4gY2hhcmFjdGVycywgYW5kIGJlY2F1c2Ugb3BlcmF0b3IgcGFyc2luZyBoYXMgYmVlbiBpbmxpbmVkXG4vLyBpbnRvIGl0LlxuLy9cbi8vIEFsbCBpbiB0aGUgbmFtZSBvZiBzcGVlZC5cbi8vXG4vLyBUaGUgYGZvcmNlUmVnZXhwYCBwYXJhbWV0ZXIgaXMgdXNlZCBpbiB0aGUgb25lIGNhc2Ugd2hlcmUgdGhlXG4vLyBgdG9rUmVnZXhwQWxsb3dlZGAgdHJpY2sgZG9lcyBub3Qgd29yay4gU2VlIGBwYXJzZVN0YXRlbWVudGAuXG5cbmZ1bmN0aW9uIHJlYWRUb2tlbl9kb3QoKSB7XG4gICAgY29uc3QgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKG5leHQgPj0gNDggJiYgbmV4dCA8PSA1NykgcmV0dXJuIHJlYWROdW1iZXIodHJ1ZSk7XG4gICAgKyt0b2tQb3M7XG4gICAgcmV0dXJuIGZpbmlzaFRva2VuKF9kb3QpO1xufVxuXG5mdW5jdGlvbiByZWFkVG9rZW5fc2xhc2goKSB7IC8vICcvJ1xuICAgIGNvbnN0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmICh0b2tSZWdleHBBbGxvd2VkKSB7XG4gICAgICAgICsrdG9rUG9zO1xuICAgICAgICByZXR1cm4gcmVhZFJlZ2V4cCgpO1xuICAgIH1cbiAgICBpZiAobmV4dCA9PT0gNjEpIHJldHVybiBmaW5pc2hPcChfYXNzaWduLCAyKTtcbiAgICByZXR1cm4gZmluaXNoT3AoX3NsYXNoLCAxKTtcbn1cblxuZnVuY3Rpb24gcmVhZFRva2VuX211bHRfbW9kdWxvKCkgeyAvLyAnJSonXG4gICAgY29uc3QgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKF9tdWx0aXBseU1vZHVsbywgMSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb2tlbl9waXBlX2FtcChjb2RlKSB7IC8vICd8JidcbiAgICBjb25zdCBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAxKTtcbiAgICBpZiAobmV4dCA9PT0gY29kZSkgcmV0dXJuIGZpbmlzaE9wKGNvZGUgPT09IDEyNCA/IF9sb2dpY2FsT1IgOiBfbG9naWNhbEFORCwgMik7XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKGNvZGUgPT09IDEyNCA/IF9iaXR3aXNlT1IgOiBfYml0d2lzZUFORCwgMSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb2tlbl9jYXJldCgpIHsgLy8gJ14nXG4gICAgY29uc3QgbmV4dCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMSk7XG4gICAgaWYgKG5leHQgPT09IDYxKSByZXR1cm4gZmluaXNoT3AoX2Fzc2lnbiwgMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKF9iaXR3aXNlWE9SLCAxKTtcbn1cblxuZnVuY3Rpb24gcmVhZFRva2VuX3BsdXNfbWluKGNvZGUpIHsgLy8gJystJ1xuICAgIGNvbnN0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSBjb2RlKSB7XG4gICAgICAgIGlmIChuZXh0ID09IDQ1ICYmIGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMikgPT0gNjIgJiZcbiAgICAgICAgICAgIG5ld2xpbmUudGVzdChpbnB1dC5zbGljZShsYXN0RW5kLCB0b2tQb3MpKSkge1xuICAgICAgICAgICAgLy8gQSBgLS0+YCBsaW5lIGNvbW1lbnRcbiAgICAgICAgICAgIHRva1BvcyArPSAzO1xuICAgICAgICAgICAgc2tpcExpbmVDb21tZW50KCk7XG4gICAgICAgICAgICBza2lwU3BhY2UoKTtcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluaXNoT3AoX2luY0RlYywgMik7XG4gICAgfVxuICAgIGlmIChuZXh0ID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9hc3NpZ24sIDIpO1xuICAgIHJldHVybiBmaW5pc2hPcChfcGx1c01pbiwgMSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb2tlbl9sdF9ndChjb2RlKSB7IC8vICc8PidcbiAgICBjb25zdCBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAxKTtcbiAgICBsZXQgc2l6ZSA9IDE7XG4gICAgaWYgKG5leHQgPT09IGNvZGUpIHtcbiAgICAgICAgc2l6ZSA9IGNvZGUgPT09IDYyICYmIGlucHV0LmNoYXJDb2RlQXQodG9rUG9zICsgMikgPT09IDYyID8gMyA6IDI7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIHNpemUpID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9hc3NpZ24sIHNpemUgKyAxKTtcbiAgICAgICAgcmV0dXJuIGZpbmlzaE9wKF9iaXRTaGlmdCwgc2l6ZSk7XG4gICAgfVxuICAgIGlmIChuZXh0ID09IDMzICYmIGNvZGUgPT0gNjAgJiYgaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAyKSA9PSA0NSAmJlxuICAgICAgICBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDMpID09IDQ1KSB7XG4gICAgICAgIC8vIGA8IS0tYCwgYW4gWE1MLXN0eWxlIGNvbW1lbnQgdGhhdCBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYSBsaW5lIGNvbW1lbnRcbiAgICAgICAgdG9rUG9zICs9IDQ7XG4gICAgICAgIHNraXBMaW5lQ29tbWVudCgpO1xuICAgICAgICBza2lwU3BhY2UoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRUb2tlbigpO1xuICAgIH1cbiAgICBpZiAobmV4dCA9PT0gNjEpXG4gICAgICAgIHNpemUgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDIpID09PSA2MSA/IDMgOiAyO1xuICAgIHJldHVybiBmaW5pc2hPcChfcmVsYXRpb25hbCwgc2l6ZSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb2tlbl9lcV9leGNsKGNvZGUpIHsgLy8gJz0hJ1xuICAgIGNvbnN0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1BvcyArIDEpO1xuICAgIGlmIChuZXh0ID09PSA2MSkgcmV0dXJuIGZpbmlzaE9wKF9lcXVhbGl0eSwgaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAyKSA9PT0gNjEgPyAzIDogMik7XG4gICAgcmV0dXJuIGZpbmlzaE9wKGNvZGUgPT09IDYxID8gX2VxIDogX3ByZWZpeCwgMSk7XG59XG5cbmZ1bmN0aW9uIGdldFRva2VuRnJvbUNvZGUoY29kZSkge1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAvLyBUaGUgaW50ZXJwcmV0YXRpb24gb2YgYSBkb3QgZGVwZW5kcyBvbiB3aGV0aGVyIGl0IGlzIGZvbGxvd2VkXG4gICAgICAgIC8vIGJ5IGEgZGlnaXQuXG4gICAgICAgIGNhc2UgNDY6IC8vICcuJ1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbl9kb3QoKTtcblxuICAgICAgICAvLyBQdW5jdHVhdGlvbiB0b2tlbnMuXG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICArK3Rva1BvcztcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hUb2tlbihfcGFyZW5MKTtcbiAgICAgICAgY2FzZSA0MTpcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9wYXJlblIpO1xuICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoVG9rZW4oX3NlbWkpO1xuICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoVG9rZW4oX2NvbW1hKTtcbiAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9icmFja2V0TCk7XG4gICAgICAgIGNhc2UgOTM6XG4gICAgICAgICAgICArK3Rva1BvcztcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hUb2tlbihfYnJhY2tldFIpO1xuICAgICAgICBjYXNlIDEyMzpcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9icmFjZUwpO1xuICAgICAgICBjYXNlIDEyNTpcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9icmFjZVIpO1xuICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoVG9rZW4oX2NvbG9uKTtcbiAgICAgICAgY2FzZSA2MzpcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9xdWVzdGlvbik7XG5cbiAgICAgICAgLy8gJzB4JyBpcyBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAgICAgICAgY2FzZSA0ODogLy8gJzAnXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MgKyAxKTtcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSAxMjAgfHwgbmV4dCA9PT0gODgpIHJldHVybiByZWFkSGV4TnVtYmVyKCk7XG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UgYmVnaW5uaW5nIHdpdGggYSBkaWdpdCBpcyBhbiBpbnRlZ2VyLCBvY3RhbFxuICAgICAgICAvLyBudW1iZXIsIG9yIGZsb2F0LlxuICAgICAgICBjYXNlIDQ5OlxuICAgICAgICBjYXNlIDUwOlxuICAgICAgICBjYXNlIDUxOlxuICAgICAgICBjYXNlIDUyOlxuICAgICAgICBjYXNlIDUzOlxuICAgICAgICBjYXNlIDU0OlxuICAgICAgICBjYXNlIDU1OlxuICAgICAgICBjYXNlIDU2OlxuICAgICAgICBjYXNlIDU3OiAvLyAxLTlcbiAgICAgICAgICAgIHJldHVybiByZWFkTnVtYmVyKGZhbHNlKTtcblxuICAgICAgICAvLyBRdW90ZXMgcHJvZHVjZSBzdHJpbmdzLlxuICAgICAgICBjYXNlIDM0OlxuICAgICAgICBjYXNlIDM5OiAvLyAnXCInLCBcIidcIlxuICAgICAgICAgICAgcmV0dXJuIHJlYWRTdHJpbmcoY29kZSk7XG5cbiAgICAgICAgLy8gT3BlcmF0b3JzIGFyZSBwYXJzZWQgaW5saW5lIGluIHRpbnkgc3RhdGUgbWFjaGluZXMuICc9JyAoNjEpIGlzXG4gICAgICAgIC8vIG9mdGVuIHJlZmVycmVkIHRvLiBgZmluaXNoT3BgIHNpbXBseSBza2lwcyB0aGUgYW1vdW50IG9mXG4gICAgICAgIC8vIGNoYXJhY3RlcnMgaXQgaXMgZ2l2ZW4gYXMgc2Vjb25kIGFyZ3VtZW50LCBhbmQgcmV0dXJucyBhIHRva2VuXG4gICAgICAgIC8vIG9mIHRoZSB0eXBlIGdpdmVuIGJ5IGl0cyBmaXJzdCBhcmd1bWVudC5cblxuICAgICAgICBjYXNlIDQ3OiAvLyAnLydcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5fc2xhc2goY29kZSk7XG5cbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgY2FzZSA0MjogLy8gJyUqJ1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbl9tdWx0X21vZHVsbygpO1xuXG4gICAgICAgIGNhc2UgMTI0OlxuICAgICAgICBjYXNlIDM4OiAvLyAnfCYnXG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuX3BpcGVfYW1wKGNvZGUpO1xuXG4gICAgICAgIGNhc2UgOTQ6IC8vICdeJ1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbl9jYXJldCgpO1xuXG4gICAgICAgIGNhc2UgNDM6XG4gICAgICAgIGNhc2UgNDU6IC8vICcrLSdcbiAgICAgICAgICAgIHJldHVybiByZWFkVG9rZW5fcGx1c19taW4oY29kZSk7XG5cbiAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgY2FzZSA2MjogLy8gJzw+J1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRUb2tlbl9sdF9ndChjb2RlKTtcblxuICAgICAgICBjYXNlIDYxOlxuICAgICAgICBjYXNlIDMzOiAvLyAnPSEnXG4gICAgICAgICAgICByZXR1cm4gcmVhZFRva2VuX2VxX2V4Y2woY29kZSk7XG5cbiAgICAgICAgY2FzZSAxMjY6IC8vICd+J1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaE9wKF9wcmVmaXgsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZFRva2VuKGZvcmNlUmVnZXhwKSB7XG4gICAgaWYgKCFmb3JjZVJlZ2V4cCkgdG9rU3RhcnQgPSB0b2tQb3M7XG4gICAgZWxzZSB0b2tQb3MgPSB0b2tTdGFydCArIDE7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKSB0b2tTdGFydExvYyA9IG5ldyBsaW5lX2xvY190O1xuICAgIGlmIChmb3JjZVJlZ2V4cCkgcmV0dXJuIHJlYWRSZWdleHAoKTtcbiAgICBpZiAodG9rUG9zID49IGlucHV0TGVuKSByZXR1cm4gZmluaXNoVG9rZW4oX2VvZik7XG5cbiAgICBjb25zdCBjb2RlID0gaW5wdXQuY2hhckNvZGVBdCh0b2tQb3MpO1xuICAgIC8vIElkZW50aWZpZXIgb3Iga2V5d29yZC4gJ1xcdVhYWFgnIHNlcXVlbmNlcyBhcmUgYWxsb3dlZCBpblxuICAgIC8vIGlkZW50aWZpZXJzLCBzbyAnXFwnIGFsc28gZGlzcGF0Y2hlcyB0byB0aGF0LlxuICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChjb2RlKSB8fCBjb2RlID09PSA5MiAvKiAnXFwnICovKSByZXR1cm4gcmVhZFdvcmQoKTtcblxuICAgIGNvbnN0IHRvayA9IGdldFRva2VuRnJvbUNvZGUoY29kZSk7XG5cbiAgICBpZiAodG9rID09PSBmYWxzZSkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaGVyZSwgd2UgZWl0aGVyIGZvdW5kIGEgbm9uLUFTQ0lJIGlkZW50aWZpZXJcbiAgICAgICAgLy8gY2hhcmFjdGVyLCBvciBzb21ldGhpbmcgdGhhdCdzIGVudGlyZWx5IGRpc2FsbG93ZWQuXG4gICAgICAgIGNvbnN0IGNoID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgaWYgKGNoID09PSAnXFxcXCcgfHwgbm9uQVNDSUlpZGVudGlmaWVyU3RhcnQudGVzdChjaCkpIHJldHVybiByZWFkV29yZCgpO1xuICAgICAgICByYWlzZSh0b2tQb3MsICdVbmV4cGVjdGVkIGNoYXJhY3RlciBcXCcnICsgY2ggKyAnXFwnJyk7XG4gICAgfVxuICAgIHJldHVybiB0b2s7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE9wKHR5cGUsIHNpemUpIHtcbiAgICBjb25zdCBzdHIgPSBpbnB1dC5zbGljZSh0b2tQb3MsIHRva1BvcyArIHNpemUpO1xuICAgIHRva1BvcyArPSBzaXplO1xuICAgIGZpbmlzaFRva2VuKHR5cGUsIHN0cik7XG59XG5cbi8vIFBhcnNlIGEgcmVndWxhciBleHByZXNzaW9uLiBTb21lIGNvbnRleHQtYXdhcmVuZXNzIGlzIG5lY2Vzc2FyeSxcbi8vIHNpbmNlIGEgJy8nIGluc2lkZSBhICdbXScgc2V0IGRvZXMgbm90IGVuZCB0aGUgZXhwcmVzc2lvbi5cblxuZnVuY3Rpb24gcmVhZFJlZ2V4cCgpIHtcbiAgICB2YXIgY29udGVudCA9ICcnLCBlc2NhcGVkLCBpbkNsYXNzLCBzdGFydCA9IHRva1BvcztcbiAgICBmb3IgKDsgOykge1xuICAgICAgICBpZiAodG9rUG9zID49IGlucHV0TGVuKSByYWlzZShzdGFydCwgJ1VudGVybWluYXRlZCByZWd1bGFyIGV4cHJlc3Npb24nKTtcbiAgICAgICAgY29uc3QgY2ggPSBpbnB1dC5jaGFyQXQodG9rUG9zKTtcbiAgICAgICAgaWYgKG5ld2xpbmUudGVzdChjaCkpIHJhaXNlKHN0YXJ0LCAnVW50ZXJtaW5hdGVkIHJlZ3VsYXIgZXhwcmVzc2lvbicpO1xuICAgICAgICBpZiAoIWVzY2FwZWQpIHtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1snKSBpbkNsYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID09PSAnXScgJiYgaW5DbGFzcykgaW5DbGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT09ICcvJyAmJiAhaW5DbGFzcykgYnJlYWs7XG4gICAgICAgICAgICBlc2NhcGVkID0gY2ggPT09ICdcXFxcJztcbiAgICAgICAgfSBlbHNlIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgfVxuICAgIHZhciBjb250ZW50ID0gaW5wdXQuc2xpY2Uoc3RhcnQsIHRva1Bvcyk7XG4gICAgKyt0b2tQb3M7XG4gICAgLy8gTmVlZCB0byB1c2UgYHJlYWRXb3JkMWAgYmVjYXVzZSAnXFx1WFhYWCcgc2VxdWVuY2VzIGFyZSBhbGxvd2VkXG4gICAgLy8gaGVyZSAoZG9uJ3QgYXNrKS5cbiAgICBjb25zdCBtb2RzID0gcmVhZFdvcmQxKCk7XG4gICAgaWYgKG1vZHMgJiYgIS9eW2dtc2l5XSokLy50ZXN0KG1vZHMpKSByYWlzZShzdGFydCwgJ0ludmFsaWQgcmVnZXhwIGZsYWcnKTtcbiAgICByZXR1cm4gZmluaXNoVG9rZW4oX3JlZ2V4cCwgbmV3IFJlZ0V4cChjb250ZW50LCBtb2RzKSk7XG59XG5cbi8vIFJlYWQgYW4gaW50ZWdlciBpbiB0aGUgZ2l2ZW4gcmFkaXguIFJldHVybiBudWxsIGlmIHplcm8gZGlnaXRzXG4vLyB3ZXJlIHJlYWQsIHRoZSBpbnRlZ2VyIHZhbHVlIG90aGVyd2lzZS4gV2hlbiBgbGVuYCBpcyBnaXZlbiwgdGhpc1xuLy8gd2lsbCByZXR1cm4gYG51bGxgIHVubGVzcyB0aGUgaW50ZWdlciBoYXMgZXhhY3RseSBgbGVuYCBkaWdpdHMuXG5cbmZ1bmN0aW9uIHJlYWRJbnQocmFkaXgsIGxlbikge1xuICAgIGNvbnN0IHN0YXJ0ID0gdG9rUG9zO1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGUgPSBsZW4gPT0gbnVsbCA/IEluZmluaXR5IDogbGVuO1xuICAgIGZvciAoOyBpIDwgZTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1Bvcyk7XG4gICAgICAgIGxldCB2YWw7XG4gICAgICAgIGlmIChjb2RlID49IDk3KSB2YWwgPSBjb2RlIC0gOTcgKyAxMDsgLy8gYVxuICAgICAgICBlbHNlIGlmIChjb2RlID49IDY1KSB2YWwgPSBjb2RlIC0gNjUgKyAxMDsgLy8gQVxuICAgICAgICBlbHNlIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHZhbCA9IGNvZGUgLSA0ODsgLy8gMC05XG4gICAgICAgIGVsc2UgdmFsID0gSW5maW5pdHk7XG4gICAgICAgIGlmICh2YWwgPj0gcmFkaXgpIGJyZWFrO1xuICAgICAgICArK3Rva1BvcztcbiAgICAgICAgdG90YWwgPSB0b3RhbCAqIHJhZGl4ICsgdmFsO1xuICAgIH1cbiAgICBpZiAodG9rUG9zID09PSBzdGFydCB8fCBsZW4gIT0gbnVsbCAmJiB0b2tQb3MgLSBzdGFydCAhPT0gbGVuKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB0b3RhbDtcbn1cblxuZnVuY3Rpb24gcmVhZEhleE51bWJlcigpIHtcbiAgICB0b2tQb3MgKz0gMjsgLy8gMHhcbiAgICBjb25zdCB2YWwgPSByZWFkSW50KDE2KTtcbiAgICBpZiAodmFsID09IG51bGwpIHJhaXNlKHRva1N0YXJ0ICsgMiwgJ0V4cGVjdGVkIGhleGFkZWNpbWFsIG51bWJlcicpO1xuICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcykpKSByYWlzZSh0b2tQb3MsICdJZGVudGlmaWVyIGRpcmVjdGx5IGFmdGVyIG51bWJlcicpO1xuICAgIHJldHVybiBmaW5pc2hUb2tlbihfbnVtLCB2YWwpO1xufVxuXG4vLyBSZWFkIGFuIGludGVnZXIsIG9jdGFsIGludGVnZXIsIG9yIGZsb2F0aW5nLXBvaW50IG51bWJlci5cblxuZnVuY3Rpb24gcmVhZE51bWJlcihzdGFydHNXaXRoRG90KSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0b2tQb3M7XG4gICAgbGV0IGlzRmxvYXQgPSBmYWxzZTtcbiAgICBjb25zdCBvY3RhbCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKSA9PT0gNDg7XG4gICAgaWYgKCFzdGFydHNXaXRoRG90ICYmIHJlYWRJbnQoMTApID09PSBudWxsKSByYWlzZShzdGFydCwgJ0ludmFsaWQgbnVtYmVyJyk7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKSA9PT0gNDYpIHtcbiAgICAgICAgKyt0b2tQb3M7XG4gICAgICAgIHJlYWRJbnQoMTApO1xuICAgICAgICBpc0Zsb2F0ID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KHRva1Bvcyk7XG4gICAgaWYgKG5leHQgPT09IDY5IHx8IG5leHQgPT09IDEwMSkgeyAvLyAnZUUnXG4gICAgICAgIG5leHQgPSBpbnB1dC5jaGFyQ29kZUF0KCsrdG9rUG9zKTtcbiAgICAgICAgaWYgKG5leHQgPT09IDQzIHx8IG5leHQgPT09IDQ1KSArK3Rva1BvczsgLy8gJystJ1xuICAgICAgICBpZiAocmVhZEludCgxMCkgPT09IG51bGwpIHJhaXNlKHN0YXJ0LCAnSW52YWxpZCBudW1iZXInKTtcbiAgICAgICAgaXNGbG9hdCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcykpKSByYWlzZSh0b2tQb3MsICdJZGVudGlmaWVyIGRpcmVjdGx5IGFmdGVyIG51bWJlcicpO1xuXG4gICAgY29uc3Qgc3RyID0gaW5wdXQuc2xpY2Uoc3RhcnQsIHRva1Bvcyk7XG4gICAgbGV0IHZhbDtcbiAgICBpZiAoaXNGbG9hdCkgdmFsID0gcGFyc2VGbG9hdChzdHIpO1xuICAgIGVsc2UgaWYgKCFvY3RhbCB8fCBzdHIubGVuZ3RoID09PSAxKSB2YWwgPSBwYXJzZUludChzdHIsIDEwKTtcbiAgICBlbHNlIGlmICgvWzg5XS8udGVzdChzdHIpIHx8IHN0cmljdCkgcmFpc2Uoc3RhcnQsICdJbnZhbGlkIG51bWJlcicpO1xuICAgIGVsc2UgdmFsID0gcGFyc2VJbnQoc3RyLCA4KTtcbiAgICByZXR1cm4gZmluaXNoVG9rZW4oX251bSwgdmFsKTtcbn1cblxuLy8gUmVhZCBhIHN0cmluZyB2YWx1ZSwgaW50ZXJwcmV0aW5nIGJhY2tzbGFzaC1lc2NhcGVzLlxuXG5mdW5jdGlvbiByZWFkU3RyaW5nKHF1b3RlKSB7XG4gICAgdG9rUG9zKys7XG4gICAgbGV0IG91dCA9ICcnO1xuICAgIGZvciAoOyA7KSB7XG4gICAgICAgIGlmICh0b2tQb3MgPj0gaW5wdXRMZW4pIHJhaXNlKHRva1N0YXJ0LCAnVW50ZXJtaW5hdGVkIHN0cmluZyBjb25zdGFudCcpO1xuICAgICAgICBsZXQgY2ggPSBpbnB1dC5jaGFyQ29kZUF0KHRva1Bvcyk7XG4gICAgICAgIGlmIChjaCA9PT0gcXVvdGUpIHtcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaFRva2VuKF9zdHJpbmcsIG91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoID09PSA5MikgeyAvLyAnXFwnXG4gICAgICAgICAgICBjaCA9IGlucHV0LmNoYXJDb2RlQXQoKyt0b2tQb3MpO1xuICAgICAgICAgICAgbGV0IG9jdGFsID0gL15bMC03XSsvLmV4ZWMoaW5wdXQuc2xpY2UodG9rUG9zLCB0b2tQb3MgKyAzKSk7XG4gICAgICAgICAgICBpZiAob2N0YWwpIG9jdGFsID0gb2N0YWxbMF07XG4gICAgICAgICAgICB3aGlsZSAob2N0YWwgJiYgcGFyc2VJbnQob2N0YWwsIDgpID4gMjU1KSBvY3RhbCA9IG9jdGFsLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIGlmIChvY3RhbCA9PT0gJzAnKSBvY3RhbCA9IG51bGw7XG4gICAgICAgICAgICArK3Rva1BvcztcbiAgICAgICAgICAgIGlmIChvY3RhbCkge1xuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QpIHJhaXNlKHRva1BvcyAtIDIsICdPY3RhbCBsaXRlcmFsIGluIHN0cmljdCBtb2RlJyk7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQob2N0YWwsIDgpKTtcbiAgICAgICAgICAgICAgICB0b2tQb3MgKz0gb2N0YWwubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAnbicgLT4gJ1xcbidcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ1xccic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gJ3InIC0+ICdcXHInXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTIwOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocmVhZEhleENoYXIoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vICd4J1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJlYWRIZXhDaGFyKDQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAndSdcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4NTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJlYWRIZXhDaGFyKDgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAnVSdcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTY6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gJ3QnIC0+ICdcXHQnXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTg6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcYic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gJ2InIC0+ICdcXGInXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdcXHUwMDBiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyAndicgLT4gJ1xcdTAwMGInXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdcXGYnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vICdmJyAtPiAnXFxmJ1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdcXDAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIDAgLT4gJ1xcMCdcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHRva1BvcykgPT09IDEwKSArK3Rva1BvczsgLy8gJ1xcclxcbidcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDogLy8gJyBcXG4nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tMaW5lU3RhcnQgPSB0b2tQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyt0b2tDdXJMaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2ggPT09IDEzIHx8IGNoID09PSAxMCB8fCBjaCA9PT0gODIzMiB8fCBjaCA9PT0gODIzMykgcmFpc2UodG9rU3RhcnQsICdVbnRlcm1pbmF0ZWQgc3RyaW5nIGNvbnN0YW50Jyk7XG4gICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7IC8vICdcXCdcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBVc2VkIHRvIHJlYWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZXMgKCdcXHgnLCAnXFx1JywgJ1xcVScpLlxuXG5mdW5jdGlvbiByZWFkSGV4Q2hhcihsZW4pIHtcbiAgICBjb25zdCBuID0gcmVhZEludCgxNiwgbGVuKTtcbiAgICBpZiAobiA9PT0gbnVsbCkgcmFpc2UodG9rU3RhcnQsICdCYWQgY2hhcmFjdGVyIGVzY2FwZSBzZXF1ZW5jZScpO1xuICAgIHJldHVybiBuO1xufVxuXG4vLyBVc2VkIHRvIHNpZ25hbCB0byBjYWxsZXJzIG9mIGByZWFkV29yZDFgIHdoZXRoZXIgdGhlIHdvcmRcbi8vIGNvbnRhaW5lZCBhbnkgZXNjYXBlIHNlcXVlbmNlcy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSB3b3JkcyB3aXRoXG4vLyBlc2NhcGUgc2VxdWVuY2VzIG11c3Qgbm90IGJlIGludGVycHJldGVkIGFzIGtleXdvcmRzLlxuXG5sZXQgY29udGFpbnNFc2M7XG5cbi8vIFJlYWQgYW4gaWRlbnRpZmllciwgYW5kIHJldHVybiBpdCBhcyBhIHN0cmluZy4gU2V0cyBgY29udGFpbnNFc2NgXG4vLyB0byB3aGV0aGVyIHRoZSB3b3JkIGNvbnRhaW5lZCBhICdcXHUnIGVzY2FwZS5cbi8vXG4vLyBPbmx5IGJ1aWxkcyB1cCB0aGUgd29yZCBjaGFyYWN0ZXItYnktY2hhcmFjdGVyIHdoZW4gaXQgYWN0dWFsbHlcbi8vIGNvbnRhaW5lZHMgYW4gZXNjYXBlLCBhcyBhIG1pY3JvLW9wdGltaXphdGlvbi5cblxuZnVuY3Rpb24gcmVhZFdvcmQxKCkge1xuICAgIGNvbnRhaW5zRXNjID0gZmFsc2U7XG4gICAgbGV0IHdvcmQsIGZpcnN0ID0gdHJ1ZTtcbiAgICBjb25zdCBzdGFydCA9IHRva1BvcztcbiAgICBmb3IgKDsgOykge1xuICAgICAgICBjb25zdCBjaCA9IGlucHV0LmNoYXJDb2RlQXQodG9rUG9zKTtcbiAgICAgICAgaWYgKGlzSWRlbnRpZmllckNoYXIoY2gpKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbnNFc2MpIHdvcmQgKz0gaW5wdXQuY2hhckF0KHRva1Bvcyk7XG4gICAgICAgICAgICArK3Rva1BvcztcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gOTIpIHsgLy8gXCJcXFwiXG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5zRXNjKSB3b3JkID0gaW5wdXQuc2xpY2Uoc3RhcnQsIHRva1Bvcyk7XG4gICAgICAgICAgICBjb250YWluc0VzYyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdCgrK3Rva1BvcykgIT0gMTE3KSAvLyBcInVcIlxuICAgICAgICAgICAgICAgIHJhaXNlKHRva1BvcywgJ0V4cGVjdGluZyBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZSBcXFxcdVhYWFgnKTtcbiAgICAgICAgICAgICsrdG9rUG9zO1xuICAgICAgICAgICAgY29uc3QgZXNjID0gcmVhZEhleENoYXIoNCk7XG4gICAgICAgICAgICBjb25zdCBlc2NTdHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGVzYyk7XG4gICAgICAgICAgICBpZiAoIWVzY1N0cikgcmFpc2UodG9rUG9zIC0gMSwgJ0ludmFsaWQgVW5pY29kZSBlc2NhcGUnKTtcbiAgICAgICAgICAgIGlmICghKGZpcnN0ID8gaXNJZGVudGlmaWVyU3RhcnQoZXNjKSA6IGlzSWRlbnRpZmllckNoYXIoZXNjKSkpXG4gICAgICAgICAgICAgICAgcmFpc2UodG9rUG9zIC0gNCwgJ0ludmFsaWQgVW5pY29kZSBlc2NhcGUnKTtcbiAgICAgICAgICAgIHdvcmQgKz0gZXNjU3RyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5zRXNjID8gd29yZCA6IGlucHV0LnNsaWNlKHN0YXJ0LCB0b2tQb3MpO1xufVxuXG4vLyBSZWFkIGFuIGlkZW50aWZpZXIgb3Iga2V5d29yZCB0b2tlbi4gV2lsbCBjaGVjayBmb3IgcmVzZXJ2ZWRcbi8vIHdvcmRzIHdoZW4gbmVjZXNzYXJ5LlxuXG5mdW5jdGlvbiByZWFkV29yZCgpIHtcbiAgICBjb25zdCB3b3JkID0gcmVhZFdvcmQxKCk7XG4gICAgbGV0IHR5cGUgPSBfbmFtZTtcbiAgICBpZiAoIWNvbnRhaW5zRXNjKSB7XG4gICAgICAgIGlmIChpc0tleXdvcmQod29yZCkpIHR5cGUgPSBrZXl3b3JkVHlwZXNbd29yZF07XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuZm9yYmlkUmVzZXJ2ZWQgJiZcbiAgICAgICAgICAgIChvcHRpb25zLmVjbWFWZXJzaW9uID09PSAzID8gaXNSZXNlcnZlZFdvcmQzIDogaXNSZXNlcnZlZFdvcmQ1KSh3b3JkKSB8fFxuICAgICAgICAgICAgc3RyaWN0ICYmIGlzU3RyaWN0UmVzZXJ2ZWRXb3JkKHdvcmQpKVxuICAgICAgICAgICAgcmFpc2UodG9rU3RhcnQsICdUaGUga2V5d29yZCBcXCcnICsgd29yZCArICdcXCcgaXMgcmVzZXJ2ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmlzaFRva2VuKHR5cGUsIHdvcmQpO1xufVxuXG4vLyAjIyBQYXJzZXJcblxuLy8gQSByZWN1cnNpdmUgZGVzY2VudCBwYXJzZXIgb3BlcmF0ZXMgYnkgZGVmaW5pbmcgZnVuY3Rpb25zIGZvciBhbGxcbi8vIHN5bnRhY3RpYyBlbGVtZW50cywgYW5kIHJlY3Vyc2l2ZWx5IGNhbGxpbmcgdGhvc2UsIGVhY2ggZnVuY3Rpb25cbi8vIGFkdmFuY2luZyB0aGUgaW5wdXQgc3RyZWFtIGFuZCByZXR1cm5pbmcgYW4gQVNUIG5vZGUuIFByZWNlZGVuY2Vcbi8vIG9mIGNvbnN0cnVjdHMgKGZvciBleGFtcGxlLCB0aGUgZmFjdCB0aGF0IGAheFsxXWAgbWVhbnMgYCEoeFsxXSlgXG4vLyBpbnN0ZWFkIG9mIGAoIXgpWzFdYCBpcyBoYW5kbGVkIGJ5IHRoZSBmYWN0IHRoYXQgdGhlIHBhcnNlclxuLy8gZnVuY3Rpb24gdGhhdCBwYXJzZXMgdW5hcnkgcHJlZml4IG9wZXJhdG9ycyBpcyBjYWxsZWQgZmlyc3QsIGFuZFxuLy8gaW4gdHVybiBjYWxscyB0aGUgZnVuY3Rpb24gdGhhdCBwYXJzZXMgYFtdYCBzdWJzY3JpcHRzIOKAlCB0aGF0XG4vLyB3YXksIGl0J2xsIHJlY2VpdmUgdGhlIG5vZGUgZm9yIGB4WzFdYCBhbHJlYWR5IHBhcnNlZCwgYW5kIHdyYXBzXG4vLyAqdGhhdCogaW4gdGhlIHVuYXJ5IG9wZXJhdG9yIG5vZGUuXG4vL1xuLy8gQWNvcm4gdXNlcyBhbiBbb3BlcmF0b3IgcHJlY2VkZW5jZSBwYXJzZXJdW29wcF0gdG8gaGFuZGxlIGJpbmFyeVxuLy8gb3BlcmF0b3IgcHJlY2VkZW5jZSwgYmVjYXVzZSBpdCBpcyBtdWNoIG1vcmUgY29tcGFjdCB0aGFuIHVzaW5nXG4vLyB0aGUgdGVjaG5pcXVlIG91dGxpbmVkIGFib3ZlLCB3aGljaCB1c2VzIGRpZmZlcmVudCwgbmVzdGluZ1xuLy8gZnVuY3Rpb25zIHRvIHNwZWNpZnkgcHJlY2VkZW5jZSwgZm9yIGFsbCBvZiB0aGUgdGVuIGJpbmFyeVxuLy8gcHJlY2VkZW5jZSBsZXZlbHMgdGhhdCBKYXZhU2NyaXB0IGRlZmluZXMuXG4vL1xuLy8gW29wcF06IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3BlcmF0b3ItcHJlY2VkZW5jZV9wYXJzZXJcblxuLy8gIyMjIFBhcnNlciB1dGlsaXRpZXNcblxuLy8gQ29udGludWUgdG8gdGhlIG5leHQgdG9rZW4uXG5cbmZ1bmN0aW9uIG5leHQoKSB7XG4gICAgbGFzdFN0YXJ0ID0gdG9rU3RhcnQ7XG4gICAgbGFzdEVuZCA9IHRva0VuZDtcbiAgICBsYXN0RW5kTG9jID0gdG9rRW5kTG9jO1xuICAgIHJlYWRUb2tlbigpO1xufVxuXG4vLyBFbnRlciBzdHJpY3QgbW9kZS4gUmUtcmVhZHMgdGhlIG5leHQgdG9rZW4gdG8gcGxlYXNlIHBlZGFudGljXG4vLyB0ZXN0cyAoXCJ1c2Ugc3RyaWN0XCI7IDAxMDsgLS0gc2hvdWxkIGZhaWwpLlxuXG5mdW5jdGlvbiBzZXRTdHJpY3Qoc3RyY3QpIHtcbiAgICBzdHJpY3QgPSBzdHJjdDtcbiAgICB0b2tQb3MgPSBsYXN0RW5kO1xuICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgICB3aGlsZSAodG9rUG9zIDwgdG9rTGluZVN0YXJ0KSB7XG4gICAgICAgICAgICB0b2tMaW5lU3RhcnQgPSBpbnB1dC5sYXN0SW5kZXhPZignXFxuJywgdG9rTGluZVN0YXJ0IC0gMikgKyAxO1xuICAgICAgICAgICAgLS10b2tDdXJMaW5lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNraXBTcGFjZSgpO1xuICAgIHJlYWRUb2tlbigpO1xufVxuXG4vLyBTdGFydCBhbiBBU1Qgbm9kZSwgYXR0YWNoaW5nIGEgc3RhcnQgb2Zmc2V0LlxuXG5mdW5jdGlvbiBub2RlX3QoKSB7XG4gICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICB0aGlzLnN0YXJ0ID0gdG9rU3RhcnQ7XG4gICAgdGhpcy5lbmQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBub2RlX2xvY190KCkge1xuICAgIHRoaXMuc3RhcnQgPSB0b2tTdGFydExvYztcbiAgICB0aGlzLmVuZCA9IG51bGw7XG4gICAgaWYgKHNvdXJjZUZpbGUgIT09IG51bGwpIHRoaXMuc291cmNlID0gc291cmNlRmlsZTtcbn1cblxuZnVuY3Rpb24gc3RhcnROb2RlKCkge1xuICAgIGNvbnN0IG5vZGUgPSBuZXcgbm9kZV90KCk7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKVxuICAgICAgICBub2RlLmxvYyA9IG5ldyBub2RlX2xvY190KCk7XG4gICAgaWYgKG9wdGlvbnMuZGlyZWN0U291cmNlRmlsZSlcbiAgICAgICAgbm9kZS5zb3VyY2VGaWxlID0gb3B0aW9ucy5kaXJlY3RTb3VyY2VGaWxlO1xuICAgIGlmIChvcHRpb25zLnJhbmdlcylcbiAgICAgICAgbm9kZS5yYW5nZSA9IFt0b2tTdGFydCwgMF07XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbi8vIFN0YXJ0IGEgbm9kZSB3aG9zZSBzdGFydCBvZmZzZXQgaW5mb3JtYXRpb24gc2hvdWxkIGJlIGJhc2VkIG9uXG4vLyB0aGUgc3RhcnQgb2YgYW5vdGhlciBub2RlLiBGb3IgZXhhbXBsZSwgYSBiaW5hcnkgb3BlcmF0b3Igbm9kZSBpc1xuLy8gb25seSBzdGFydGVkIGFmdGVyIGl0cyBsZWZ0LWhhbmQgc2lkZSBoYXMgYWxyZWFkeSBiZWVuIHBhcnNlZC5cblxuZnVuY3Rpb24gc3RhcnROb2RlRnJvbShvdGhlcikge1xuICAgIGNvbnN0IG5vZGUgPSBuZXcgbm9kZV90KCk7XG4gICAgbm9kZS5zdGFydCA9IG90aGVyLnN0YXJ0O1xuICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgICBub2RlLmxvYyA9IG5ldyBub2RlX2xvY190KCk7XG4gICAgICAgIG5vZGUubG9jLnN0YXJ0ID0gb3RoZXIubG9jLnN0YXJ0O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yYW5nZXMpXG4gICAgICAgIG5vZGUucmFuZ2UgPSBbb3RoZXIucmFuZ2VbMF0sIDBdO1xuXG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbi8vIEZpbmlzaCBhbiBBU1Qgbm9kZSwgYWRkaW5nIGB0eXBlYCBhbmQgYGVuZGAgcHJvcGVydGllcy5cblxuZnVuY3Rpb24gZmluaXNoTm9kZShub2RlLCB0eXBlKSB7XG4gICAgbm9kZS50eXBlID0gdHlwZTtcbiAgICBub2RlLmVuZCA9IGxhc3RFbmQ7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zKVxuICAgICAgICBub2RlLmxvYy5lbmQgPSBsYXN0RW5kTG9jO1xuICAgIGlmIChvcHRpb25zLnJhbmdlcylcbiAgICAgICAgbm9kZS5yYW5nZVsxXSA9IGxhc3RFbmQ7XG4gICAgcmV0dXJuIG5vZGU7XG59XG5cbi8vIFRlc3Qgd2hldGhlciBhIHN0YXRlbWVudCBub2RlIGlzIHRoZSBzdHJpbmcgbGl0ZXJhbCBgXCJ1c2Ugc3RyaWN0XCJgLlxuXG5mdW5jdGlvbiBpc1VzZVN0cmljdChzdG10KSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZWNtYVZlcnNpb24gPj0gNSAmJiBzdG10LnR5cGUgPT09ICdFeHByZXNzaW9uU3RhdGVtZW50JyAmJlxuICAgICAgICBzdG10LmV4cHJlc3Npb24udHlwZSA9PT0gJ0xpdGVyYWwnICYmIHN0bXQuZXhwcmVzc2lvbi52YWx1ZSA9PT0gJ3VzZSBzdHJpY3QnO1xufVxuXG4vLyBQcmVkaWNhdGUgdGhhdCB0ZXN0cyB3aGV0aGVyIHRoZSBuZXh0IHRva2VuIGlzIG9mIHRoZSBnaXZlblxuLy8gdHlwZSwgYW5kIGlmIHllcywgY29uc3VtZXMgaXQgYXMgYSBzaWRlIGVmZmVjdC5cblxuZnVuY3Rpb24gZWF0KHR5cGUpIHtcbiAgICBpZiAodG9rVHlwZSA9PT0gdHlwZSkge1xuICAgICAgICBuZXh0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLy8gVGVzdCB3aGV0aGVyIGEgc2VtaWNvbG9uIGNhbiBiZSBpbnNlcnRlZCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cblxuZnVuY3Rpb24gY2FuSW5zZXJ0U2VtaWNvbG9uKCkge1xuICAgIHJldHVybiAhb3B0aW9ucy5zdHJpY3RTZW1pY29sb25zICYmXG4gICAgICAgICh0b2tUeXBlID09PSBfZW9mIHx8IHRva1R5cGUgPT09IF9icmFjZVIgfHwgbmV3bGluZS50ZXN0KGlucHV0LnNsaWNlKGxhc3RFbmQsIHRva1N0YXJ0KSkpO1xufVxuXG4vLyBDb25zdW1lIGEgc2VtaWNvbG9uLCBvciwgZmFpbGluZyB0aGF0LCBzZWUgaWYgd2UgYXJlIGFsbG93ZWQgdG9cbi8vIHByZXRlbmQgdGhhdCB0aGVyZSBpcyBhIHNlbWljb2xvbiBhdCB0aGlzIHBvc2l0aW9uLlxuXG5mdW5jdGlvbiBzZW1pY29sb24oKSB7XG4gICAgaWYgKCFlYXQoX3NlbWkpICYmICFjYW5JbnNlcnRTZW1pY29sb24oKSkgdW5leHBlY3RlZCgpO1xufVxuXG4vLyBFeHBlY3QgYSB0b2tlbiBvZiBhIGdpdmVuIHR5cGUuIElmIGZvdW5kLCBjb25zdW1lIGl0LCBvdGhlcndpc2UsXG4vLyByYWlzZSBhbiB1bmV4cGVjdGVkIHRva2VuIGVycm9yLlxuXG5mdW5jdGlvbiBleHBlY3QodHlwZSkge1xuICAgIGlmICh0b2tUeXBlID09PSB0eXBlKSBuZXh0KCk7XG4gICAgZWxzZSB1bmV4cGVjdGVkKCk7XG59XG5cbi8vIFJhaXNlIGFuIHVuZXhwZWN0ZWQgdG9rZW4gZXJyb3IuXG5cbmZ1bmN0aW9uIHVuZXhwZWN0ZWQoKSB7XG4gICAgcmFpc2UodG9rU3RhcnQsICdVbmV4cGVjdGVkIHRva2VuJyk7XG59XG5cbi8vIFZlcmlmeSB0aGF0IGEgbm9kZSBpcyBhbiBsdmFsIOKAlCBzb21ldGhpbmcgdGhhdCBjYW4gYmUgYXNzaWduZWRcbi8vIHRvLlxuXG5mdW5jdGlvbiBjaGVja0xWYWwoZXhwcikge1xuICAgIGlmIChleHByLnR5cGUgIT09ICdJZGVudGlmaWVyJyAmJiBleHByLnR5cGUgIT09ICdNZW1iZXJFeHByZXNzaW9uJylcbiAgICAgICAgcmFpc2UoZXhwci5zdGFydCwgJ0Fzc2lnbmluZyB0byBydmFsdWUnKTtcbiAgICBpZiAoc3RyaWN0ICYmIGV4cHIudHlwZSA9PT0gJ0lkZW50aWZpZXInICYmIGlzU3RyaWN0QmFkSWRXb3JkKGV4cHIubmFtZSkpXG4gICAgICAgIHJhaXNlKGV4cHIuc3RhcnQsICdBc3NpZ25pbmcgdG8gJyArIGV4cHIubmFtZSArICcgaW4gc3RyaWN0IG1vZGUnKTtcbn1cblxuLy8gIyMjIFN0YXRlbWVudCBwYXJzaW5nXG5cbi8vIFBhcnNlIGEgcHJvZ3JhbS4gSW5pdGlhbGl6ZXMgdGhlIHBhcnNlciwgcmVhZHMgYW55IG51bWJlciBvZlxuLy8gc3RhdGVtZW50cywgYW5kIHdyYXBzIHRoZW0gaW4gYSBQcm9ncmFtIG5vZGUuICBPcHRpb25hbGx5IHRha2VzIGFcbi8vIGBwcm9ncmFtYCBhcmd1bWVudC4gIElmIHByZXNlbnQsIHRoZSBzdGF0ZW1lbnRzIHdpbGwgYmUgYXBwZW5kZWRcbi8vIHRvIGl0cyBib2R5IGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgbm9kZS5cblxuZnVuY3Rpb24gcGFyc2VUb3BMZXZlbChwcm9ncmFtKSB7XG4gICAgbGFzdFN0YXJ0ID0gbGFzdEVuZCA9IHRva1BvcztcbiAgICBpZiAob3B0aW9ucy5sb2NhdGlvbnMpIGxhc3RFbmRMb2MgPSBuZXcgbGluZV9sb2NfdDtcbiAgICBpbkZ1bmN0aW9uID0gc3RyaWN0ID0gbnVsbDtcbiAgICBsYWJlbHMgPSBbXTtcbiAgICByZWFkVG9rZW4oKTtcblxuICAgIGNvbnN0IG5vZGUgPSBwcm9ncmFtIHx8IHN0YXJ0Tm9kZSgpO1xuICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgaWYgKCFwcm9ncmFtKSBub2RlLmJvZHkgPSBbXTtcbiAgICB3aGlsZSAodG9rVHlwZSAhPT0gX2VvZikge1xuICAgICAgICBjb25zdCBzdG10ID0gcGFyc2VTdGF0ZW1lbnQoKTtcbiAgICAgICAgbm9kZS5ib2R5LnB1c2goc3RtdCk7XG4gICAgICAgIGlmIChmaXJzdCAmJiBpc1VzZVN0cmljdChzdG10KSkgc2V0U3RyaWN0KHRydWUpO1xuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnUHJvZ3JhbScpO1xufVxuXG5jb25zdCBsb29wTGFiZWwgPSB7IGtpbmQ6ICdsb29wJyB9LCBzd2l0Y2hMYWJlbCA9IHsga2luZDogJ3N3aXRjaCcgfTtcblxuLy8gUGFyc2UgYSBzaW5nbGUgc3RhdGVtZW50LlxuLy9cbi8vIElmIGV4cGVjdGluZyBhIHN0YXRlbWVudCBhbmQgZmluZGluZyBhIHNsYXNoIG9wZXJhdG9yLCBwYXJzZSBhXG4vLyByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbC4gVGhpcyBpcyB0byBoYW5kbGUgY2FzZXMgbGlrZVxuLy8gYGlmIChmb28pIC9ibGFoLy5leGVjKGZvbyk7YCwgd2hlcmUgbG9va2luZyBhdCB0aGUgcHJldmlvdXMgdG9rZW5cbi8vIGRvZXMgbm90IGhlbHAuXG5cbmZ1bmN0aW9uIHBhcnNlU3RhdGVtZW50KCkge1xuICAgIGlmICh0b2tUeXBlID09PSBfc2xhc2ggfHwgdG9rVHlwZSA9PT0gX2Fzc2lnbiAmJiB0b2tWYWwgPT0gJy89JylcbiAgICAgICAgcmVhZFRva2VuKHRydWUpO1xuXG4gICAgY29uc3Qgc3RhcnR0eXBlID0gdG9rVHlwZSwgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuXG4gICAgLy8gTW9zdCB0eXBlcyBvZiBzdGF0ZW1lbnRzIGFyZSByZWNvZ25pemVkIGJ5IHRoZSBrZXl3b3JkIHRoZXlcbiAgICAvLyBzdGFydCB3aXRoLiBNYW55IGFyZSB0cml2aWFsIHRvIHBhcnNlLCBzb21lIHJlcXVpcmUgYSBiaXQgb2ZcbiAgICAvLyBjb21wbGV4aXR5LlxuXG4gICAgc3dpdGNoIChzdGFydHR5cGUpIHtcbiAgICAgICAgY2FzZSBfYnJlYWs6XG4gICAgICAgIGNhc2UgX2NvbnRpbnVlOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgY29uc3QgaXNCcmVhayA9IHN0YXJ0dHlwZSA9PT0gX2JyZWFrO1xuICAgICAgICAgICAgaWYgKGVhdChfc2VtaSkgfHwgY2FuSW5zZXJ0U2VtaWNvbG9uKCkpIG5vZGUubGFiZWwgPSBudWxsO1xuICAgICAgICAgICAgZWxzZSBpZiAodG9rVHlwZSAhPT0gX25hbWUpIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUubGFiZWwgPSBwYXJzZUlkZW50KCk7XG4gICAgICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGlzIGFuIGFjdHVhbCBkZXN0aW5hdGlvbiB0byBicmVhayBvclxuICAgICAgICAgICAgLy8gY29udGludWUgdG8uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYiA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sYWJlbCA9PSBudWxsIHx8IGxhYi5uYW1lID09PSBub2RlLmxhYmVsLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYi5raW5kICE9IG51bGwgJiYgKGlzQnJlYWsgfHwgbGFiLmtpbmQgPT09ICdsb29wJykpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sYWJlbCAmJiBpc0JyZWFrKSBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PT0gbGFiZWxzLmxlbmd0aCkgcmFpc2Uobm9kZS5zdGFydCwgJ1Vuc3ludGFjdGljICcgKyBzdGFydHR5cGUua2V5d29yZCk7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCBpc0JyZWFrID8gJ0JyZWFrU3RhdGVtZW50JyA6ICdDb250aW51ZVN0YXRlbWVudCcpO1xuXG4gICAgICAgIGNhc2UgX2RlYnVnZ2VyOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnRGVidWdnZXJTdGF0ZW1lbnQnKTtcblxuICAgICAgICBjYXNlIF9kbzpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGxhYmVscy5wdXNoKGxvb3BMYWJlbCk7XG4gICAgICAgICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgbGFiZWxzLnBvcCgpO1xuICAgICAgICAgICAgZXhwZWN0KF93aGlsZSk7XG4gICAgICAgICAgICBub2RlLnRlc3QgPSBwYXJzZVBhcmVuRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnRG9XaGlsZVN0YXRlbWVudCcpO1xuXG4gICAgICAgIC8vIERpc2FtYmlndWF0aW5nIGJldHdlZW4gYSBgZm9yYCBhbmQgYSBgZm9yYC9gaW5gIGxvb3AgaXNcbiAgICAgICAgLy8gbm9uLXRyaXZpYWwuIEJhc2ljYWxseSwgd2UgaGF2ZSB0byBwYXJzZSB0aGUgaW5pdCBgdmFyYFxuICAgICAgICAvLyBzdGF0ZW1lbnQgb3IgZXhwcmVzc2lvbiwgZGlzYWxsb3dpbmcgdGhlIGBpbmAgb3BlcmF0b3IgKHNlZVxuICAgICAgICAvLyB0aGUgc2Vjb25kIHBhcmFtZXRlciB0byBgcGFyc2VFeHByZXNzaW9uYCksIGFuZCB0aGVuIGNoZWNrXG4gICAgICAgIC8vIHdoZXRoZXIgdGhlIG5leHQgdG9rZW4gaXMgYGluYC4gV2hlbiB0aGVyZSBpcyBubyBpbml0IHBhcnRcbiAgICAgICAgLy8gKHNlbWljb2xvbiBpbW1lZGlhdGVseSBhZnRlciB0aGUgb3BlbmluZyBwYXJlbnRoZXNpcyksIGl0IGlzXG4gICAgICAgIC8vIGEgcmVndWxhciBgZm9yYCBsb29wLlxuXG4gICAgICAgIGNhc2UgX2ZvcjpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGxhYmVscy5wdXNoKGxvb3BMYWJlbCk7XG4gICAgICAgICAgICBleHBlY3QoX3BhcmVuTCk7XG4gICAgICAgICAgICBpZiAodG9rVHlwZSA9PT0gX3NlbWkpIHJldHVybiBwYXJzZUZvcihub2RlLCBudWxsKTtcbiAgICAgICAgICAgIGlmICh0b2tUeXBlID09PSBfdmFyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluaXQgPSBzdGFydE5vZGUoKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VWYXIoaW5pdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZmluaXNoTm9kZShpbml0LCAnVmFyaWFibGVEZWNsYXJhdGlvbicpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0LmRlY2xhcmF0aW9ucy5sZW5ndGggPT09IDEgJiYgZWF0KF9pbikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZvckluKG5vZGUsIGluaXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZvcihub2RlLCBpbml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0ID0gcGFyc2VFeHByZXNzaW9uKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChlYXQoX2luKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrTFZhbChpbml0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGb3JJbihub2RlLCBpbml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZvcihub2RlLCBpbml0KTtcblxuICAgICAgICBjYXNlIF9mdW5jdGlvbjpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uKG5vZGUsIHRydWUpO1xuXG4gICAgICAgIGNhc2UgX2lmOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgbm9kZS50ZXN0ID0gcGFyc2VQYXJlbkV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIG5vZGUuY29uc2VxdWVudCA9IHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBub2RlLmFsdGVybmF0ZSA9IGVhdChfZWxzZSkgPyBwYXJzZVN0YXRlbWVudCgpIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdJZlN0YXRlbWVudCcpO1xuXG4gICAgICAgIGNhc2UgX3JldHVybjpcbiAgICAgICAgICAgIGlmICghaW5GdW5jdGlvbikgcmFpc2UodG9rU3RhcnQsICdcXCdyZXR1cm5cXCcgb3V0c2lkZSBvZiBmdW5jdGlvbicpO1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICAvLyBJbiBgcmV0dXJuYCAoYW5kIGBicmVha2AvYGNvbnRpbnVlYCksIHRoZSBrZXl3b3JkcyB3aXRoXG4gICAgICAgICAgICAvLyBvcHRpb25hbCBhcmd1bWVudHMsIHdlIGVhZ2VybHkgbG9vayBmb3IgYSBzZW1pY29sb24gb3IgdGhlXG4gICAgICAgICAgICAvLyBwb3NzaWJpbGl0eSB0byBpbnNlcnQgb25lLlxuXG4gICAgICAgICAgICBpZiAoZWF0KF9zZW1pKSB8fCBjYW5JbnNlcnRTZW1pY29sb24oKSkgbm9kZS5hcmd1bWVudCA9IG51bGw7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLmFyZ3VtZW50ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnUmV0dXJuU3RhdGVtZW50Jyk7XG5cbiAgICAgICAgY2FzZSBfc3dpdGNoOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgbm9kZS5kaXNjcmltaW5hbnQgPSBwYXJzZVBhcmVuRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgbm9kZS5jYXNlcyA9IFtdO1xuICAgICAgICAgICAgZXhwZWN0KF9icmFjZUwpO1xuICAgICAgICAgICAgbGFiZWxzLnB1c2goc3dpdGNoTGFiZWwpO1xuXG4gICAgICAgICAgICAvLyBTdGF0ZW1lbnRzIHVuZGVyIG11c3QgYmUgZ3JvdXBlZCAoYnkgbGFiZWwpIGluIFN3aXRjaENhc2VcbiAgICAgICAgICAgIC8vIG5vZGVzLiBgY3VyYCBpcyB1c2VkIHRvIGtlZXAgdGhlIG5vZGUgdGhhdCB3ZSBhcmUgY3VycmVudGx5XG4gICAgICAgICAgICAvLyBhZGRpbmcgc3RhdGVtZW50cyB0by5cblxuICAgICAgICAgICAgZm9yICh2YXIgY3VyLCBzYXdEZWZhdWx0OyB0b2tUeXBlICE9IF9icmFjZVI7KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva1R5cGUgPT09IF9jYXNlIHx8IHRva1R5cGUgPT09IF9kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2FzZSA9IHRva1R5cGUgPT09IF9jYXNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyKSBmaW5pc2hOb2RlKGN1ciwgJ1N3aXRjaENhc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jYXNlcy5wdXNoKGN1ciA9IHN0YXJ0Tm9kZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyLmNvbnNlcXVlbnQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDYXNlKSBjdXIudGVzdCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXdEZWZhdWx0KSByYWlzZShsYXN0U3RhcnQsICdNdWx0aXBsZSBkZWZhdWx0IGNsYXVzZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhd0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyLnRlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChfY29sb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VyKSB1bmV4cGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5jb25zZXF1ZW50LnB1c2gocGFyc2VTdGF0ZW1lbnQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cikgZmluaXNoTm9kZShjdXIsICdTd2l0Y2hDYXNlJyk7XG4gICAgICAgICAgICBuZXh0KCk7IC8vIENsb3NpbmcgYnJhY2VcbiAgICAgICAgICAgIGxhYmVscy5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdTd2l0Y2hTdGF0ZW1lbnQnKTtcblxuICAgICAgICBjYXNlIF90aHJvdzpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGlmIChuZXdsaW5lLnRlc3QoaW5wdXQuc2xpY2UobGFzdEVuZCwgdG9rU3RhcnQpKSlcbiAgICAgICAgICAgICAgICByYWlzZShsYXN0RW5kLCAnSWxsZWdhbCBuZXdsaW5lIGFmdGVyIHRocm93Jyk7XG4gICAgICAgICAgICBub2RlLmFyZ3VtZW50ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICBzZW1pY29sb24oKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdUaHJvd1N0YXRlbWVudCcpO1xuXG4gICAgICAgIGNhc2UgX3RyeTpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIG5vZGUuYmxvY2sgPSBwYXJzZUJsb2NrKCk7XG4gICAgICAgICAgICBub2RlLmhhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRva1R5cGUgPT09IF9jYXRjaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXVzZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoX3BhcmVuTCk7XG4gICAgICAgICAgICAgICAgY2xhdXNlLnBhcmFtID0gcGFyc2VJZGVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgaXNTdHJpY3RCYWRJZFdvcmQoY2xhdXNlLnBhcmFtLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICByYWlzZShjbGF1c2UucGFyYW0uc3RhcnQsICdCaW5kaW5nICcgKyBjbGF1c2UucGFyYW0ubmFtZSArICcgaW4gc3RyaWN0IG1vZGUnKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoX3BhcmVuUik7XG4gICAgICAgICAgICAgICAgY2xhdXNlLmd1YXJkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjbGF1c2UuYm9keSA9IHBhcnNlQmxvY2soKTtcbiAgICAgICAgICAgICAgICBub2RlLmhhbmRsZXIgPSBmaW5pc2hOb2RlKGNsYXVzZSwgJ0NhdGNoQ2xhdXNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmd1YXJkZWRIYW5kbGVycyA9IGVtcHR5O1xuICAgICAgICAgICAgbm9kZS5maW5hbGl6ZXIgPSBlYXQoX2ZpbmFsbHkpID8gcGFyc2VCbG9jaygpIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghbm9kZS5oYW5kbGVyICYmICFub2RlLmZpbmFsaXplcilcbiAgICAgICAgICAgICAgICByYWlzZShub2RlLnN0YXJ0LCAnTWlzc2luZyBjYXRjaCBvciBmaW5hbGx5IGNsYXVzZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ1RyeVN0YXRlbWVudCcpO1xuXG4gICAgICAgIGNhc2UgX3ZhcjpcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHBhcnNlVmFyKG5vZGUpO1xuICAgICAgICAgICAgc2VtaWNvbG9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnVmFyaWFibGVEZWNsYXJhdGlvbicpO1xuXG4gICAgICAgIGNhc2UgX3doaWxlOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgbm9kZS50ZXN0ID0gcGFyc2VQYXJlbkV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIGxhYmVscy5wdXNoKGxvb3BMYWJlbCk7XG4gICAgICAgICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgbGFiZWxzLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ1doaWxlU3RhdGVtZW50Jyk7XG5cbiAgICAgICAgY2FzZSBfd2l0aDpcbiAgICAgICAgICAgIGlmIChzdHJpY3QpIHJhaXNlKHRva1N0YXJ0LCAnXFwnd2l0aFxcJyBpbiBzdHJpY3QgbW9kZScpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgbm9kZS5vYmplY3QgPSBwYXJzZVBhcmVuRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgbm9kZS5ib2R5ID0gcGFyc2VTdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdXaXRoU3RhdGVtZW50Jyk7XG5cbiAgICAgICAgY2FzZSBfYnJhY2VMOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmxvY2soKTtcblxuICAgICAgICBjYXNlIF9zZW1pOlxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ0VtcHR5U3RhdGVtZW50Jyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlbWVudCBkb2VzIG5vdCBzdGFydCB3aXRoIGEgc3RhdGVtZW50IGtleXdvcmQgb3IgYVxuICAgICAgICAvLyBicmFjZSwgaXQncyBhbiBFeHByZXNzaW9uU3RhdGVtZW50IG9yIExhYmVsZWRTdGF0ZW1lbnQuIFdlXG4gICAgICAgIC8vIHNpbXBseSBzdGFydCBwYXJzaW5nIGFuIGV4cHJlc3Npb24sIGFuZCBhZnRlcndhcmRzLCBpZiB0aGVcbiAgICAgICAgLy8gbmV4dCB0b2tlbiBpcyBhIGNvbG9uIGFuZCB0aGUgZXhwcmVzc2lvbiB3YXMgYSBzaW1wbGVcbiAgICAgICAgLy8gSWRlbnRpZmllciBub2RlLCB3ZSBzd2l0Y2ggdG8gaW50ZXJwcmV0aW5nIGl0IGFzIGEgbGFiZWwuXG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IG1heWJlTmFtZSA9IHRva1ZhbCwgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0dHlwZSA9PT0gX25hbWUgJiYgZXhwci50eXBlID09PSAnSWRlbnRpZmllcicgJiYgZWF0KF9jb2xvbikpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsc1tpXS5uYW1lID09PSBtYXliZU5hbWUpIHJhaXNlKGV4cHIuc3RhcnQsICdMYWJlbCBcXCcnICsgbWF5YmVOYW1lICsgJ1xcJyBpcyBhbHJlYWR5IGRlY2xhcmVkJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qga2luZCA9IHRva1R5cGUuaXNMb29wID8gJ2xvb3AnIDogdG9rVHlwZSA9PT0gX3N3aXRjaCA/ICdzd2l0Y2gnIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsYWJlbHMucHVzaCh7IG5hbWU6IG1heWJlTmFtZSwga2luZDoga2luZCB9KTtcbiAgICAgICAgICAgICAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgIGxhYmVscy5wb3AoKTtcbiAgICAgICAgICAgICAgICBub2RlLmxhYmVsID0gZXhwcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnTGFiZWxlZFN0YXRlbWVudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlLmV4cHJlc3Npb24gPSBleHByO1xuICAgICAgICAgICAgICAgIHNlbWljb2xvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdFeHByZXNzaW9uU3RhdGVtZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBVc2VkIGZvciBjb25zdHJ1Y3RzIGxpa2UgYHN3aXRjaGAgYW5kIGBpZmAgdGhhdCBpbnNpc3Qgb25cbi8vIHBhcmVudGhlc2VzIGFyb3VuZCB0aGVpciBleHByZXNzaW9uLlxuXG5mdW5jdGlvbiBwYXJzZVBhcmVuRXhwcmVzc2lvbigpIHtcbiAgICBleHBlY3QoX3BhcmVuTCk7XG4gICAgY29uc3QgdmFsID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgZXhwZWN0KF9wYXJlblIpO1xuICAgIHJldHVybiB2YWw7XG59XG5cbi8vIFBhcnNlIGEgc2VtaWNvbG9uLWVuY2xvc2VkIGJsb2NrIG9mIHN0YXRlbWVudHMsIGhhbmRsaW5nIGBcInVzZVxuLy8gc3RyaWN0XCJgIGRlY2xhcmF0aW9ucyB3aGVuIGBhbGxvd1N0cmljdGAgaXMgdHJ1ZSAodXNlZCBmb3Jcbi8vIGZ1bmN0aW9uIGJvZGllcykuXG5cbmZ1bmN0aW9uIHBhcnNlQmxvY2soYWxsb3dTdHJpY3QpIHtcbiAgICBjb25zdCBub2RlID0gc3RhcnROb2RlKCk7XG4gICAgbGV0IGZpcnN0ID0gdHJ1ZSwgc3RyaWN0ID0gZmFsc2UsIG9sZFN0cmljdDtcbiAgICBub2RlLmJvZHkgPSBbXTtcbiAgICBleHBlY3QoX2JyYWNlTCk7XG4gICAgd2hpbGUgKCFlYXQoX2JyYWNlUikpIHtcbiAgICAgICAgY29uc3Qgc3RtdCA9IHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICAgIG5vZGUuYm9keS5wdXNoKHN0bXQpO1xuICAgICAgICBpZiAoZmlyc3QgJiYgYWxsb3dTdHJpY3QgJiYgaXNVc2VTdHJpY3Qoc3RtdCkpIHtcbiAgICAgICAgICAgIG9sZFN0cmljdCA9IHN0cmljdDtcbiAgICAgICAgICAgIHNldFN0cmljdChzdHJpY3QgPSB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3RyaWN0ICYmICFvbGRTdHJpY3QpIHNldFN0cmljdChmYWxzZSk7XG4gICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ0Jsb2NrU3RhdGVtZW50Jyk7XG59XG5cbi8vIFBhcnNlIGEgcmVndWxhciBgZm9yYCBsb29wLiBUaGUgZGlzYW1iaWd1YXRpb24gY29kZSBpblxuLy8gYHBhcnNlU3RhdGVtZW50YCB3aWxsIGFscmVhZHkgaGF2ZSBwYXJzZWQgdGhlIGluaXQgc3RhdGVtZW50IG9yXG4vLyBleHByZXNzaW9uLlxuXG5mdW5jdGlvbiBwYXJzZUZvcihub2RlLCBpbml0KSB7XG4gICAgbm9kZS5pbml0ID0gaW5pdDtcbiAgICBleHBlY3QoX3NlbWkpO1xuICAgIG5vZGUudGVzdCA9IHRva1R5cGUgPT09IF9zZW1pID8gbnVsbCA6IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIGV4cGVjdChfc2VtaSk7XG4gICAgbm9kZS51cGRhdGUgPSB0b2tUeXBlID09PSBfcGFyZW5SID8gbnVsbCA6IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICBub2RlLmJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgIGxhYmVscy5wb3AoKTtcbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnRm9yU3RhdGVtZW50Jyk7XG59XG5cbi8vIFBhcnNlIGEgYGZvcmAvYGluYCBsb29wLlxuXG5mdW5jdGlvbiBwYXJzZUZvckluKG5vZGUsIGluaXQpIHtcbiAgICBub2RlLmxlZnQgPSBpbml0O1xuICAgIG5vZGUucmlnaHQgPSBwYXJzZUV4cHJlc3Npb24oKTtcbiAgICBleHBlY3QoX3BhcmVuUik7XG4gICAgbm9kZS5ib2R5ID0gcGFyc2VTdGF0ZW1lbnQoKTtcbiAgICBsYWJlbHMucG9wKCk7XG4gICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ0ZvckluU3RhdGVtZW50Jyk7XG59XG5cbi8vIFBhcnNlIGEgbGlzdCBvZiB2YXJpYWJsZSBkZWNsYXJhdGlvbnMuXG5cbmZ1bmN0aW9uIHBhcnNlVmFyKG5vZGUsIG5vSW4pIHtcbiAgICBub2RlLmRlY2xhcmF0aW9ucyA9IFtdO1xuICAgIG5vZGUua2luZCA9ICd2YXInO1xuICAgIGZvciAoOyA7KSB7XG4gICAgICAgIGNvbnN0IGRlY2wgPSBzdGFydE5vZGUoKTtcbiAgICAgICAgZGVjbC5pZCA9IHBhcnNlSWRlbnQoKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiBpc1N0cmljdEJhZElkV29yZChkZWNsLmlkLm5hbWUpKVxuICAgICAgICAgICAgcmFpc2UoZGVjbC5pZC5zdGFydCwgJ0JpbmRpbmcgJyArIGRlY2wuaWQubmFtZSArICcgaW4gc3RyaWN0IG1vZGUnKTtcbiAgICAgICAgZGVjbC5pbml0ID0gZWF0KF9lcSkgPyBwYXJzZUV4cHJlc3Npb24odHJ1ZSwgbm9JbikgOiBudWxsO1xuICAgICAgICBub2RlLmRlY2xhcmF0aW9ucy5wdXNoKGZpbmlzaE5vZGUoZGVjbCwgJ1ZhcmlhYmxlRGVjbGFyYXRvcicpKTtcbiAgICAgICAgaWYgKCFlYXQoX2NvbW1hKSkgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuXG4vLyAjIyMgRXhwcmVzc2lvbiBwYXJzaW5nXG5cbi8vIFRoZXNlIG5lc3QsIGZyb20gdGhlIG1vc3QgZ2VuZXJhbCBleHByZXNzaW9uIHR5cGUgYXQgdGhlIHRvcCB0b1xuLy8gJ2F0b21pYycsIG5vbmRpdmlzaWJsZSBleHByZXNzaW9uIHR5cGVzIGF0IHRoZSBib3R0b20uIE1vc3Qgb2Zcbi8vIHRoZSBmdW5jdGlvbnMgd2lsbCBzaW1wbHkgbGV0IHRoZSBmdW5jdGlvbihzKSBiZWxvdyB0aGVtIHBhcnNlLFxuLy8gYW5kLCAqaWYqIHRoZSBzeW50YWN0aWMgY29uc3RydWN0IHRoZXkgaGFuZGxlIGlzIHByZXNlbnQsIHdyYXBcbi8vIHRoZSBBU1Qgbm9kZSB0aGF0IHRoZSBpbm5lciBwYXJzZXIgZ2F2ZSB0aGVtIGluIGFub3RoZXIgbm9kZS5cblxuLy8gUGFyc2UgYSBmdWxsIGV4cHJlc3Npb24uIFRoZSBhcmd1bWVudHMgYXJlIHVzZWQgdG8gZm9yYmlkIGNvbW1hXG4vLyBzZXF1ZW5jZXMgKGluIGFyZ3VtZW50IGxpc3RzLCBhcnJheSBsaXRlcmFscywgb3Igb2JqZWN0IGxpdGVyYWxzKVxuLy8gb3IgdGhlIGBpbmAgb3BlcmF0b3IgKGluIGZvciBsb29wcyBpbml0YWxpemF0aW9uIGV4cHJlc3Npb25zKS5cblxuZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9uKG5vQ29tbWEsIG5vSW4pIHtcbiAgICBjb25zdCBleHByID0gcGFyc2VNYXliZUFzc2lnbihub0luKTtcbiAgICBpZiAoIW5vQ29tbWEgJiYgdG9rVHlwZSA9PT0gX2NvbW1hKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGVGcm9tKGV4cHIpO1xuICAgICAgICBub2RlLmV4cHJlc3Npb25zID0gW2V4cHJdO1xuICAgICAgICB3aGlsZSAoZWF0KF9jb21tYSkpIG5vZGUuZXhwcmVzc2lvbnMucHVzaChwYXJzZU1heWJlQXNzaWduKG5vSW4pKTtcbiAgICAgICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ1NlcXVlbmNlRXhwcmVzc2lvbicpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gUGFyc2UgYW4gYXNzaWdubWVudCBleHByZXNzaW9uLiBUaGlzIGluY2x1ZGVzIGFwcGxpY2F0aW9ucyBvZlxuLy8gb3BlcmF0b3JzIGxpa2UgYCs9YC5cblxuZnVuY3Rpb24gcGFyc2VNYXliZUFzc2lnbihub0luKSB7XG4gICAgY29uc3QgbGVmdCA9IHBhcnNlTWF5YmVDb25kaXRpb25hbChub0luKTtcbiAgICBpZiAodG9rVHlwZS5pc0Fzc2lnbikge1xuICAgICAgICBjb25zdCBub2RlID0gc3RhcnROb2RlRnJvbShsZWZ0KTtcbiAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRva1ZhbDtcbiAgICAgICAgbm9kZS5sZWZ0ID0gbGVmdDtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBub2RlLnJpZ2h0ID0gcGFyc2VNYXliZUFzc2lnbihub0luKTtcbiAgICAgICAgY2hlY2tMVmFsKGxlZnQpO1xuICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnQXNzaWdubWVudEV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG59XG5cbi8vIFBhcnNlIGEgdGVybmFyeSBjb25kaXRpb25hbCAoYD86YCkgb3BlcmF0b3IuXG5cbmZ1bmN0aW9uIHBhcnNlTWF5YmVDb25kaXRpb25hbChub0luKSB7XG4gICAgY29uc3QgZXhwciA9IHBhcnNlRXhwck9wcyhub0luKTtcbiAgICBpZiAoZWF0KF9xdWVzdGlvbikpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZUZyb20oZXhwcik7XG4gICAgICAgIG5vZGUudGVzdCA9IGV4cHI7XG4gICAgICAgIG5vZGUuY29uc2VxdWVudCA9IHBhcnNlRXhwcmVzc2lvbih0cnVlKTtcbiAgICAgICAgZXhwZWN0KF9jb2xvbik7XG4gICAgICAgIG5vZGUuYWx0ZXJuYXRlID0gcGFyc2VFeHByZXNzaW9uKHRydWUsIG5vSW4pO1xuICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJyk7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBTdGFydCB0aGUgcHJlY2VkZW5jZSBwYXJzZXIuXG5cbmZ1bmN0aW9uIHBhcnNlRXhwck9wcyhub0luKSB7XG4gICAgcmV0dXJuIHBhcnNlRXhwck9wKHBhcnNlTWF5YmVVbmFyeSgpLCAtMSwgbm9Jbik7XG59XG5cbi8vIFBhcnNlIGJpbmFyeSBvcGVyYXRvcnMgd2l0aCB0aGUgb3BlcmF0b3IgcHJlY2VkZW5jZSBwYXJzaW5nXG4vLyBhbGdvcml0aG0uIGBsZWZ0YCBpcyB0aGUgbGVmdC1oYW5kIHNpZGUgb2YgdGhlIG9wZXJhdG9yLlxuLy8gYG1pblByZWNgIHByb3ZpZGVzIGNvbnRleHQgdGhhdCBhbGxvd3MgdGhlIGZ1bmN0aW9uIHRvIHN0b3AgYW5kXG4vLyBkZWZlciBmdXJ0aGVyIHBhcnNlciB0byBvbmUgb2YgaXRzIGNhbGxlcnMgd2hlbiBpdCBlbmNvdW50ZXJzIGFuXG4vLyBvcGVyYXRvciB0aGF0IGhhcyBhIGxvd2VyIHByZWNlZGVuY2UgdGhhbiB0aGUgc2V0IGl0IGlzIHBhcnNpbmcuXG5cbmZ1bmN0aW9uIHBhcnNlRXhwck9wKGxlZnQsIG1pblByZWMsIG5vSW4pIHtcbiAgICBjb25zdCBwcmVjID0gdG9rVHlwZS5iaW5vcDtcbiAgICBpZiAocHJlYyAhPSBudWxsICYmICghbm9JbiB8fCB0b2tUeXBlICE9PSBfaW4pKSB7XG4gICAgICAgIGlmIChwcmVjID4gbWluUHJlYykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZUZyb20obGVmdCk7XG4gICAgICAgICAgICBub2RlLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRva1ZhbDtcbiAgICAgICAgICAgIGNvbnN0IG9wID0gdG9rVHlwZTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIG5vZGUucmlnaHQgPSBwYXJzZUV4cHJPcChwYXJzZU1heWJlVW5hcnkoKSwgcHJlYywgbm9Jbik7XG4gICAgICAgICAgICBjb25zdCBleHByTm9kZSA9IGZpbmlzaE5vZGUobm9kZSwgKG9wID09PSBfbG9naWNhbE9SIHx8IG9wID09PSBfbG9naWNhbEFORCkgPyAnTG9naWNhbEV4cHJlc3Npb24nIDogJ0JpbmFyeUV4cHJlc3Npb24nKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUV4cHJPcChleHByTm9kZSwgbWluUHJlYywgbm9Jbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG59XG5cbi8vIFBhcnNlIHVuYXJ5IG9wZXJhdG9ycywgYm90aCBwcmVmaXggYW5kIHBvc3RmaXguXG5cbmZ1bmN0aW9uIHBhcnNlTWF5YmVVbmFyeSgpIHtcbiAgICBpZiAodG9rVHlwZS5wcmVmaXgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKSwgdXBkYXRlID0gdG9rVHlwZS5pc1VwZGF0ZTtcbiAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRva1ZhbDtcbiAgICAgICAgbm9kZS5wcmVmaXggPSB0cnVlO1xuICAgICAgICB0b2tSZWdleHBBbGxvd2VkID0gdHJ1ZTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBub2RlLmFyZ3VtZW50ID0gcGFyc2VNYXliZVVuYXJ5KCk7XG4gICAgICAgIGlmICh1cGRhdGUpIGNoZWNrTFZhbChub2RlLmFyZ3VtZW50KTtcbiAgICAgICAgZWxzZSBpZiAoc3RyaWN0ICYmIG5vZGUub3BlcmF0b3IgPT09ICdkZWxldGUnICYmXG4gICAgICAgICAgICBub2RlLmFyZ3VtZW50LnR5cGUgPT09ICdJZGVudGlmaWVyJylcbiAgICAgICAgICAgIHJhaXNlKG5vZGUuc3RhcnQsICdEZWxldGluZyBsb2NhbCB2YXJpYWJsZSBpbiBzdHJpY3QgbW9kZScpO1xuICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCB1cGRhdGUgPyAnVXBkYXRlRXhwcmVzc2lvbicgOiAnVW5hcnlFeHByZXNzaW9uJyk7XG4gICAgfVxuICAgIGxldCBleHByID0gcGFyc2VFeHByU3Vic2NyaXB0cygpO1xuICAgIHdoaWxlICh0b2tUeXBlLnBvc3RmaXggJiYgIWNhbkluc2VydFNlbWljb2xvbigpKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShleHByKTtcbiAgICAgICAgbm9kZS5vcGVyYXRvciA9IHRva1ZhbDtcbiAgICAgICAgbm9kZS5wcmVmaXggPSBmYWxzZTtcbiAgICAgICAgbm9kZS5hcmd1bWVudCA9IGV4cHI7XG4gICAgICAgIGNoZWNrTFZhbChleHByKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgICBleHByID0gZmluaXNoTm9kZShub2RlLCAnVXBkYXRlRXhwcmVzc2lvbicpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gUGFyc2UgY2FsbCwgZG90LCBhbmQgYFtdYC1zdWJzY3JpcHQgZXhwcmVzc2lvbnMuXG5cbmZ1bmN0aW9uIHBhcnNlRXhwclN1YnNjcmlwdHMoKSB7XG4gICAgcmV0dXJuIHBhcnNlU3Vic2NyaXB0cyhwYXJzZUV4cHJBdG9tKCkpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVN1YnNjcmlwdHMoYmFzZSwgbm9DYWxscykge1xuICAgIGlmIChlYXQoX2RvdCkpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGVGcm9tKGJhc2UpO1xuICAgICAgICBub2RlLm9iamVjdCA9IGJhc2U7XG4gICAgICAgIG5vZGUucHJvcGVydHkgPSBwYXJzZUlkZW50KHRydWUpO1xuICAgICAgICBub2RlLmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBwYXJzZVN1YnNjcmlwdHMoZmluaXNoTm9kZShub2RlLCAnTWVtYmVyRXhwcmVzc2lvbicpLCBub0NhbGxzKTtcbiAgICB9IGVsc2UgaWYgKGVhdChfYnJhY2tldEwpKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShiYXNlKTtcbiAgICAgICAgbm9kZS5vYmplY3QgPSBiYXNlO1xuICAgICAgICBub2RlLnByb3BlcnR5ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgIG5vZGUuY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICBleHBlY3QoX2JyYWNrZXRSKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlU3Vic2NyaXB0cyhmaW5pc2hOb2RlKG5vZGUsICdNZW1iZXJFeHByZXNzaW9uJyksIG5vQ2FsbHMpO1xuICAgIH0gZWxzZSBpZiAoIW5vQ2FsbHMgJiYgZWF0KF9wYXJlbkwpKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlRnJvbShiYXNlKTtcbiAgICAgICAgbm9kZS5jYWxsZWUgPSBiYXNlO1xuICAgICAgICBub2RlLmFyZ3VtZW50cyA9IHBhcnNlRXhwckxpc3QoX3BhcmVuUiwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gcGFyc2VTdWJzY3JpcHRzKGZpbmlzaE5vZGUobm9kZSwgJ0NhbGxFeHByZXNzaW9uJyksIG5vQ2FsbHMpO1xuICAgIH0gZWxzZSByZXR1cm4gYmFzZTtcbn1cblxuLy8gUGFyc2UgYW4gYXRvbWljIGV4cHJlc3Npb24g4oCUIGVpdGhlciBhIHNpbmdsZSB0b2tlbiB0aGF0IGlzIGFuXG4vLyBleHByZXNzaW9uLCBhbiBleHByZXNzaW9uIHN0YXJ0ZWQgYnkgYSBrZXl3b3JkIGxpa2UgYGZ1bmN0aW9uYCBvclxuLy8gYG5ld2AsIG9yIGFuIGV4cHJlc3Npb24gd3JhcHBlZCBpbiBwdW5jdHVhdGlvbiBsaWtlIGAoKWAsIGBbXWAsXG4vLyBvciBge31gLlxuXG5mdW5jdGlvbiBwYXJzZUV4cHJBdG9tKCkge1xuICAgIHN3aXRjaCAodG9rVHlwZSkge1xuICAgICAgICBjYXNlIF90aGlzOlxuICAgICAgICAgICAgdmFyIG5vZGUgPSBzdGFydE5vZGUoKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdUaGlzRXhwcmVzc2lvbicpO1xuICAgICAgICBjYXNlIF9uYW1lOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSWRlbnQoKTtcbiAgICAgICAgY2FzZSBfbnVtOlxuICAgICAgICBjYXNlIF9zdHJpbmc6XG4gICAgICAgIGNhc2UgX3JlZ2V4cDpcbiAgICAgICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlKCk7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gdG9rVmFsO1xuICAgICAgICAgICAgbm9kZS5yYXcgPSBpbnB1dC5zbGljZSh0b2tTdGFydCwgdG9rRW5kKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdMaXRlcmFsJyk7XG5cbiAgICAgICAgY2FzZSBfbnVsbDpcbiAgICAgICAgY2FzZSBfdHJ1ZTpcbiAgICAgICAgY2FzZSBfZmFsc2U6XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9IHRva1R5cGUuYXRvbVZhbHVlO1xuICAgICAgICAgICAgbm9kZS5yYXcgPSB0b2tUeXBlLmtleXdvcmQ7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnTGl0ZXJhbCcpO1xuXG4gICAgICAgIGNhc2UgX3BhcmVuTDpcbiAgICAgICAgICAgIGNvbnN0IHRva1N0YXJ0TG9jMSA9IHRva1N0YXJ0TG9jLCB0b2tTdGFydDEgPSB0b2tTdGFydDtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgdmFsLnN0YXJ0ID0gdG9rU3RhcnQxO1xuICAgICAgICAgICAgdmFsLmVuZCA9IHRva0VuZDtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxvY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhbC5sb2Muc3RhcnQgPSB0b2tTdGFydExvYzE7XG4gICAgICAgICAgICAgICAgdmFsLmxvYy5lbmQgPSB0b2tFbmRMb2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yYW5nZXMpXG4gICAgICAgICAgICAgICAgdmFsLnJhbmdlID0gW3Rva1N0YXJ0MSwgdG9rRW5kXTtcbiAgICAgICAgICAgIGV4cGVjdChfcGFyZW5SKTtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG5cbiAgICAgICAgY2FzZSBfYnJhY2tldEw6XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgbm9kZS5lbGVtZW50cyA9IHBhcnNlRXhwckxpc3QoX2JyYWNrZXRSLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdBcnJheUV4cHJlc3Npb24nKTtcblxuICAgICAgICBjYXNlIF9icmFjZUw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmooKTtcblxuICAgICAgICBjYXNlIF9mdW5jdGlvbjpcbiAgICAgICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlKCk7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbihub2RlLCBmYWxzZSk7XG5cbiAgICAgICAgY2FzZSBfbmV3OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmV3KCk7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHVuZXhwZWN0ZWQoKTtcbiAgICB9XG59XG5cbi8vIE5ldydzIHByZWNlZGVuY2UgaXMgc2xpZ2h0bHkgdHJpY2t5LiBJdCBtdXN0IGFsbG93IGl0cyBhcmd1bWVudFxuLy8gdG8gYmUgYSBgW11gIG9yIGRvdCBzdWJzY3JpcHQgZXhwcmVzc2lvbiwgYnV0IG5vdCBhIGNhbGwg4oCUIGF0XG4vLyBsZWFzdCwgbm90IHdpdGhvdXQgd3JhcHBpbmcgaXQgaW4gcGFyZW50aGVzZXMuIFRodXMsIGl0IHVzZXMgdGhlXG5cbmZ1bmN0aW9uIHBhcnNlTmV3KCkge1xuICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoKTtcbiAgICBuZXh0KCk7XG4gICAgbm9kZS5jYWxsZWUgPSBwYXJzZVN1YnNjcmlwdHMocGFyc2VFeHByQXRvbSgpLCB0cnVlKTtcbiAgICBpZiAoZWF0KF9wYXJlbkwpKSBub2RlLmFyZ3VtZW50cyA9IHBhcnNlRXhwckxpc3QoX3BhcmVuUiwgZmFsc2UpO1xuICAgIGVsc2Ugbm9kZS5hcmd1bWVudHMgPSBlbXB0eTtcbiAgICByZXR1cm4gZmluaXNoTm9kZShub2RlLCAnTmV3RXhwcmVzc2lvbicpO1xufVxuXG4vLyBQYXJzZSBhbiBvYmplY3QgbGl0ZXJhbC5cblxuZnVuY3Rpb24gcGFyc2VPYmooKSB7XG4gICAgY29uc3Qgbm9kZSA9IHN0YXJ0Tm9kZSgpO1xuICAgIGxldCBmaXJzdCA9IHRydWUsIHNhd0dldFNldCA9IGZhbHNlO1xuICAgIG5vZGUucHJvcGVydGllcyA9IFtdO1xuICAgIG5leHQoKTtcbiAgICB3aGlsZSAoIWVhdChfYnJhY2VSKSkge1xuICAgICAgICBpZiAoIWZpcnN0KSB7XG4gICAgICAgICAgICBleHBlY3QoX2NvbW1hKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsbG93VHJhaWxpbmdDb21tYXMgJiYgZWF0KF9icmFjZVIpKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGZpcnN0ID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgcHJvcCA9IHsga2V5OiBwYXJzZVByb3BlcnR5TmFtZSgpIH07XG4gICAgICAgIGxldCBpc0dldFNldCA9IGZhbHNlLCBraW5kO1xuICAgICAgICBpZiAoZWF0KF9jb2xvbikpIHtcbiAgICAgICAgICAgIHByb3AudmFsdWUgPSBwYXJzZUV4cHJlc3Npb24odHJ1ZSk7XG4gICAgICAgICAgICBraW5kID0gcHJvcC5raW5kID0gJ2luaXQnO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZWNtYVZlcnNpb24gPj0gNSAmJiBwcm9wLmtleS50eXBlID09PSAnSWRlbnRpZmllcicgJiZcbiAgICAgICAgICAgIChwcm9wLmtleS5uYW1lID09PSAnZ2V0JyB8fCBwcm9wLmtleS5uYW1lID09PSAnc2V0JykpIHtcbiAgICAgICAgICAgIGlzR2V0U2V0ID0gc2F3R2V0U2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGtpbmQgPSBwcm9wLmtpbmQgPSBwcm9wLmtleS5uYW1lO1xuICAgICAgICAgICAgcHJvcC5rZXkgPSBwYXJzZVByb3BlcnR5TmFtZSgpO1xuICAgICAgICAgICAgaWYgKHRva1R5cGUgIT09IF9wYXJlbkwpIHVuZXhwZWN0ZWQoKTtcbiAgICAgICAgICAgIHByb3AudmFsdWUgPSBwYXJzZUZ1bmN0aW9uKHN0YXJ0Tm9kZSgpLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB1bmV4cGVjdGVkKCk7XG5cbiAgICAgICAgLy8gZ2V0dGVycyBhbmQgc2V0dGVycyBhcmUgbm90IGFsbG93ZWQgdG8gY2xhc2gg4oCUIGVpdGhlciB3aXRoXG4gICAgICAgIC8vIGVhY2ggb3RoZXIgb3Igd2l0aCBhbiBpbml0IHByb3BlcnR5IOKAlCBhbmQgaW4gc3RyaWN0IG1vZGUsXG4gICAgICAgIC8vIGluaXQgcHJvcGVydGllcyBhcmUgYWxzbyBub3QgYWxsb3dlZCB0byBiZSByZXBlYXRlZC5cblxuICAgICAgICBpZiAocHJvcC5rZXkudHlwZSA9PT0gJ0lkZW50aWZpZXInICYmIChzdHJpY3QgfHwgc2F3R2V0U2V0KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLnByb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IG5vZGUucHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIua2V5Lm5hbWUgPT09IHByb3Aua2V5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZsaWN0ID0ga2luZCA9PSBvdGhlci5raW5kIHx8IGlzR2V0U2V0ICYmIG90aGVyLmtpbmQgPT09ICdpbml0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAga2luZCA9PT0gJ2luaXQnICYmIChvdGhlci5raW5kID09PSAnZ2V0JyB8fCBvdGhlci5raW5kID09PSAnc2V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25mbGljdCAmJiAhc3RyaWN0ICYmIGtpbmQgPT09ICdpbml0JyAmJiBvdGhlci5raW5kID09PSAnaW5pdCcpIGNvbmZsaWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25mbGljdCkgcmFpc2UocHJvcC5rZXkuc3RhcnQsICdSZWRlZmluaXRpb24gb2YgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2gocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsICdPYmplY3RFeHByZXNzaW9uJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUHJvcGVydHlOYW1lKCkge1xuICAgIGlmICh0b2tUeXBlID09PSBfbnVtIHx8IHRva1R5cGUgPT09IF9zdHJpbmcpIHJldHVybiBwYXJzZUV4cHJBdG9tKCk7XG4gICAgcmV0dXJuIHBhcnNlSWRlbnQodHJ1ZSk7XG59XG5cbi8vIFBhcnNlIGEgZnVuY3Rpb24gZGVjbGFyYXRpb24gb3IgbGl0ZXJhbCAoZGVwZW5kaW5nIG9uIHRoZVxuLy8gYGlzU3RhdGVtZW50YCBwYXJhbWV0ZXIpLlxuXG5mdW5jdGlvbiBwYXJzZUZ1bmN0aW9uKG5vZGUsIGlzU3RhdGVtZW50KSB7XG4gICAgaWYgKHRva1R5cGUgPT09IF9uYW1lKSBub2RlLmlkID0gcGFyc2VJZGVudCgpO1xuICAgIGVsc2UgaWYgKGlzU3RhdGVtZW50KSB1bmV4cGVjdGVkKCk7XG4gICAgZWxzZSBub2RlLmlkID0gbnVsbDtcbiAgICBub2RlLnBhcmFtcyA9IFtdO1xuICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgZXhwZWN0KF9wYXJlbkwpO1xuICAgIHdoaWxlICghZWF0KF9wYXJlblIpKSB7XG4gICAgICAgIGlmICghZmlyc3QpIGV4cGVjdChfY29tbWEpOyBlbHNlIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgIG5vZGUucGFyYW1zLnB1c2gocGFyc2VJZGVudCgpKTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCBhIG5ldyBzY29wZSB3aXRoIHJlZ2FyZCB0byBsYWJlbHMgYW5kIHRoZSBgaW5GdW5jdGlvbmBcbiAgICAvLyBmbGFnIChyZXN0b3JlIHRoZW0gdG8gdGhlaXIgb2xkIHZhbHVlIGFmdGVyd2FyZHMpLlxuICAgIGNvbnN0IG9sZEluRnVuYyA9IGluRnVuY3Rpb24sIG9sZExhYmVscyA9IGxhYmVscztcbiAgICBpbkZ1bmN0aW9uID0gdHJ1ZTtcbiAgICBsYWJlbHMgPSBbXTtcbiAgICBub2RlLmJvZHkgPSBwYXJzZUJsb2NrKHRydWUpO1xuICAgIGluRnVuY3Rpb24gPSBvbGRJbkZ1bmM7XG4gICAgbGFiZWxzID0gb2xkTGFiZWxzO1xuXG4gICAgLy8gSWYgdGhpcyBpcyBhIHN0cmljdCBtb2RlIGZ1bmN0aW9uLCB2ZXJpZnkgdGhhdCBhcmd1bWVudCBuYW1lc1xuICAgIC8vIGFyZSBub3QgcmVwZWF0ZWQsIGFuZCBpdCBkb2VzIG5vdCB0cnkgdG8gYmluZCB0aGUgd29yZHMgYGV2YWxgXG4gICAgLy8gb3IgYGFyZ3VtZW50c2AuXG4gICAgaWYgKHN0cmljdCB8fCBub2RlLmJvZHkuYm9keS5sZW5ndGggJiYgaXNVc2VTdHJpY3Qobm9kZS5ib2R5LmJvZHlbMF0pKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBub2RlLmlkID8gLTEgOiAwOyBpIDwgbm9kZS5wYXJhbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gaSA8IDAgPyBub2RlLmlkIDogbm9kZS5wYXJhbXNbaV07XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3RSZXNlcnZlZFdvcmQoaWQubmFtZSkgfHwgaXNTdHJpY3RCYWRJZFdvcmQoaWQubmFtZSkpXG4gICAgICAgICAgICAgICAgcmFpc2UoaWQuc3RhcnQsICdEZWZpbmluZyBcXCcnICsgaWQubmFtZSArICdcXCcgaW4gc3RyaWN0IG1vZGUnKTtcbiAgICAgICAgICAgIGlmIChpID49IDApIGZvciAobGV0IGogPSAwOyBqIDwgaTsgKytqKSBpZiAoaWQubmFtZSA9PT0gbm9kZS5wYXJhbXNbal0ubmFtZSlcbiAgICAgICAgICAgICAgICByYWlzZShpZC5zdGFydCwgJ0FyZ3VtZW50IG5hbWUgY2xhc2ggaW4gc3RyaWN0IG1vZGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaW5pc2hOb2RlKG5vZGUsIGlzU3RhdGVtZW50ID8gJ0Z1bmN0aW9uRGVjbGFyYXRpb24nIDogJ0Z1bmN0aW9uRXhwcmVzc2lvbicpO1xufVxuXG4vLyBQYXJzZXMgYSBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBleHByZXNzaW9ucywgYW5kIHJldHVybnMgdGhlbSBhc1xuLy8gYW4gYXJyYXkuIGBjbG9zZWAgaXMgdGhlIHRva2VuIHR5cGUgdGhhdCBlbmRzIHRoZSBsaXN0LCBhbmRcbi8vIGBhbGxvd0VtcHR5YCBjYW4gYmUgdHVybmVkIG9uIHRvIGFsbG93IHN1YnNlcXVlbnQgY29tbWFzIHdpdGhcbi8vIG5vdGhpbmcgaW4gYmV0d2VlbiB0aGVtIHRvIGJlIHBhcnNlZCBhcyBgbnVsbGAgKHdoaWNoIGlzIG5lZWRlZFxuLy8gZm9yIGFycmF5IGxpdGVyYWxzKS5cblxuZnVuY3Rpb24gcGFyc2VFeHByTGlzdChjbG9zZSwgYWxsb3dUcmFpbGluZ0NvbW1hLCBhbGxvd0VtcHR5KSB7XG4gICAgY29uc3QgZWx0cyA9IFtdO1xuICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgd2hpbGUgKCFlYXQoY2xvc2UpKSB7XG4gICAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgICAgIGV4cGVjdChfY29tbWEpO1xuICAgICAgICAgICAgaWYgKGFsbG93VHJhaWxpbmdDb21tYSAmJiBvcHRpb25zLmFsbG93VHJhaWxpbmdDb21tYXMgJiYgZWF0KGNsb3NlKSkgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBmaXJzdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChhbGxvd0VtcHR5ICYmIHRva1R5cGUgPT09IF9jb21tYSkgZWx0cy5wdXNoKG51bGwpO1xuICAgICAgICBlbHNlIGVsdHMucHVzaChwYXJzZUV4cHJlc3Npb24odHJ1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZWx0cztcbn1cblxuLy8gUGFyc2UgdGhlIG5leHQgdG9rZW4gYXMgYW4gaWRlbnRpZmllci4gSWYgYGxpYmVyYWxgIGlzIHRydWUgKHVzZWRcbi8vIHdoZW4gcGFyc2luZyBwcm9wZXJ0aWVzKSwgaXQgd2lsbCBhbHNvIGNvbnZlcnQga2V5d29yZHMgaW50b1xuLy8gaWRlbnRpZmllcnMuXG5cbmZ1bmN0aW9uIHBhcnNlSWRlbnQobGliZXJhbCkge1xuICAgIGNvbnN0IG5vZGUgPSBzdGFydE5vZGUoKTtcbiAgICBub2RlLm5hbWUgPSB0b2tUeXBlID09PSBfbmFtZSA/IHRva1ZhbCA6IChsaWJlcmFsICYmICFvcHRpb25zLmZvcmJpZFJlc2VydmVkICYmIHRva1R5cGUua2V5d29yZCkgfHwgdW5leHBlY3RlZCgpO1xuICAgIHRva1JlZ2V4cEFsbG93ZWQgPSBmYWxzZTtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuIGZpbmlzaE5vZGUobm9kZSwgJ0lkZW50aWZpZXInKTtcbn1cblxuZXhwb3J0IHsgZXhwb3J0cyBhcyBhY29ybiB9O1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEludGVycHJldGluZyBKYXZhU2NyaXB0IGluIEphdmFTY3JpcHQuXG4gKiBAYXV0aG9yIGZyYXNlckBnb29nbGUuY29tIChOZWlsIEZyYXNlcilcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBhY29ybiB9IGZyb20gJy4vYWNvcm4nO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnRlcnByZXRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfCFPYmplY3R9IGNvZGUgUmF3IEphdmFTY3JpcHQgdGV4dCBvciBBU1QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gb3B0X2luaXRGdW5jIE9wdGlvbmFsIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiAgVXNlZCB0b1xuICogICAgIGRlZmluZSBBUElzLiAgV2hlbiBjYWxsZWQgaXQgaXMgcGFzc2VkIHRoZSBpbnRlcnByZXRlciBvYmplY3QgYW5kIHRoZVxuICogICAgIGdsb2JhbCBzY29wZSBvYmplY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEludGVycHJldGVyID0gZnVuY3Rpb24gKGNvZGUsIG9wdF9pbml0RnVuYykge1xuICAgIHRoaXMudWlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIpO1xuICAgIHRoaXMuaGFsdGVkXyA9IGZhbHNlO1xuICAgIHRoaXMuaGFzQ29tcGxldGVGdW5jUnVuXyA9IGZhbHNlO1xuICAgIHRoaXMuY29tcGxldGVGdW5jXyA9IGZ1bmN0aW9uKCl7fTtcbiAgICB0aGlzLmhhc0Vycm9yRnVuY1J1bl8gPSBmYWxzZTtcbiAgICB0aGlzLmVycm9yRnVuY18gPSBmdW5jdGlvbigpe307XG4gICAgdGhpcy51bnBhdXNlRnVuY18gPSBmdW5jdGlvbigpe307XG4gICAgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb2RlID0gYWNvcm4ucGFyc2UoY29kZSwgSW50ZXJwcmV0ZXIuUEFSU0VfT1BUSU9OUyk7XG4gICAgfVxuICAgIC8vIEdldCBhIGhhbmRsZSBvbiBBY29ybidzIG5vZGVfdCBvYmplY3QuXG4gICAgdGhpcy5ub2RlQ29uc3RydWN0b3IgPSBjb2RlLmNvbnN0cnVjdG9yO1xuICAgIC8vIENsb25lIHRoZSByb290ICdQcm9ncmFtJyBub2RlIHNvIHRoYXQgdGhlIEFTVCBtYXkgYmUgbW9kaWZpZWQuXG4gICAgdmFyIGFzdCA9IG5ldyB0aGlzLm5vZGVDb25zdHJ1Y3Rvcih7IG9wdGlvbnM6IHt9IH0pO1xuICAgIGZvciAodmFyIHByb3AgaW4gY29kZSkge1xuICAgICAgICBhc3RbcHJvcF0gPSBwcm9wID09PSAnYm9keScgPyBjb2RlW3Byb3BdLnNsaWNlKCkgOiBjb2RlW3Byb3BdO1xuICAgIH1cbiAgICB0aGlzLmFzdCA9IGFzdDtcbiAgICB0aGlzLmluaXRGdW5jXyA9IG9wdF9pbml0RnVuYztcbiAgICB0aGlzLnBhdXNlZF8gPSBmYWxzZTtcbiAgICB0aGlzLnBvbHlmaWxsc18gPSBbXTtcbiAgICAvLyBVbmlxdWUgaWRlbnRpZmllciBmb3IgbmF0aXZlIGZ1bmN0aW9ucy4gIFVzZWQgaW4gc2VyaWFsaXphdGlvbi5cbiAgICB0aGlzLmZ1bmN0aW9uQ291bnRlcl8gPSAwO1xuICAgIC8vIE1hcCBub2RlIHR5cGVzIHRvIG91ciBzdGVwIGZ1bmN0aW9uIG5hbWVzOyBhIHByb3BlcnR5IGxvb2t1cCBpcyBmYXN0ZXJcbiAgICAvLyB0aGFuIHN0cmluZyBjb25jYXRlbmF0aW9uIHdpdGggXCJzdGVwXCIgcHJlZml4LlxuICAgIHRoaXMuc3RlcEZ1bmN0aW9uc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHZhciBzdGVwTWF0Y2ggPSAvXnN0ZXAoW0EtWl1cXHcqKSQvO1xuICAgIHZhciBtO1xuICAgIGZvciAodmFyIG1ldGhvZE5hbWUgaW4gdGhpcykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXNbbWV0aG9kTmFtZV0gPT09ICdmdW5jdGlvbicgJiYgKG0gPSBtZXRob2ROYW1lLm1hdGNoKHN0ZXBNYXRjaCkpKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXBGdW5jdGlvbnNfW21bMV1dID0gdGhpc1ttZXRob2ROYW1lXS5iaW5kKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgZ2xvYmFsIHNjb3BlLlxuICAgIHRoaXMuZ2xvYmFsU2NvcGUgPSB0aGlzLmNyZWF0ZVNjb3BlKHRoaXMuYXN0LCBudWxsKTtcbiAgICB0aGlzLmdsb2JhbE9iamVjdCA9IHRoaXMuZ2xvYmFsU2NvcGUub2JqZWN0O1xuICAgIC8vIFJ1biB0aGUgcG9seWZpbGxzLlxuICAgIHRoaXMuYXN0ID0gYWNvcm4ucGFyc2UodGhpcy5wb2x5ZmlsbHNfLmpvaW4oJ1xcbicpLCBJbnRlcnByZXRlci5QQVJTRV9PUFRJT05TKTtcbiAgICB0aGlzLnBvbHlmaWxsc18gPSB1bmRlZmluZWQ7IC8vIEFsbG93IHBvbHlmaWxsIHN0cmluZ3MgdG8gZ2FyYmFnZSBjb2xsZWN0LlxuICAgIEludGVycHJldGVyLnN0cmlwTG9jYXRpb25zXyh0aGlzLmFzdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgIHZhciBzdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZSh0aGlzLmFzdCwgdGhpcy5nbG9iYWxTY29wZSk7XG4gICAgc3RhdGUuZG9uZSA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdGVTdGFjayA9IFtzdGF0ZV07XG4gICAgdGhpcy5ydW4oKTtcbiAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgIC8vIFBvaW50IGF0IHRoZSBtYWluIHByb2dyYW0uXG4gICAgdGhpcy5hc3QgPSBhc3Q7XG4gICAgdmFyIHN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKHRoaXMuYXN0LCB0aGlzLmdsb2JhbFNjb3BlKTtcbiAgICBzdGF0ZS5kb25lID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5zdGF0ZVN0YWNrWzBdID0gc3RhdGU7XG4gICAgLy8gUHJlc2VydmUgcHVibGljbHkgcHJvcGVydGllcyBmcm9tIGJlaW5nIHBydW5lZC9yZW5hbWVkIGJ5IEpTIGNvbXBpbGVycy5cbiAgICAvLyBBZGQgb3RoZXJzIGFzIG5lZWRlZC5cbiAgICB0aGlzWydzdGF0ZVN0YWNrJ10gPSB0aGlzLnN0YXRlU3RhY2s7XG59O1xuXG4vKipcbiAqIENvbXBsZXRpb24gVmFsdWUgVHlwZXMuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5JbnRlcnByZXRlci5Db21wbGV0aW9uID0ge1xuICAgIE5PUk1BTDogMCxcbiAgICBCUkVBSzogMSxcbiAgICBDT05USU5VRTogMixcbiAgICBSRVRVUk46IDMsXG4gICAgVEhST1c6IDQsXG59O1xuXG4vKipcbiAqIEBjb25zdCB7IU9iamVjdH0gQ29uZmlndXJhdGlvbiB1c2VkIGZvciBhbGwgQWNvcm4gcGFyc2luZy5cbiAqL1xuSW50ZXJwcmV0ZXIuUEFSU0VfT1BUSU9OUyA9IHtcbiAgICBlY21hVmVyc2lvbjogNSxcbn07XG5cbi8qKlxuICogUHJvcGVydHkgZGVzY3JpcHRvciBvZiByZWFkb25seSBwcm9wZXJ0aWVzLlxuICovXG5JbnRlcnByZXRlci5SRUFET05MWV9ERVNDUklQVE9SID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbn07XG5cbi8qKlxuICogUHJvcGVydHkgZGVzY3JpcHRvciBvZiBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICovXG5JbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IgPSB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxufTtcblxuLyoqXG4gKiBQcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIHJlYWRvbmx5LCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICovXG5JbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IgPSB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbn07XG5cbi8qKlxuICogUHJvcGVydHkgZGVzY3JpcHRvciBvZiBub24tY29uZmlndXJhYmxlLCByZWFkb25seSwgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqIEUuZy4gTmFOLCBJbmZpbml0eS5cbiAqL1xuSW50ZXJwcmV0ZXIuTk9OQ09ORklHVVJBQkxFX1JFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUiA9IHtcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbn07XG5cbi8qKlxuICogUHJvcGVydHkgZGVzY3JpcHRvciBvZiB2YXJpYWJsZXMuXG4gKi9cbkludGVycHJldGVyLlZBUklBQkxFX0RFU0NSSVBUT1IgPSB7XG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxufTtcblxuLyoqXG4gKiBVbmlxdWUgc3ltYm9sIGZvciBpbmRpY2F0aW5nIHRoYXQgYSBzdGVwIGhhcyBlbmNvdW50ZXJlZCBhbiBlcnJvciwgaGFzXG4gKiBhZGRlZCBpdCB0byB0aGUgc3RhY2ssIGFuZCB3aWxsIGJlIHRocm93biB3aXRoaW4gdGhlIHVzZXIncyBwcm9ncmFtLlxuICogV2hlbiBTVEVQX0VSUk9SIGlzIHRocm93biBpbiB0aGUgSlMtSW50ZXJwcmV0ZXIsIHRoZSBlcnJvciBjYW4gYmUgaWdub3JlZC5cbiAqL1xuSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUiA9IHsgU1RFUF9FUlJPUjogdHJ1ZSB9O1xuXG4vKipcbiAqIFVuaXF1ZSBzeW1ib2wgZm9yIGluZGljYXRpbmcgdGhhdCBhIHJlZmVyZW5jZSBpcyBhIHZhcmlhYmxlIG9uIHRoZSBzY29wZSxcbiAqIG5vdCBhbiBvYmplY3QgcHJvcGVydHkuXG4gKi9cbkludGVycHJldGVyLlNDT1BFX1JFRkVSRU5DRSA9IHsgU0NPUEVfUkVGRVJFTkNFOiB0cnVlIH07XG5cbi8qKlxuICogVW5pcXVlIHN5bWJvbCBmb3IgaW5kaWNhdGluZywgd2hlbiB1c2VkIGFzIHRoZSB2YWx1ZSBvZiB0aGUgdmFsdWVcbiAqIHBhcmFtZXRlciBpbiBjYWxscyB0byBzZXRQcm9wZXJ0eSBhbmQgZnJpZW5kcywgdGhhdCB0aGUgdmFsdWVcbiAqIHNob3VsZCBiZSB0YWtlbiBmcm9tIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGluc3RlYWQuXG4gKi9cbkludGVycHJldGVyLlZBTFVFX0lOX0RFU0NSSVBUT1IgPSB7IFZBTFVFX0lOX0RFU0NSSVBUT1I6IHRydWUgfTtcblxuLyoqXG4gKiBVbmlxdWUgc3ltYm9sIGZvciBpbmRpY2F0aW5nIHRoYXQgYSBSZWdFeHAgdGltZW91dCBoYXMgb2NjdXJyZWQgaW4gYSBWTS5cbiAqL1xuSW50ZXJwcmV0ZXIuUkVHRVhQX1RJTUVPVVQgPSB7IFJFR0VYUF9USU1FT1VUOiB0cnVlIH07XG5cbi8qKlxuICogRm9yIGN5Y2xlIGRldGVjdGlvbiBpbiBhcnJheSB0byBzdHJpbmcgYW5kIGVycm9yIGNvbnZlcnNpb247XG4gKiBzZWUgc3BlYyBidWcgZ2l0aHViLmNvbS90YzM5L2VjbWEyNjIvaXNzdWVzLzI4OVxuICogU2luY2UgdGhpcyBpcyBmb3IgYXRvbWljIGFjdGlvbnMgb25seSwgaXQgY2FuIGJlIGEgY2xhc3MgcHJvcGVydHkuXG4gKi9cbkludGVycHJldGVyLnRvU3RyaW5nQ3ljbGVzXyA9IFtdO1xuXG4vKipcbiAqIE5vZGUncyB2bSBtb2R1bGUsIGlmIGxvYWRlZCBhbmQgcmVxdWlyZWQuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5JbnRlcnByZXRlci52bSA9IG51bGw7XG5cbi8qKlxuICogVGhlIGdsb2JhbCBvYmplY3QgKGB3aW5kb3dgIGluIGEgYnJvd3NlciwgYGdsb2JhbGAgaW4gbm9kZS5qcykgaXMgYHRoaXNgLlxuICovXG5JbnRlcnByZXRlci5uYXRpdmVHbG9iYWwgPSB0aGlzO1xuXG4vKipcbiAqIENvZGUgZm9yIGV4ZWN1dGluZyByZWd1bGFyIGV4cHJlc3Npb25zIGluIGEgdGhyZWFkLlxuICovXG5JbnRlcnByZXRlci5XT1JLRVJfQ09ERSA9IFtcbiAgICAnb25tZXNzYWdlID0gZnVuY3Rpb24oZSkgeycsXG4gICAgJ3ZhciByZXN1bHQ7JyxcbiAgICAndmFyIGRhdGEgPSBlLmRhdGE7JyxcbiAgICAnc3dpdGNoIChkYXRhWzBdKSB7JyxcbiAgICBcImNhc2UgJ3NwbGl0JzpcIixcbiAgICAvLyBbJ3NwbGl0Jywgc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0XVxuICAgICdyZXN1bHQgPSBkYXRhWzFdLnNwbGl0KGRhdGFbMl0sIGRhdGFbM10pOycsXG4gICAgJ2JyZWFrOycsXG4gICAgXCJjYXNlICdtYXRjaCc6XCIsXG4gICAgLy8gWydtYXRjaCcsIHN0cmluZywgcmVnZXhwXVxuICAgICdyZXN1bHQgPSBkYXRhWzFdLm1hdGNoKGRhdGFbMl0pOycsXG4gICAgJ2JyZWFrOycsXG4gICAgXCJjYXNlICdzZWFyY2gnOlwiLFxuICAgIC8vIFsnc2VhcmNoJywgc3RyaW5nLCByZWdleHBdXG4gICAgJ3Jlc3VsdCA9IGRhdGFbMV0uc2VhcmNoKGRhdGFbMl0pOycsXG4gICAgJ2JyZWFrOycsXG4gICAgXCJjYXNlICdyZXBsYWNlJzpcIixcbiAgICAvLyBbJ3JlcGxhY2UnLCBzdHJpbmcsIHJlZ2V4cCwgbmV3U3Vic3RyXVxuICAgICdyZXN1bHQgPSBkYXRhWzFdLnJlcGxhY2UoZGF0YVsyXSwgZGF0YVszXSk7JyxcbiAgICAnYnJlYWs7JyxcbiAgICBcImNhc2UgJ2V4ZWMnOlwiLFxuICAgIC8vIFsnZXhlYycsIHJlZ2V4cCwgbGFzdEluZGV4LCBzdHJpbmddXG4gICAgJ3ZhciByZWdleHAgPSBkYXRhWzFdOycsXG4gICAgJ3JlZ2V4cC5sYXN0SW5kZXggPSBkYXRhWzJdOycsXG4gICAgJ3Jlc3VsdCA9IFtyZWdleHAuZXhlYyhkYXRhWzNdKSwgZGF0YVsxXS5sYXN0SW5kZXhdOycsXG4gICAgJ2JyZWFrOycsXG4gICAgJ2RlZmF1bHQ6JyxcbiAgICBcInRocm93IEVycm9yKCdVbmtub3duIFJlZ0V4cCBvcGVyYXRpb246ICcgKyBkYXRhWzBdKTtcIixcbiAgICAnfScsXG4gICAgJ3Bvc3RNZXNzYWdlKHJlc3VsdCk7JyxcbiAgICAnfTsnLFxuXTtcblxuLyoqXG4gKiBJcyBhIHZhbHVlIGEgbGVnYWwgaW50ZWdlciBmb3IgYW4gYXJyYXkgbGVuZ3RoP1xuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0geCBWYWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm4ge251bWJlcn0gWmVybywgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHRoZSB2YWx1ZSBjYW4gYmVcbiAqICAgICBjb252ZXJ0ZWQgdG8gc3VjaC4gIE5hTiBvdGhlcndpc2UuXG4gKi9cbkludGVycHJldGVyLmxlZ2FsQXJyYXlMZW5ndGggPSBmdW5jdGlvbiAoeCkge1xuICAgIHZhciBuID0geCA+Pj4gMDtcbiAgICAvLyBBcnJheSBsZW5ndGggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDJeMzItMSAoaW5jbHVzaXZlKS5cbiAgICByZXR1cm4gbiA9PT0gTnVtYmVyKHgpID8gbiA6IE5hTjtcbn07XG5cbi8qKlxuICogSXMgYSB2YWx1ZSBhIGxlZ2FsIGludGVnZXIgZm9yIGFuIGFycmF5IGluZGV4P1xuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0geCBWYWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm4ge251bWJlcn0gWmVybywgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHRoZSB2YWx1ZSBjYW4gYmVcbiAqICAgICBjb252ZXJ0ZWQgdG8gc3VjaC4gIE5hTiBvdGhlcndpc2UuXG4gKi9cbkludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIG4gPSB4ID4+PiAwO1xuICAgIC8vIEFycmF5IGluZGV4IGNhbm5vdCBiZSAyXjMyLTEsIG90aGVyd2lzZSBsZW5ndGggd291bGQgYmUgMl4zMi5cbiAgICAvLyAweGZmZmZmZmZmIGlzIDJeMzItMS5cbiAgICByZXR1cm4gU3RyaW5nKG4pID09PSBTdHJpbmcoeCkgJiYgbiAhPT0gMHhmZmZmZmZmZiA/IG4gOiBOYU47XG59O1xuXG4vKipcbiAqIFJlbW92ZSBzdGFydCBhbmQgZW5kIHZhbHVlcyBmcm9tIEFTVCwgb3Igc2V0IHN0YXJ0IGFuZCBlbmQgdmFsdWVzIHRvIGFcbiAqIGNvbnN0YW50IHZhbHVlLiAgVXNlZCB0byByZW1vdmUgaGlnaGxpZ2h0aW5nIGZyb20gcG9seWZpbGxzIGFuZCB0byBzZXRcbiAqIGhpZ2hsaWdodGluZyBpbiBhbiBldmFsIHRvIGNvdmVyIHRoZSBlbnRpcmUgZXZhbCBleHByZXNzaW9uLlxuICogQHBhcmFtIHshT2JqZWN0fSBub2RlIEFTVCBub2RlLlxuICogQHBhcmFtIHtudW1iZXI9fSBzdGFydCBTdGFydGluZyBjaGFyYWN0ZXIgb2YgYWxsIG5vZGVzLCBvciB1bmRlZmluZWQuXG4gKiBAcGFyYW0ge251bWJlcj19IGVuZCBFbmRpbmcgY2hhcmFjdGVyIG9mIGFsbCBub2Rlcywgb3IgdW5kZWZpbmVkLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIuc3RyaXBMb2NhdGlvbnNfID0gZnVuY3Rpb24gKG5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgbm9kZVsnc3RhcnQnXSA9IHN0YXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBub2RlWydzdGFydCddO1xuICAgIH1cbiAgICBpZiAoZW5kKSB7XG4gICAgICAgIG5vZGVbJ2VuZCddID0gZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBub2RlWydlbmQnXTtcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IG5vZGVbbmFtZV07XG4gICAgICAgICAgICBpZiAocHJvcCAmJiB0eXBlb2YgcHJvcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBJbnRlcnByZXRlci5zdHJpcExvY2F0aW9uc18ocHJvcCwgc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFNvbWUgcGF0aG9sb2dpY2FsIHJlZ3VsYXIgZXhwcmVzc2lvbnMgY2FuIHRha2UgZ2VvbWV0cmljIHRpbWUuXG4gKiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBoYW5kbGVkIGluIG9uZSBvZiB0aHJlZSB3YXlzOlxuICogMCAtIHRocm93IGFzIGludmFsaWQuXG4gKiAxIC0gZXhlY3V0ZSBuYXRpdmVseSAocmlzayBvZiB1bnJlc3BvbnNpdmUgcHJvZ3JhbSkuXG4gKiAyIC0gZXhlY3V0ZSBpbiBzZXBhcmF0ZSB0aHJlYWQgKG5vdCBzdXBwb3J0ZWQgYnkgSUUgOSkuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZVsnUkVHRVhQX01PREUnXSA9IDI7XG5cbi8qKlxuICogSWYgUkVHRVhQX01PREUgPSAyLCB0aGUgbGVuZ3RoIG9mIHRpbWUgKGluIG1zKSB0byBhbGxvdyBhIFJlZ0V4cFxuICogdGhyZWFkIHRvIGV4ZWN1dGUgYmVmb3JlIHRlcm1pbmF0aW5nIGl0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ1JFR0VYUF9USFJFQURfVElNRU9VVCddID0gMTAwMDtcblxuLyoqXG4gKiBMZW5ndGggb2YgdGltZSAoaW4gbXMpIHRvIGFsbG93IGEgcG9seWZpbGwgdG8gcnVuIGJlZm9yZSBlbmRpbmcgc3RlcC5cbiAqIElmIHNldCB0byAwLCBwb2x5ZmlsbHMgd2lsbCBleGVjdXRlIHN0ZXAgYnkgc3RlcC5cbiAqIElmIHNldCB0byAxMDAwLCBwb2x5ZmlsbHMgd2lsbCBydW4gZm9yIHVwIHRvIGEgc2Vjb25kIHBlciBzdGVwXG4gKiAoZXhlY3V0aW9uIHdpbGwgcmVzdW1lIGluIHRoZSBwb2x5ZmlsbCBpbiB0aGUgbmV4dCBzdGVwKS5cbiAqIElmIHNldCB0byBJbmZpbml0eSwgcG9seWZpbGxzIHdpbGwgcnVuIHRvIGNvbXBsZXRpb24gaW4gYSBzaW5nbGUgc3RlcC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydQT0xZRklMTF9USU1FT1VUJ10gPSAxMDAwO1xuXG4vKipcbiAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IGEgZ2V0dGVyIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGNhbGxlZCBpbW1lZGlhdGVseS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXR0ZXJTdGVwXyA9IGZhbHNlO1xuXG4vKipcbiAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IGEgc2V0dGVyIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIGNhbGxlZCBpbW1lZGlhdGVseS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXR0ZXJTdGVwXyA9IGZhbHNlO1xuXG4vKipcbiAqIEFkZCBtb3JlIGNvZGUgdG8gdGhlIGludGVycHJldGVyLlxuICogQHBhcmFtIHtzdHJpbmd8IU9iamVjdH0gY29kZSBSYXcgSmF2YVNjcmlwdCB0ZXh0IG9yIEFTVC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmFwcGVuZENvZGUgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVTdGFja1swXTtcbiAgICBpZiAoIXN0YXRlIHx8IHN0YXRlLm5vZGVbJ3R5cGUnXSAhPT0gJ1Byb2dyYW0nKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdFeHBlY3Rpbmcgb3JpZ2luYWwgQVNUIHRvIHN0YXJ0IHdpdGggYSBQcm9ncmFtIG5vZGUuJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29kZSA9IGFjb3JuLnBhcnNlKGNvZGUsIEludGVycHJldGVyLlBBUlNFX09QVElPTlMpO1xuICAgIH1cbiAgICBpZiAoIWNvZGUgfHwgY29kZVsndHlwZSddICE9PSAnUHJvZ3JhbScpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0V4cGVjdGluZyBuZXcgQVNUIHRvIHN0YXJ0IHdpdGggYSBQcm9ncmFtIG5vZGUuJyk7XG4gICAgfVxuICAgIHRoaXMucG9wdWxhdGVTY29wZV8oY29kZSwgc3RhdGUuc2NvcGUpO1xuICAgIC8vIEFwcGVuZCB0aGUgbmV3IHByb2dyYW0gdG8gdGhlIG9sZCBvbmUuXG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoc3RhdGUubm9kZVsnYm9keSddLCBjb2RlWydib2R5J10pO1xuICAgIHN0YXRlLmRvbmUgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRXhlY3V0ZSBvbmUgc3RlcCBvZiB0aGUgaW50ZXJwcmV0ZXIuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGEgc3RlcCB3YXMgZXhlY3V0ZWQsIGZhbHNlIGlmIG5vIG1vcmUgaW5zdHJ1Y3Rpb25zLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhY2sgPSB0aGlzLnN0YXRlU3RhY2s7XG4gICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgZG8ge1xuICAgICAgICB2YXIgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gc3RhdGUubm9kZSxcbiAgICAgICAgICAgIHR5cGUgPSBub2RlWyd0eXBlJ107XG4gICAgICAgIGlmICh0eXBlID09PSAnUHJvZ3JhbScgJiYgc3RhdGUuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUZ1bmNfKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXVzZWRfKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuc3RlcEZ1bmN0aW9uc19bdHlwZV0oc3RhY2ssIHN0YXRlLCBub2RlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gRWF0IGFueSBzdGVwIGVycm9ycy4gIFRoZXkgaGF2ZSBiZWVuIHRocm93biBvbiB0aGUgc3RhY2suXG4gICAgICAgICAgICBpZiAoZSAhPT0gSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUikge1xuICAgICAgICAgICAgICAgIC8vIFVoIG9oLiAgVGhpcyBpcyBhIHJlYWwgZXJyb3IgaW4gdGhlIEpTLUludGVycHJldGVyLiAgUmV0aHJvdy5cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobmV4dFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgICAgICAgLy8gR2V0dGVyIGZyb20gdGhpcyBzdGVwIHdhcyBub3QgaGFuZGxlZC5cbiAgICAgICAgICAgIHRocm93IEVycm9yKCdHZXR0ZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGNvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXR0ZXJTdGVwXykge1xuICAgICAgICAgICAgLy8gU2V0dGVyIGZyb20gdGhpcyBzdGVwIHdhcyBub3QgaGFuZGxlZC5cbiAgICAgICAgICAgIHRocm93IEVycm9yKCdTZXR0ZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGNvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIG1heSBiZSBwb2x5ZmlsbCBjb2RlLiAgS2VlcCBleGVjdXRpbmcgdW50aWwgd2UgYXJyaXZlIGF0IHVzZXIgY29kZS5cbiAgICB9IHdoaWxlICghbm9kZVsnZW5kJ10pO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBFeGVjdXRlIHRoZSBpbnRlcnByZXRlciB0byBwcm9ncmFtIGNvbXBsZXRpb24uICBWdWxuZXJhYmxlIHRvIGluZmluaXRlIGxvb3BzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhIGV4ZWN1dGlvbiBpcyBhc3luY2hyb25vdXNseSBibG9ja2VkLFxuICogICAgIGZhbHNlIGlmIG5vIG1vcmUgaW5zdHJ1Y3Rpb25zLlxuICovXG5cbkludGVycHJldGVyLnByb3RvdHlwZS5oYWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGFsdGVkXyA9IHRydWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICghdGhpcy5wYXVzZWRfICYmIHRoaXMuc3RlcCgpKSB7fVxuICAgIHJldHVybiB0aGlzLnBhdXNlZF87XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGUucnVuQWxsID0gZnVuY3Rpb24gKG9uRXJyb3IsIG9uQ29tcGxldGUpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB0aGlzSW50ZXJwcmV0ZXIuZXJyb3JGdW5jXyA9IChlKSA9PiB7XG4gICAgICAgIGlmKCF0aGlzSW50ZXJwcmV0ZXIuaGFzRXJyb3JGdW5jUnVuXyl7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuaGFzRXJyb3JGdW5jUnVuXyA9IHRydWU7XG4gICAgICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzSW50ZXJwcmV0ZXIuY29tcGxldGVGdW5jXyA9ICgpID0+IHtcbiAgICAgICAgaWYoIXRoaXNJbnRlcnByZXRlci5oYXNDb21wbGV0ZUZ1bmNSdW5fKXtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5oYXNDb21wbGV0ZUZ1bmNSdW5fID0gdHJ1ZTtcbiAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpc0ludGVycHJldGVyLnVucGF1c2VGdW5jXyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIucnVuKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5lcnJvckZ1bmNfKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5ydW4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5lcnJvckZ1bmNfKGUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUXVldWUgYSBwc2V1ZG8gZnVuY3Rpb24gZm9yIGV4ZWN1dGlvbiBvbiBuZXh0IHN0ZXBcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuT2JqZWN0fSBmdW5jIEludGVycHJldGVkIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gZnVuY1RoaXMgSW50ZXJwcmV0ZWQgT2JqZWN0IHRvIHVzZSBhcyBcInRoaXNcIlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5PYmplY3R9IHZhcl9hcmdzIEludGVycHJldGVkIE9iamVjdHMgdG8gcGFzcyBhcyBhcmd1bWVudHNcbiAqIEByZXR1cm4ge0ludGVycHJldGVyLkNhbGxiYWNrfSBPYmplY3QgZm9yIHJ1bm5pbmcgcHNldWRvIGZ1bmN0aW9uIGNhbGxiYWNrXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jYWxsRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYywgZnVuY1RoaXMsIHZhcl9hcmdzKSB7XG4gICAgdmFyIGV4cE5vZGUgPSB0aGlzLmJ1aWxkRnVuY3Rpb25DYWxsZXJfLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5DYWxsYmFjayhleHBOb2RlKTtcbn07XG5cbi8qKlxuICogUXVldWUgYSBwc2V1ZG8gZnVuY3Rpb24gZm9yIGV4ZWN1dGlvbiBhZnRlciBhbGwgY3VycmVudCBpbnN0cnVjdGlvbnMgY29tcGxldGVcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuT2JqZWN0fSBmdW5jIEludGVycHJldGVkIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gZnVuY1RoaXMgSW50ZXJwcmV0ZWQgT2JqZWN0IHRvIHVzZSBhcyBcInRoaXNcIlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5PYmplY3R9IHZhcl9hcmdzIEludGVycHJldGVkIE9iamVjdHMgdG8gcGFzcyBhcyBhcmd1bWVudHNcbiAqIEByZXR1cm4ge0ludGVycHJldGVyLkNhbGxiYWNrfSBPYmplY3QgZm9yIHJ1bm5pbmcgcHNldWRvIGZ1bmN0aW9uIGNhbGxiYWNrXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5xdWV1ZUZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMsIGZ1bmNUaGlzLCB2YXJfYXJncykge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVTdGFja1swXTtcbiAgICB2YXIgZXhwTm9kZSA9IHRoaXMuYnVpbGRGdW5jdGlvbkNhbGxlcl8uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAvLyBBZGQgZnVuY3Rpb24gY2FsbCB0byByb290IFByb2dyYW0gc3RhdGVcbiAgICBzdGF0ZS5ub2RlWydib2R5J10ucHVzaChleHBOb2RlKTtcbiAgICBzdGF0ZS5kb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5DYWxsYmFjayhleHBOb2RlLCB0cnVlKTsgLy8gQWxsb3dzIGFkZGluZyB0aGVuL2NhdGNoXG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIHN0YXRlIG9iamVjdHMgZm9yIHJ1bm5pbmcgcHNldWRvIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gZnVuYyBJbnRlcnByZXRlZCBmdW5jdGlvblxuICogQHBhcmFtIHtJbnRlcnByZXRlci5PYmplY3R9IGZ1bmNUaGlzIEludGVycHJldGVkIE9iamVjdCB0byB1c2UgYXMgXCJ0aGlzXCJcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuT2JqZWN0fSB2YXJfYXJncyBJbnRlcnByZXRlZCBPYmplY3RzIHRvIHBhc3MgYXMgYXJndW1lbnRzXG4gKiBAcmV0dXJuIHtub2RlQ29uc3RydWN0b3J9IG5vZGUgZm9yIHJ1bm5pbmcgcHNldWRvIGZ1bmN0aW9uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uQ2FsbGVyXyA9IGZ1bmN0aW9uIChmdW5jLCBmdW5jVGhpcywgdmFyX2FyZ3MpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIGFyZyBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCA/IGFyZyA6IHRoaXNJbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbyhhcmcpO1xuICAgIH0pO1xuICAgIC8vIENyZWF0ZSBub2RlIGZvciBDYWxsRXhwcmVzc2lvbiB3aXRoIHByZS1lbWJlZGRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzXG4gICAgdmFyIHNjb3BlID0gdGhpcy5zdGF0ZVN0YWNrW3RoaXMuc3RhdGVTdGFjay5sZW5ndGggLSAxXS5zY29wZTsgLy8gVGhpcyBtYXkgYmUgd3JvbmdcbiAgICB2YXIgY2VOb2RlID0gbmV3IHRoaXMubm9kZUNvbnN0cnVjdG9yKHsgb3B0aW9uczoge30gfSk7XG4gICAgY2VOb2RlWyd0eXBlJ10gPSAnQ2FsbEV4cHJlc3Npb25GdW5jXyc7XG4gICAgLy8gQXR0YWNoIHN0YXRlIHNldHRpbmdzIHRvIG5vZGUsIHNvIHdlIGNhbiByZXRyaWV2ZSB0aGVtIGxhdGVyLlxuICAgIC8vIChDYW4gb25seSBhZGQgYSBub2RlIHRvIHJvb3QgcHJvZ3JhbSBib2R5LilcbiAgICBjZU5vZGUuZnVuY1RoaXNfID0gZnVuY1RoaXM7XG4gICAgY2VOb2RlLmZ1bmNfID0gZnVuYztcbiAgICBjZU5vZGUuYXJndW1lbnRzXyA9IGFyZ3M7XG4gICAgY2VOb2RlLnNjb3BlXyA9IHNjb3BlO1xuICAgIHJldHVybiBjZU5vZGU7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBvYmplY3Qgd2l0aCBidWl0aW4gcHJvcGVydGllcyBhbmQgZnVuY3Rpb25zLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRHbG9iYWwgPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0KSB7XG4gICAgLy8gSW5pdGlhbGl6ZSB1bmVkaXRhYmxlIGdsb2JhbCBwcm9wZXJ0aWVzLlxuICAgIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTmFOJywgTmFOLCBJbnRlcnByZXRlci5SRUFET05MWV9ERVNDUklQVE9SKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0luZmluaXR5JywgSW5maW5pdHksIEludGVycHJldGVyLlJFQURPTkxZX0RFU0NSSVBUT1IpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAndW5kZWZpbmVkJywgdW5kZWZpbmVkLCBJbnRlcnByZXRlci5SRUFET05MWV9ERVNDUklQVE9SKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3dpbmRvdycsIGdsb2JhbE9iamVjdCwgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfREVTQ1JJUFRPUik7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICd0aGlzJywgZ2xvYmFsT2JqZWN0LCBJbnRlcnByZXRlci5SRUFET05MWV9ERVNDUklQVE9SKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3NlbGYnLCBnbG9iYWxPYmplY3QpOyAvLyBFZGl0YWJsZS5cblxuICAgIC8vIENyZWF0ZSB0aGUgb2JqZWN0cyB3aGljaCB3aWxsIGJlY29tZSBPYmplY3QucHJvdG90eXBlIGFuZFxuICAgIC8vIEZ1bmN0aW9uLnByb3RvdHlwZSwgd2hpY2ggYXJlIG5lZWRlZCB0byBib290c3RyYXAgZXZlcnl0aGluZyBlbHNlLlxuICAgIHRoaXMuT0JKRUNUX1BST1RPID0gbmV3IEludGVycHJldGVyLk9iamVjdChudWxsKTtcbiAgICB0aGlzLkZVTkNUSU9OX1BST1RPID0gbmV3IEludGVycHJldGVyLk9iamVjdCh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gICAgLy8gSW5pdGlhbGl6ZSBnbG9iYWwgb2JqZWN0cy5cbiAgICB0aGlzLmluaXRGdW5jdGlvbihnbG9iYWxPYmplY3QpO1xuICAgIHRoaXMuaW5pdE9iamVjdChnbG9iYWxPYmplY3QpO1xuICAgIC8vIFVuYWJsZSB0byBzZXQgZ2xvYmFsT2JqZWN0J3MgcGFyZW50IHByaW9yIChPQkpFQ1QgZGlkIG5vdCBleGlzdCkuXG4gICAgLy8gTm90ZSB0aGF0IGluIGEgYnJvd3NlciB0aGlzIHdvdWxkIGJlIGBXaW5kb3dgLCB3aGVyZWFzIGluIE5vZGUuanMgaXQgd291bGRcbiAgICAvLyBiZSBgT2JqZWN0YC4gIFRoaXMgaW50ZXJwcmV0ZXIgaXMgY2xvc2VyIHRvIE5vZGUgaW4gdGhhdCBpdCBoYXMgbm8gRE9NLlxuICAgIGdsb2JhbE9iamVjdC5wcm90byA9IHRoaXMuT0JKRUNUX1BST1RPO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIGdsb2JhbE9iamVjdCxcbiAgICAgICAgJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgdGhpcy5PQkpFQ1QsXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUlxuICAgICk7XG4gICAgdGhpcy5pbml0QXJyYXkoZ2xvYmFsT2JqZWN0KTtcbiAgICB0aGlzLmluaXRTdHJpbmcoZ2xvYmFsT2JqZWN0KTtcbiAgICB0aGlzLmluaXRCb29sZWFuKGdsb2JhbE9iamVjdCk7XG4gICAgdGhpcy5pbml0TnVtYmVyKGdsb2JhbE9iamVjdCk7XG4gICAgdGhpcy5pbml0RGF0ZShnbG9iYWxPYmplY3QpO1xuICAgIHRoaXMuaW5pdFJlZ0V4cChnbG9iYWxPYmplY3QpO1xuICAgIHRoaXMuaW5pdEVycm9yKGdsb2JhbE9iamVjdCk7XG4gICAgdGhpcy5pbml0TWF0aChnbG9iYWxPYmplY3QpO1xuICAgIHRoaXMuaW5pdEpTT04oZ2xvYmFsT2JqZWN0KTtcblxuICAgIC8vIEluaXRpYWxpemUgZ2xvYmFsIGZ1bmN0aW9ucy5cbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgZnVuYyA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhyb3cgRXZhbEVycm9yKFwiQ2FuJ3QgaGFwcGVuXCIpO1xuICAgIH0sIGZhbHNlKTtcbiAgICBmdW5jLmV2YWwgPSB0cnVlO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnZXZhbCcsIGZ1bmMpO1xuXG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdwYXJzZUludCcsIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24ocGFyc2VJbnQsIGZhbHNlKSk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdwYXJzZUZsb2F0JywgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihwYXJzZUZsb2F0LCBmYWxzZSkpO1xuXG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdpc05hTicsIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24oaXNOYU4sIGZhbHNlKSk7XG5cbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ2lzRmluaXRlJywgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihpc0Zpbml0ZSwgZmFsc2UpKTtcblxuICAgIHZhciBzdHJGdW5jdGlvbnMgPSBbXG4gICAgICAgIFtlc2NhcGUsICdlc2NhcGUnXSxcbiAgICAgICAgW3VuZXNjYXBlLCAndW5lc2NhcGUnXSxcbiAgICAgICAgW2RlY29kZVVSSSwgJ2RlY29kZVVSSSddLFxuICAgICAgICBbZGVjb2RlVVJJQ29tcG9uZW50LCAnZGVjb2RlVVJJQ29tcG9uZW50J10sXG4gICAgICAgIFtlbmNvZGVVUkksICdlbmNvZGVVUkknXSxcbiAgICAgICAgW2VuY29kZVVSSUNvbXBvbmVudCwgJ2VuY29kZVVSSUNvbXBvbmVudCddLFxuICAgIF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJGdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSAoZnVuY3Rpb24gKG5hdGl2ZUZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUZ1bmMoc3RyKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlY29kZVVSSSgnJXh5Jykgd2lsbCB0aHJvdyBhbiBlcnJvci4gIENhdGNoIGFuZCByZXRocm93LlxuICAgICAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlVSSV9FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShzdHJGdW5jdGlvbnNbaV1bMF0pO1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LFxuICAgICAgICAgICAgc3RyRnVuY3Rpb25zW2ldWzFdLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgICAgICk7XG4gICAgfVxuICAgIC8vIFByZXNlcnZlIHB1YmxpY2x5IHByb3BlcnRpZXMgZnJvbSBiZWluZyBwcnVuZWQvcmVuYW1lZCBieSBKUyBjb21waWxlcnMuXG4gICAgLy8gQWRkIG90aGVycyBhcyBuZWVkZWQuXG4gICAgdGhpc1snT0JKRUNUJ10gPSB0aGlzLk9CSkVDVDtcbiAgICB0aGlzWydPQkpFQ1RfUFJPVE8nXSA9IHRoaXMuT0JKRUNUX1BST1RPO1xuICAgIHRoaXNbJ0ZVTkNUSU9OJ10gPSB0aGlzLkZVTkNUSU9OO1xuICAgIHRoaXNbJ0ZVTkNUSU9OX1BST1RPJ10gPSB0aGlzLkZVTkNUSU9OX1BST1RPO1xuICAgIHRoaXNbJ0FSUkFZJ10gPSB0aGlzLkFSUkFZO1xuICAgIHRoaXNbJ0FSUkFZX1BST1RPJ10gPSB0aGlzLkFSUkFZX1BST1RPO1xuICAgIHRoaXNbJ1JFR0VYUCddID0gdGhpcy5SRUdFWFA7XG4gICAgdGhpc1snUkVHRVhQX1BST1RPJ10gPSB0aGlzLlJFR0VYUF9QUk9UTztcbiAgICB0aGlzWydEQVRFJ10gPSB0aGlzLkRBVEU7XG4gICAgdGhpc1snREFURV9QUk9UTyddID0gdGhpcy5EQVRFX1BST1RPO1xuXG4gICAgLy8gUnVuIGFueSB1c2VyLXByb3ZpZGVkIGluaXRpYWxpemF0aW9uLlxuICAgIGlmICh0aGlzLmluaXRGdW5jXykge1xuICAgICAgICB0aGlzLmluaXRGdW5jXyh0aGlzLCBnbG9iYWxPYmplY3QpO1xuICAgIH1cbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgRnVuY3Rpb24gY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdEZ1bmN0aW9uID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCkge1xuICAgIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyO1xuICAgIHZhciBpZGVudGlmaWVyUmVnZXhwID0gL15bQS1aYS16XyRdW1xcdyRdKiQvO1xuICAgIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yLlxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBGdW5jdGlvbih2YXJfYXJncykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBTdHJpbmcoYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzU3RyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCAtMSkuam9pbignLCcpLnRyaW0oKTtcbiAgICAgICAgaWYgKGFyZ3NTdHIpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJnc1N0ci5zcGxpdCgvXFxzKixcXHMqLyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGFyZ3NbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFpZGVudGlmaWVyUmVnZXhwLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlNZTlRBWF9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50OiAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzU3RyID0gYXJncy5qb2luKCcsICcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFjb3JuIG5lZWRzIHRvIHBhcnNlIGNvZGUgaW4gdGhlIGNvbnRleHQgb2YgYSBmdW5jdGlvbiBvciBlbHNlIGByZXR1cm5gXG4gICAgICAgIC8vIHN0YXRlbWVudHMgd2lsbCBiZSBzeW50YXggZXJyb3JzLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFzdCA9IGFjb3JuLnBhcnNlKFxuICAgICAgICAgICAgICAgICcoZnVuY3Rpb24oJyArIGFyZ3NTdHIgKyAnKSB7JyArIGNvZGUgKyAnfSknLFxuICAgICAgICAgICAgICAgIEludGVycHJldGVyLlBBUlNFX09QVElPTlMsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBY29ybiB0aHJldyBhIFN5bnRheEVycm9yLiAgUmV0aHJvdyBhcyBhIHRyYXBwYWJsZSBlcnJvci5cbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuU1lOVEFYX0VSUk9SLFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGNvZGU6ICcgKyBlLm1lc3NhZ2UsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhc3RbJ2JvZHknXS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uKCdhJywgJ3JldHVybiBhICsgNjt9OyB7YWxlcnQoMSk7Jyk7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlNZTlRBWF9FUlJPUixcbiAgICAgICAgICAgICAgICAnSW52YWxpZCBjb2RlIGluIGZ1bmN0aW9uIGJvZHkuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBhc3RbJ2JvZHknXVswXVsnZXhwcmVzc2lvbiddO1xuICAgICAgICAvLyBOb3RlIHRoYXQgaWYgdGhpcyBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgYXMgYG5ldyBGdW5jdGlvbigpYCB0aGUgZnVuY3Rpb25cbiAgICAgICAgLy8gb2JqZWN0IGNyZWF0ZWQgYnkgc3RlcENhbGxFeHByZXNzaW9uIGFuZCBhc3NpZ25lZCB0byBgdGhpc2AgaXMgZGlzY2FyZGVkLlxuICAgICAgICAvLyBJbnRlcmVzdGluZ2x5LCB0aGUgc2NvcGUgZm9yIGNvbnN0cnVjdGVkIGZ1bmN0aW9ucyBpcyB0aGUgZ2xvYmFsIHNjb3BlLFxuICAgICAgICAvLyBldmVuIGlmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBpbiBzb21lIG90aGVyIHNjb3BlLlxuICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmNyZWF0ZUZ1bmN0aW9uKG5vZGUsIHRoaXNJbnRlcnByZXRlci5nbG9iYWxTY29wZSwgJ2Fub255bW91cycpO1xuICAgIH07XG4gICAgdGhpcy5GVU5DVElPTiA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG5cbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0Z1bmN0aW9uJywgdGhpcy5GVU5DVElPTiwgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgICAvLyBUaHJvdyBhd2F5IHRoZSBjcmVhdGVkIHByb3RvdHlwZSBhbmQgdXNlIHRoZSByb290IHByb3RvdHlwZS5cbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLkZVTkNUSU9OLFxuICAgICAgICAncHJvdG90eXBlJyxcbiAgICAgICAgdGhpcy5GVU5DVElPTl9QUk9UTyxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG5cbiAgICAvLyBDb25maWd1cmUgRnVuY3Rpb24ucHJvdG90eXBlLlxuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuRlVOQ1RJT05fUFJPVE8sXG4gICAgICAgICdjb25zdHJ1Y3RvcicsXG4gICAgICAgIHRoaXMuRlVOQ1RJT04sXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuICAgIHRoaXMuRlVOQ1RJT05fUFJPVE8ubmF0aXZlRnVuYyA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIHRoaXMuRlVOQ1RJT05fUFJPVE8ubmF0aXZlRnVuYy5pZCA9IHRoaXMuZnVuY3Rpb25Db3VudGVyXysrO1xuICAgIHRoaXMuRlVOQ1RJT05fUFJPVE8uaWxsZWdhbENvbnN0cnVjdG9yID0gdHJ1ZTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLkZVTkNUSU9OX1BST1RPLFxuICAgICAgICAnbGVuZ3RoJyxcbiAgICAgICAgMCxcbiAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG4gICAgdGhpcy5GVU5DVElPTl9QUk9UTy5jbGFzcyA9ICdGdW5jdGlvbic7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gYXBwbHkodGhpc0FyZywgYXJncykge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzSW50ZXJwcmV0ZXIuc3RhdGVTdGFja1t0aGlzSW50ZXJwcmV0ZXIuc3RhdGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgLy8gUmV3cml0ZSB0aGUgY3VycmVudCBDYWxsRXhwcmVzc2lvbiBzdGF0ZSB0byBhcHBseSBhIGRpZmZlcmVudCBmdW5jdGlvbi5cbiAgICAgICAgc3RhdGUuZnVuY18gPSB0aGlzO1xuICAgICAgICAvLyBBc3NpZ24gdGhlIGB0aGlzYCBvYmplY3QuXG4gICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXNBcmc7XG4gICAgICAgIC8vIEJpbmQgYW55IHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgICAgc3RhdGUuYXJndW1lbnRzXyA9IFtdO1xuICAgICAgICBpZiAoYXJncyAhPT0gbnVsbCAmJiBhcmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXJndW1lbnRzXyA9IHRoaXNJbnRlcnByZXRlci5hcnJheVBzZXVkb1RvTmF0aXZlKGFyZ3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAnQ3JlYXRlTGlzdEZyb21BcnJheUxpa2UgY2FsbGVkIG9uIG5vbi1vYmplY3QnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZG9uZUV4ZWNfID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuRlVOQ1RJT04sICdhcHBseScsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIGNhbGwodGhpc0FyZyAvKiwgdmFyX2FyZ3MgKi8pIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpc0ludGVycHJldGVyLnN0YXRlU3RhY2tbdGhpc0ludGVycHJldGVyLnN0YXRlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIFJld3JpdGUgdGhlIGN1cnJlbnQgQ2FsbEV4cHJlc3Npb24gc3RhdGUgdG8gY2FsbCBhIGRpZmZlcmVudCBmdW5jdGlvbi5cbiAgICAgICAgc3RhdGUuZnVuY18gPSB0aGlzO1xuICAgICAgICAvLyBBc3NpZ24gdGhlIGB0aGlzYCBvYmplY3QuXG4gICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXNBcmc7XG4gICAgICAgIC8vIEJpbmQgYW55IHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgICAgc3RhdGUuYXJndW1lbnRzXyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhdGUuYXJndW1lbnRzXy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZG9uZUV4ZWNfID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuRlVOQ1RJT04sICdjYWxsJywgd3JhcHBlcik7XG5cbiAgICB0aGlzLnBvbHlmaWxsc18ucHVzaChcbiAgICAgICAgLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4gICAgICAgIC8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfb2JqZWN0cy9GdW5jdGlvbi9iaW5kXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ2JpbmQnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiBiaW5kKG9UaGlzKSB7JyxcbiAgICAgICAgXCJpZiAodHlwZW9mIHRoaXMgIT09ICdmdW5jdGlvbicpIHtcIixcbiAgICAgICAgXCJ0aHJvdyBUeXBlRXJyb3IoJ1doYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZScpO1wiLFxuICAgICAgICAnfScsXG4gICAgICAgICd2YXIgYUFyZ3MgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksJyxcbiAgICAgICAgJ2ZUb0JpbmQgPSB0aGlzLCcsXG4gICAgICAgICdmTk9QICAgID0gZnVuY3Rpb24oKSB7fSwnLFxuICAgICAgICAnZkJvdW5kICA9IGZ1bmN0aW9uKCkgeycsXG4gICAgICAgICdyZXR1cm4gZlRvQmluZC5hcHBseSh0aGlzIGluc3RhbmNlb2YgZk5PUCcsXG4gICAgICAgICc/IHRoaXMnLFxuICAgICAgICAnOiBvVGhpcywnLFxuICAgICAgICAnYUFyZ3MuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTsnLFxuICAgICAgICAnfTsnLFxuICAgICAgICAnaWYgKHRoaXMucHJvdG90eXBlKSB7JyxcbiAgICAgICAgJ2ZOT1AucHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnZkJvdW5kLnByb3RvdHlwZSA9IG5ldyBmTk9QKCk7JyxcbiAgICAgICAgJ3JldHVybiBmQm91bmQ7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSk7JyxcbiAgICAgICAgJycsXG4gICAgKTtcblxuICAgIC8vIEZ1bmN0aW9uIGhhcyBubyBwYXJlbnQgdG8gaW5oZXJpdCBmcm9tLCBzbyBpdCBuZWVkcyBpdHMgb3duIG1hbmRhdG9yeVxuICAgIC8vIHRvU3RyaW5nIGFuZCB2YWx1ZU9mIGZ1bmN0aW9ucy5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcyk7XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuRlVOQ1RJT04sICd0b1N0cmluZycsIHdyYXBwZXIpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuRlVOQ1RJT04sXG4gICAgICAgICd0b1N0cmluZycsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xuICAgIH07XG4gICAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLkZVTkNUSU9OLCAndmFsdWVPZicsIHdyYXBwZXIpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuRlVOQ1RJT04sXG4gICAgICAgICd2YWx1ZU9mJyxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBPYmplY3QgY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdE9iamVjdCA9IGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgd3JhcHBlcjtcbiAgICAvLyBPYmplY3QgY29uc3RydWN0b3IuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIE9iamVjdCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IG9iamVjdC5cbiAgICAgICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgT2JqZWN0KClgLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsZWQgYXMgYE9iamVjdCgpYC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKHRoaXNJbnRlcnByZXRlci5PQkpFQ1RfUFJPVE8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICAgICAgLy8gV3JhcCB0aGUgdmFsdWUgYXMgYW4gb2JqZWN0LlxuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3RQcm90byh0aGlzSW50ZXJwcmV0ZXIuZ2V0UHJvdG90eXBlKHZhbHVlKSk7XG4gICAgICAgICAgICBib3guZGF0YSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIHByb3ZpZGVkIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgdGhpcy5PQkpFQ1QgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICAgIC8vIFRocm93IGF3YXkgdGhlIGNyZWF0ZWQgcHJvdG90eXBlIGFuZCB1c2UgdGhlIHJvb3QgcHJvdG90eXBlLlxuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuT0JKRUNULFxuICAgICAgICAncHJvdG90eXBlJyxcbiAgICAgICAgdGhpcy5PQkpFQ1RfUFJPVE8sXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuT0JKRUNUX1BST1RPLFxuICAgICAgICAnY29uc3RydWN0b3InLFxuICAgICAgICB0aGlzLk9CSkVDVCxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdPYmplY3QnLCB0aGlzLk9CSkVDVCwgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWQuXG4gICAgICogSWYgc28sIHRoZW4gdGhyb3cgYW4gZXJyb3IgaW4gdGhlIGNhbGwgc3RhY2suXG4gICAgICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgdG8gY2hlY2suXG4gICAgICovXG4gICAgdmFyIHRocm93SWZOdWxsVW5kZWZpbmVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgXCJDYW5ub3QgY29udmVydCAnXCIgKyB2YWx1ZSArIFwiJyB0byBvYmplY3RcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3RhdGljIG1ldGhvZHMgb24gT2JqZWN0LlxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikge1xuICAgICAgICB0aHJvd0lmTnVsbFVuZGVmaW5lZChvYmopO1xuICAgICAgICB2YXIgcHJvcHMgPSBvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QgPyBvYmoucHJvcGVydGllcyA6IG9iajtcbiAgICAgICAgcmV0dXJuIHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSk7XG4gICAgfTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLk9CSkVDVCxcbiAgICAgICAgJ2dldE93blByb3BlcnR5TmFtZXMnLFxuICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24ga2V5cyhvYmopIHtcbiAgICAgICAgdGhyb3dJZk51bGxVbmRlZmluZWQob2JqKTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkge1xuICAgICAgICAgICAgb2JqID0gb2JqLnByb3BlcnRpZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKE9iamVjdC5rZXlzKG9iaikpO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgdGhpcy5PQkpFQ1QsXG4gICAgICAgICdrZXlzJyxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIGNyZWF0ZV8ocHJvdG8pIHtcbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgdGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgYSBwb2x5ZmlsbC5cbiAgICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHByb3RvIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICAgICdPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3RQcm90byhwcm90byk7XG4gICAgfTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLk9CSkVDVCxcbiAgICAgICAgJ2NyZWF0ZScsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcblxuICAgIC8vIEFkZCBhIHBvbHlmaWxsIHRvIGhhbmRsZSBjcmVhdGUncyBzZWNvbmQgYXJndW1lbnQuXG4gICAgdGhpcy5wb2x5ZmlsbHNfLnB1c2goXG4gICAgICAgICcoZnVuY3Rpb24oKSB7JyxcbiAgICAgICAgJ3ZhciBjcmVhdGVfID0gT2JqZWN0LmNyZWF0ZTsnLFxuICAgICAgICAnT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm90bywgcHJvcHMpIHsnLFxuICAgICAgICAndmFyIG9iaiA9IGNyZWF0ZV8ocHJvdG8pOycsXG4gICAgICAgICdwcm9wcyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHByb3BzKTsnLFxuICAgICAgICAncmV0dXJuIG9iajsnLFxuICAgICAgICAnfTsnLFxuICAgICAgICAnfSkoKTsnLFxuICAgICAgICAnJyxcbiAgICApO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgICAgICBwcm9wID0gU3RyaW5nKHByb3ApO1xuICAgICAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgJ09iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdCcsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGRlc2NyaXB0b3IgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgJ1Byb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0JyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvYmoucHJvcGVydGllc1twcm9wXSAmJiBvYmoucHJldmVudEV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuVFlQRV9FUlJPUixcbiAgICAgICAgICAgICAgICBcIkNhbid0IGRlZmluZSBwcm9wZXJ0eSAnXCIgKyBwcm9wICsgXCInLCBvYmplY3QgaXMgbm90IGV4dGVuc2libGVcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHBvbHlmaWxsIGd1YXJhbnRlZXMgbm8gaW5oZXJpdGFuY2UgYW5kIG5vIGdldHRlciBmdW5jdGlvbnMuXG4gICAgICAgIC8vIFRoZXJlZm9yZSB0aGUgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIG1hcCBpcyB0aGUgbmF0aXZlIG9iamVjdCBuZWVkZWQuXG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgIG9iaixcbiAgICAgICAgICAgIHByb3AsXG4gICAgICAgICAgICBJbnRlcnByZXRlci5WQUxVRV9JTl9ERVNDUklQVE9SLFxuICAgICAgICAgICAgZGVzY3JpcHRvci5wcm9wZXJ0aWVzLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgdGhpcy5PQkpFQ1QsXG4gICAgICAgICdkZWZpbmVQcm9wZXJ0eScsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcblxuICAgIHRoaXMucG9seWZpbGxzXy5wdXNoKFxuICAgICAgICAvLyBGbGF0dGVuIHRoZSBkZXNjcmlwdG9yIHRvIHJlbW92ZSBhbnkgaW5oZXJpdGFuY2Ugb3IgZ2V0dGVyIGZ1bmN0aW9ucy5cbiAgICAgICAgJyhmdW5jdGlvbigpIHsnLFxuICAgICAgICAndmFyIGRlZmluZVByb3BlcnR5XyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsnLFxuICAgICAgICAnT2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkMSkgeycsXG4gICAgICAgICd2YXIgZDIgPSB7fTsnLFxuICAgICAgICBcImlmICgnY29uZmlndXJhYmxlJyBpbiBkMSkgZDIuY29uZmlndXJhYmxlID0gZDEuY29uZmlndXJhYmxlO1wiLFxuICAgICAgICBcImlmICgnZW51bWVyYWJsZScgaW4gZDEpIGQyLmVudW1lcmFibGUgPSBkMS5lbnVtZXJhYmxlO1wiLFxuICAgICAgICBcImlmICgnd3JpdGFibGUnIGluIGQxKSBkMi53cml0YWJsZSA9IGQxLndyaXRhYmxlO1wiLFxuICAgICAgICBcImlmICgndmFsdWUnIGluIGQxKSBkMi52YWx1ZSA9IGQxLnZhbHVlO1wiLFxuICAgICAgICBcImlmICgnZ2V0JyBpbiBkMSkgZDIuZ2V0ID0gZDEuZ2V0O1wiLFxuICAgICAgICBcImlmICgnc2V0JyBpbiBkMSkgZDIuc2V0ID0gZDEuc2V0O1wiLFxuICAgICAgICAncmV0dXJuIGRlZmluZVByb3BlcnR5XyhvYmosIHByb3AsIGQyKTsnLFxuICAgICAgICAnfTsnLFxuICAgICAgICAnfSkoKTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwgJ2RlZmluZVByb3BlcnRpZXMnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcHJvcHMpIHsnLFxuICAgICAgICAndmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7JyxcbiAgICAgICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeycsXG4gICAgICAgICdPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXlzW2ldLCBwcm9wc1trZXlzW2ldXSk7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIG9iajsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuICAgICAgICAnJyxcbiAgICApO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHtcbiAgICAgICAgaWYgKCEob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICAgICdPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBub24tb2JqZWN0JyxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcCA9IFN0cmluZyhwcm9wKTtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBvYmoucHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iai5wcm9wZXJ0aWVzLCBwcm9wKTtcbiAgICAgICAgdmFyIGdldHRlciA9IG9iai5nZXR0ZXJbcHJvcF07XG4gICAgICAgIHZhciBzZXR0ZXIgPSBvYmouc2V0dGVyW3Byb3BdO1xuXG4gICAgICAgIHZhciBwc2V1ZG9EZXNjcmlwdG9yID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdFByb3RvKHRoaXNJbnRlcnByZXRlci5PQkpFQ1RfUFJPVE8pO1xuICAgICAgICBpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHBzZXVkb0Rlc2NyaXB0b3IsICdnZXQnLCBnZXR0ZXIpO1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHBzZXVkb0Rlc2NyaXB0b3IsICdzZXQnLCBzZXR0ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHBzZXVkb0Rlc2NyaXB0b3IsICd2YWx1ZScsIGRlc2NyaXB0b3IudmFsdWUpO1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHBzZXVkb0Rlc2NyaXB0b3IsICd3cml0YWJsZScsIGRlc2NyaXB0b3Iud3JpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShwc2V1ZG9EZXNjcmlwdG9yLCAnY29uZmlndXJhYmxlJywgZGVzY3JpcHRvci5jb25maWd1cmFibGUpO1xuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkocHNldWRvRGVzY3JpcHRvciwgJ2VudW1lcmFibGUnLCBkZXNjcmlwdG9yLmVudW1lcmFibGUpO1xuICAgICAgICByZXR1cm4gcHNldWRvRGVzY3JpcHRvcjtcbiAgICB9O1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuT0JKRUNULFxuICAgICAgICAnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJyxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKG9iaikge1xuICAgICAgICB0aHJvd0lmTnVsbFVuZGVmaW5lZChvYmopO1xuICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLmdldFByb3RvdHlwZShvYmopO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgdGhpcy5PQkpFQ1QsXG4gICAgICAgICdnZXRQcm90b3R5cGVPZicsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBpc0V4dGVuc2libGUob2JqKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKG9iaikgJiYgIW9iai5wcmV2ZW50RXh0ZW5zaW9ucztcbiAgICB9O1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuT0JKRUNULFxuICAgICAgICAnaXNFeHRlbnNpYmxlJyxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKG9iaikge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICAgICAgICBvYmoucHJldmVudEV4dGVuc2lvbnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLk9CSkVDVCxcbiAgICAgICAgJ3ByZXZlbnRFeHRlbnNpb25zJyxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgLy8gSW5zdGFuY2UgbWV0aG9kcyBvbiBPYmplY3QuXG4gICAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk9CSkVDVCwgJ3RvU3RyaW5nJywgSW50ZXJwcmV0ZXIuT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7XG4gICAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZShcbiAgICAgICAgdGhpcy5PQkpFQ1QsXG4gICAgICAgICd0b0xvY2FsZVN0cmluZycsXG4gICAgICAgIEludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgKTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuT0JKRUNULCAndmFsdWVPZicsIEludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUudmFsdWVPZik7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gaGFzT3duUHJvcGVydHkocHJvcCkge1xuICAgICAgICB0aHJvd0lmTnVsbFVuZGVmaW5lZCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcocHJvcCkgaW4gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByaW1pdGl2ZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkocHJvcCk7XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuT0JKRUNULCAnaGFzT3duUHJvcGVydHknLCB3cmFwcGVyKTtcblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShwcm9wKSB7XG4gICAgICAgIHRocm93SWZOdWxsVW5kZWZpbmVkKHRoaXMpO1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0aGlzLnByb3BlcnRpZXMsIHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByaW1pdGl2ZS5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydHlJc0VudW1lcmFibGUocHJvcCk7XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuT0JKRUNULCAncHJvcGVydHlJc0VudW1lcmFibGUnLCB3cmFwcGVyKTtcblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiBpc1Byb3RvdHlwZU9mKG9iaikge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gTm90ZSwgY2lyY3VsYXIgbG9vcHMgc2hvdWxkbid0IGJlIHBvc3NpYmxlLlxuICAgICAgICAgICAgb2JqID0gdGhpc0ludGVycHJldGVyLmdldFByb3RvdHlwZShvYmopO1xuICAgICAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgICAgICAvLyBObyBwYXJlbnQ7IHJlYWNoZWQgdGhlIHRvcC5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5PQkpFQ1QsICdpc1Byb3RvdHlwZU9mJywgd3JhcHBlcik7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEFycmF5IGNsYXNzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRBcnJheSA9IGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgd3JhcHBlcjtcbiAgICAvLyBBcnJheSBjb25zdHJ1Y3Rvci5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gQXJyYXkodmFyX2FyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgbmV3IEFycmF5KClgLlxuICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgQXJyYXkoKWAuXG4gICAgICAgICAgICB2YXIgbmV3QXJyYXkgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlyc3QgPSBhcmd1bWVudHNbMF07XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBmaXJzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmIChpc05hTihJbnRlcnByZXRlci5sZWdhbEFycmF5TGVuZ3RoKGZpcnN0KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLlJBTkdFX0VSUk9SLCAnSW52YWxpZCBhcnJheSBsZW5ndGgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnByb3BlcnRpZXMubGVuZ3RoID0gZmlyc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG5ld0FycmF5LnByb3BlcnRpZXNbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wcm9wZXJ0aWVzLmxlbmd0aCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgIH07XG4gICAgdGhpcy5BUlJBWSA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gICAgdGhpcy5BUlJBWV9QUk9UTyA9IHRoaXMuQVJSQVkucHJvcGVydGllc1sncHJvdG90eXBlJ107XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdBcnJheScsIHRoaXMuQVJSQVksIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG5cbiAgICAvLyBTdGF0aWMgbWV0aG9kcyBvbiBBcnJheS5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouY2xhc3MgPT09ICdBcnJheSc7XG4gICAgfTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLkFSUkFZLFxuICAgICAgICAnaXNBcnJheScsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcblxuICAgIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gQXJyYXkuXG4gICAgdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLkFSUkFZX1BST1RPLCAnbGVuZ3RoJywgMCwge1xuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgdGhpcy5BUlJBWV9QUk9UTy5jbGFzcyA9ICdBcnJheSc7XG5cbiAgICB0aGlzLnBvbHlmaWxsc18ucHVzaChcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAncG9wJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24gcG9wKCkgeycsXG4gICAgICAgICdpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpOycsXG4gICAgICAgICd2YXIgbyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgICdpZiAoIWxlbiB8fCBsZW4gPCAwKSB7JyxcbiAgICAgICAgJ28ubGVuZ3RoID0gMDsnLFxuICAgICAgICAncmV0dXJuIHVuZGVmaW5lZDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICdsZW4tLTsnLFxuICAgICAgICAndmFyIHggPSBvW2xlbl07JyxcbiAgICAgICAgJ2RlbGV0ZSBvW2xlbl07JywgLy8gTmVlZGVkIGZvciBub24tYXJyYXlzLlxuICAgICAgICAnby5sZW5ndGggPSBsZW47JyxcbiAgICAgICAgJ3JldHVybiB4OycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30pOycsXG5cbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAncHVzaCcsXCIsXG4gICAgICAgICd7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6JyxcbiAgICAgICAgJ2Z1bmN0aW9uIHB1c2godmFyX2FyZ3MpIHsnLFxuICAgICAgICAnaWYgKCF0aGlzKSB0aHJvdyBUeXBlRXJyb3IoKTsnLFxuICAgICAgICAndmFyIG8gPSBPYmplY3QodGhpcyk7JyxcbiAgICAgICAgJ3ZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDsnLFxuICAgICAgICAnZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsnLFxuICAgICAgICAnb1tsZW5dID0gYXJndW1lbnRzW2ldOycsXG4gICAgICAgICdsZW4rKzsnLFxuICAgICAgICAnfScsXG4gICAgICAgICdvLmxlbmd0aCA9IGxlbjsnLFxuICAgICAgICAncmV0dXJuIGxlbjsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NoaWZ0JyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24gc2hpZnQoKSB7JyxcbiAgICAgICAgJ2lmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7JyxcbiAgICAgICAgJ3ZhciBvID0gT2JqZWN0KHRoaXMpOycsXG4gICAgICAgICd2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7JyxcbiAgICAgICAgJ2lmICghbGVuIHx8IGxlbiA8IDApIHsnLFxuICAgICAgICAnby5sZW5ndGggPSAwOycsXG4gICAgICAgICdyZXR1cm4gdW5kZWZpbmVkOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3ZhciB2YWx1ZSA9IG9bMF07JyxcbiAgICAgICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7JyxcbiAgICAgICAgJ29baV0gPSBvW2kgKyAxXTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICdkZWxldGUgb1tpXTsnLCAvLyBOZWVkZWQgZm9yIG5vbi1hcnJheXMuXG4gICAgICAgICdvLmxlbmd0aCA9IGxlbiAtIDE7JyxcbiAgICAgICAgJ3JldHVybiB2YWx1ZTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3Vuc2hpZnQnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiB1bnNoaWZ0KHZhcl9hcmdzKSB7JyxcbiAgICAgICAgJ2lmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7JyxcbiAgICAgICAgJ3ZhciBvID0gT2JqZWN0KHRoaXMpOycsXG4gICAgICAgICd2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7JyxcbiAgICAgICAgJ2lmICghbGVuIHx8IGxlbiA8IDApIHsnLFxuICAgICAgICAnbGVuID0gMDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICdmb3IgKHZhciBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHsnLFxuICAgICAgICAnb1tpICsgYXJndW1lbnRzLmxlbmd0aF0gPSBvW2ldOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7JyxcbiAgICAgICAgJ29baV0gPSBhcmd1bWVudHNbaV07JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIG8ubGVuZ3RoID0gbGVuICsgYXJndW1lbnRzLmxlbmd0aDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3JldmVyc2UnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiByZXZlcnNlKCkgeycsXG4gICAgICAgICdpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpOycsXG4gICAgICAgICd2YXIgbyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgICdpZiAoIWxlbiB8fCBsZW4gPCAyKSB7JyxcbiAgICAgICAgJ3JldHVybiBvOycsIC8vIE5vdCBhbiBhcnJheSwgb3IgdG9vIHNob3J0IHRvIHJldmVyc2UuXG4gICAgICAgICd9JyxcbiAgICAgICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwgbGVuIC8gMiAtIDAuNTsgaSsrKSB7JyxcbiAgICAgICAgJ3ZhciB4ID0gb1tpXTsnLFxuICAgICAgICAnb1tpXSA9IG9bbGVuIC0gaSAtIDFdOycsXG4gICAgICAgICdvW2xlbiAtIGkgLSAxXSA9IHg7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIG87JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSk7JyxcblxuICAgICAgICBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdpbmRleE9mJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHsnLFxuICAgICAgICAnaWYgKCF0aGlzKSB0aHJvdyBUeXBlRXJyb3IoKTsnLFxuICAgICAgICAndmFyIG8gPSBPYmplY3QodGhpcyk7JyxcbiAgICAgICAgJ3ZhciBsZW4gPSBvLmxlbmd0aCA+Pj4gMDsnLFxuICAgICAgICAndmFyIG4gPSBmcm9tSW5kZXggfCAwOycsXG4gICAgICAgICdpZiAoIWxlbiB8fCBuID49IGxlbikgeycsXG4gICAgICAgICdyZXR1cm4gLTE7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAndmFyIGkgPSBNYXRoLm1heChuID49IDAgPyBuIDogbGVuIC0gTWF0aC5hYnMobiksIDApOycsXG4gICAgICAgICd3aGlsZSAoaSA8IGxlbikgeycsXG4gICAgICAgICdpZiAoaSBpbiBvICYmIG9baV0gPT09IHNlYXJjaEVsZW1lbnQpIHsnLFxuICAgICAgICAncmV0dXJuIGk7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnaSsrOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiAtMTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2xhc3RJbmRleE9mJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7JyxcbiAgICAgICAgJ2lmICghdGhpcykgdGhyb3cgVHlwZUVycm9yKCk7JyxcbiAgICAgICAgJ3ZhciBvID0gT2JqZWN0KHRoaXMpOycsXG4gICAgICAgICd2YXIgbGVuID0gby5sZW5ndGggPj4+IDA7JyxcbiAgICAgICAgJ2lmICghbGVuKSB7JyxcbiAgICAgICAgJ3JldHVybiAtMTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd2YXIgbiA9IGxlbiAtIDE7JyxcbiAgICAgICAgJ2lmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgeycsXG4gICAgICAgICduID0gZnJvbUluZGV4IHwgMDsnLFxuICAgICAgICAnaWYgKG4pIHsnLFxuICAgICAgICAnbiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3ZhciBpID0gbiA+PSAwID8gTWF0aC5taW4obiwgbGVuIC0gMSkgOiBsZW4gLSBNYXRoLmFicyhuKTsnLFxuICAgICAgICAnd2hpbGUgKGkgPj0gMCkgeycsXG4gICAgICAgICdpZiAoaSBpbiBvICYmIG9baV0gPT09IHNlYXJjaEVsZW1lbnQpIHsnLFxuICAgICAgICAncmV0dXJuIGk7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnaS0tOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiAtMTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NsaWNlJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkgeycsXG4gICAgICAgICdpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpOycsXG4gICAgICAgICd2YXIgbyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgIC8vIEhhbmRsZSBuZWdhdGl2ZSB2YWx1ZSBmb3IgXCJzdGFydFwiXG4gICAgICAgICdzdGFydCB8PSAwOycsXG4gICAgICAgICdzdGFydCA9IChzdGFydCA+PSAwKSA/IHN0YXJ0IDogTWF0aC5tYXgoMCwgbGVuICsgc3RhcnQpOycsXG4gICAgICAgIC8vIEhhbmRsZSBuZWdhdGl2ZSB2YWx1ZSBmb3IgXCJlbmRcIlxuICAgICAgICBcImlmICh0eXBlb2YgZW5kICE9PSAndW5kZWZpbmVkJykge1wiLFxuICAgICAgICAnaWYgKGVuZCAhPT0gSW5maW5pdHkpIHsnLFxuICAgICAgICAnZW5kIHw9IDA7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnaWYgKGVuZCA8IDApIHsnLFxuICAgICAgICAnZW5kID0gbGVuICsgZW5kOycsXG4gICAgICAgICd9IGVsc2UgeycsXG4gICAgICAgICdlbmQgPSBNYXRoLm1pbihlbmQsIGxlbik7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSBlbHNlIHsnLFxuICAgICAgICAnZW5kID0gbGVuOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3ZhciBzaXplID0gZW5kIC0gc3RhcnQ7JyxcbiAgICAgICAgJ3ZhciBjbG9uZWQgPSBbXTsnLFxuICAgICAgICAnZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsnLFxuICAgICAgICAnY2xvbmVkW2ldID0gb1tzdGFydCArIGldOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiBjbG9uZWQ7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSk7JyxcblxuICAgICAgICBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdzcGxpY2UnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiBzcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50LCB2YXJfYXJncykgeycsXG4gICAgICAgICdpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpOycsXG4gICAgICAgICd2YXIgbyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgICdzdGFydCB8PSAwOycsXG4gICAgICAgICdpZiAoc3RhcnQgPCAwKSB7JyxcbiAgICAgICAgJ3N0YXJ0ID0gTWF0aC5tYXgobGVuICsgc3RhcnQsIDApOycsXG4gICAgICAgICd9IGVsc2UgeycsXG4gICAgICAgICdzdGFydCA9IE1hdGgubWluKHN0YXJ0LCBsZW4pOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ2lmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkgeycsXG4gICAgICAgICdkZWxldGVDb3VudCA9IGxlbiAtIHN0YXJ0OycsXG4gICAgICAgICd9IGVsc2UgeycsXG4gICAgICAgICdkZWxldGVDb3VudCB8PSAwOycsXG4gICAgICAgICdkZWxldGVDb3VudCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRlbGV0ZUNvdW50LCBsZW4gLSBzdGFydCkpOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3ZhciByZW1vdmVkID0gW107JyxcbiAgICAgICAgLy8gUmVtb3ZlIHNwZWNpZmllZCBlbGVtZW50cy5cbiAgICAgICAgJ2ZvciAodmFyIGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgZGVsZXRlQ291bnQ7IGkrKykgeycsXG4gICAgICAgICdyZW1vdmVkW3JlbW92ZWQubGVuZ3RoKytdID0gb1tpXTsnLFxuICAgICAgICAnb1tpXSA9IG9baSArIGRlbGV0ZUNvdW50XTsnLFxuICAgICAgICAnfScsXG4gICAgICAgIC8vIE1vdmUgb3RoZXIgZWxlbWVudCB0byBmaWxsIHRoZSBnYXAuXG4gICAgICAgICdmb3IgKHZhciBpID0gc3RhcnQgKyBkZWxldGVDb3VudDsgaSA8IGxlbiAtIGRlbGV0ZUNvdW50OyBpKyspIHsnLFxuICAgICAgICAnb1tpXSA9IG9baSArIGRlbGV0ZUNvdW50XTsnLFxuICAgICAgICAnfScsXG4gICAgICAgIC8vIERlbGV0ZSBzdXBlcmZsdW91cyBwcm9wZXJ0aWVzLlxuICAgICAgICAnZm9yICh2YXIgaSA9IGxlbiAtIGRlbGV0ZUNvdW50OyBpIDwgbGVuOyBpKyspIHsnLFxuICAgICAgICAnZGVsZXRlIG9baV07JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnbGVuIC09IGRlbGV0ZUNvdW50OycsXG4gICAgICAgIC8vIEluc2VydCBzcGVjaWZpZWQgaXRlbXMuXG4gICAgICAgICdmb3IgKHZhciBpID0gbGVuIC0gMTsgaSA+PSBzdGFydDsgaS0tKSB7JyxcbiAgICAgICAgJ29baSArIGFyZ3VtZW50cy5sZW5ndGggLSAyXSA9IG9baV07JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnbGVuICs9IGFyZ3VtZW50cy5sZW5ndGggLSAyOycsXG4gICAgICAgICdmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeycsXG4gICAgICAgICdvW3N0YXJ0ICsgaSAtIDJdID0gYXJndW1lbnRzW2ldOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ28ubGVuZ3RoID0gbGVuOycsXG4gICAgICAgICdyZXR1cm4gcmVtb3ZlZDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2NvbmNhdCcsXCIsXG4gICAgICAgICd7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6JyxcbiAgICAgICAgJ2Z1bmN0aW9uIGNvbmNhdCh2YXJfYXJncykgeycsXG4gICAgICAgICdpZiAoIXRoaXMpIHRocm93IFR5cGVFcnJvcigpOycsXG4gICAgICAgICd2YXIgbyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGNsb25lZCA9IFtdOycsXG4gICAgICAgICdmb3IgKHZhciBpID0gLTE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsnLFxuICAgICAgICAndmFyIHZhbHVlID0gKGkgPT09IC0xKSA/IG8gOiBhcmd1bWVudHNbaV07JyxcbiAgICAgICAgJ2lmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgeycsXG4gICAgICAgICdjbG9uZWQucHVzaC5hcHBseShjbG9uZWQsIHZhbHVlKTsnLFxuICAgICAgICAnfSBlbHNlIHsnLFxuICAgICAgICAnY2xvbmVkLnB1c2godmFsdWUpOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIGNsb25lZDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2pvaW4nLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbiBqb2luKG9wdF9zZXBhcmF0b3IpIHsnLFxuICAgICAgICAnaWYgKCF0aGlzKSB0aHJvdyBUeXBlRXJyb3IoKTsnLFxuICAgICAgICAndmFyIG8gPSBPYmplY3QodGhpcyk7JyxcbiAgICAgICAgXCJ2YXIgc2VwID0gdHlwZW9mIG9wdF9zZXBhcmF0b3IgPT09ICd1bmRlZmluZWQnID9cIixcbiAgICAgICAgXCInLCcgOiAoJycgKyBvcHRfc2VwYXJhdG9yKTtcIixcbiAgICAgICAgXCJ2YXIgc3RyID0gJyc7XCIsXG4gICAgICAgICdmb3IgKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHsnLFxuICAgICAgICAnaWYgKGkgJiYgc2VwKSB7JyxcbiAgICAgICAgJ3N0ciArPSBzZXA7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnc3RyICs9IG9baV07JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIHN0cjsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIC8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuICAgICAgICAvLyBkZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZXZlcnlcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZXZlcnknLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbihjYWxsYmFja2ZuLCB0aGlzQXJnKSB7JyxcbiAgICAgICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrZm4gIT09ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgICAgICAndmFyIFQsIGs7JyxcbiAgICAgICAgJ3ZhciBPID0gT2JqZWN0KHRoaXMpOycsXG4gICAgICAgICd2YXIgbGVuID0gTy5sZW5ndGggPj4+IDA7JyxcbiAgICAgICAgJ2lmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgVCA9IHRoaXNBcmc7JyxcbiAgICAgICAgJ2sgPSAwOycsXG4gICAgICAgICd3aGlsZSAoayA8IGxlbikgeycsXG4gICAgICAgICdpZiAoayBpbiBPICYmICFjYWxsYmFja2ZuLmNhbGwoVCwgT1trXSwgaywgTykpIHJldHVybiBmYWxzZTsnLFxuICAgICAgICAnaysrOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiB0cnVlOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30pOycsXG5cbiAgICAgICAgLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4gICAgICAgIC8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXJcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZmlsdGVyJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24oZnVuLyosIHRoaXNBcmcqLykgeycsXG4gICAgICAgIFwiaWYgKHRoaXMgPT09IHZvaWQgMCB8fCB0aGlzID09PSBudWxsIHx8IHR5cGVvZiBmdW4gIT09ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgICAgICAndmFyIHQgPSBPYmplY3QodGhpcyk7JyxcbiAgICAgICAgJ3ZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDsnLFxuICAgICAgICAndmFyIHJlcyA9IFtdOycsXG4gICAgICAgICd2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDsnLFxuICAgICAgICAnZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgeycsXG4gICAgICAgICdpZiAoaSBpbiB0KSB7JyxcbiAgICAgICAgJ3ZhciB2YWwgPSB0W2ldOycsXG4gICAgICAgICdpZiAoZnVuLmNhbGwodGhpc0FyZywgdmFsLCBpLCB0KSkgcmVzLnB1c2godmFsKTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiByZXM7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSk7JyxcblxuICAgICAgICAvLyBQb2x5ZmlsbCBjb3BpZWQgZnJvbTpcbiAgICAgICAgLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2hcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnZm9yRWFjaCcsXCIsXG4gICAgICAgICd7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6JyxcbiAgICAgICAgJ2Z1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7JyxcbiAgICAgICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICAgICAgJ3ZhciBULCBrOycsXG4gICAgICAgICd2YXIgTyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgICdpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIFQgPSB0aGlzQXJnOycsXG4gICAgICAgICdrID0gMDsnLFxuICAgICAgICAnd2hpbGUgKGsgPCBsZW4pIHsnLFxuICAgICAgICAnaWYgKGsgaW4gTykgY2FsbGJhY2suY2FsbChULCBPW2tdLCBrLCBPKTsnLFxuICAgICAgICAnaysrOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfSk7JyxcblxuICAgICAgICAvLyBQb2x5ZmlsbCBjb3BpZWQgZnJvbTpcbiAgICAgICAgLy8gZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcFxuICAgICAgICBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdtYXAnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykgeycsXG4gICAgICAgIFwiaWYgKCF0aGlzIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgbmV3IFR5cGVFcnJvcjtcIixcbiAgICAgICAgJ3ZhciBULCBBLCBrOycsXG4gICAgICAgICd2YXIgTyA9IE9iamVjdCh0aGlzKTsnLFxuICAgICAgICAndmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwOycsXG4gICAgICAgICdpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIFQgPSB0aGlzQXJnOycsXG4gICAgICAgICdBID0gbmV3IEFycmF5KGxlbik7JyxcbiAgICAgICAgJ2sgPSAwOycsXG4gICAgICAgICd3aGlsZSAoayA8IGxlbikgeycsXG4gICAgICAgICdpZiAoayBpbiBPKSBBW2tdID0gY2FsbGJhY2suY2FsbChULCBPW2tdLCBrLCBPKTsnLFxuICAgICAgICAnaysrOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiBBOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30pOycsXG5cbiAgICAgICAgLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4gICAgICAgIC8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9SZWR1Y2VcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAncmVkdWNlJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24oY2FsbGJhY2sgLyosIGluaXRpYWxWYWx1ZSovKSB7JyxcbiAgICAgICAgXCJpZiAoIXRoaXMgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoKTtcIixcbiAgICAgICAgJ3ZhciB0ID0gT2JqZWN0KHRoaXMpLCBsZW4gPSB0Lmxlbmd0aCA+Pj4gMCwgayA9IDAsIHZhbHVlOycsXG4gICAgICAgICdpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgeycsXG4gICAgICAgICd2YWx1ZSA9IGFyZ3VtZW50c1sxXTsnLFxuICAgICAgICAnfSBlbHNlIHsnLFxuICAgICAgICAnd2hpbGUgKGsgPCBsZW4gJiYgIShrIGluIHQpKSBrKys7JyxcbiAgICAgICAgJ2lmIChrID49IGxlbikgeycsXG4gICAgICAgIFwidGhyb3cgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XCIsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3ZhbHVlID0gdFtrKytdOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ2ZvciAoOyBrIDwgbGVuOyBrKyspIHsnLFxuICAgICAgICAnaWYgKGsgaW4gdCkgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSwgdFtrXSwgaywgdCk7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAncmV0dXJuIHZhbHVlOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30pOycsXG5cbiAgICAgICAgLy8gUG9seWZpbGwgY29waWVkIGZyb206XG4gICAgICAgIC8vIGRldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9SZWR1Y2VSaWdodFxuICAgICAgICBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdyZWR1Y2VSaWdodCcsXCIsXG4gICAgICAgICd7Y29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6JyxcbiAgICAgICAgJ2Z1bmN0aW9uKGNhbGxiYWNrIC8qLCBpbml0aWFsVmFsdWUqLykgeycsXG4gICAgICAgIFwiaWYgKG51bGwgPT09IHRoaXMgfHwgJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB0aGlzIHx8ICdmdW5jdGlvbicgIT09IHR5cGVvZiBjYWxsYmFjaykgdGhyb3cgVHlwZUVycm9yKCk7XCIsXG4gICAgICAgICd2YXIgdCA9IE9iamVjdCh0aGlzKSwgbGVuID0gdC5sZW5ndGggPj4+IDAsIGsgPSBsZW4gLSAxLCB2YWx1ZTsnLFxuICAgICAgICAnaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikgeycsXG4gICAgICAgICd2YWx1ZSA9IGFyZ3VtZW50c1sxXTsnLFxuICAgICAgICAnfSBlbHNlIHsnLFxuICAgICAgICAnd2hpbGUgKGsgPj0gMCAmJiAhKGsgaW4gdCkpIGstLTsnLFxuICAgICAgICAnaWYgKGsgPCAwKSB7JyxcbiAgICAgICAgXCJ0aHJvdyBUeXBlRXJyb3IoJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKTtcIixcbiAgICAgICAgJ30nLFxuICAgICAgICAndmFsdWUgPSB0W2stLV07JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnZm9yICg7IGsgPj0gMDsgay0tKSB7JyxcbiAgICAgICAgJ2lmIChrIGluIHQpIHZhbHVlID0gY2FsbGJhY2sodmFsdWUsIHRba10sIGssIHQpOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiB2YWx1ZTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgIC8vIFBvbHlmaWxsIGNvcGllZCBmcm9tOlxuICAgICAgICAvLyBkZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc29tZVxuICAgICAgICBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsICdzb21lJyxcIixcbiAgICAgICAgJ3tjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTonLFxuICAgICAgICAnZnVuY3Rpb24oZnVuLyosIHRoaXNBcmcqLykgeycsXG4gICAgICAgIFwiaWYgKCF0aGlzIHx8IHR5cGVvZiBmdW4gIT09ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcigpO1wiLFxuICAgICAgICAndmFyIHQgPSBPYmplY3QodGhpcyk7JyxcbiAgICAgICAgJ3ZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDsnLFxuICAgICAgICAndmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoID49IDIgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDA7JyxcbiAgICAgICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsnLFxuICAgICAgICAnaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzQXJnLCB0W2ldLCBpLCB0KSkgeycsXG4gICAgICAgICdyZXR1cm4gdHJ1ZTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiBmYWxzZTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuXG4gICAgICAgICcoZnVuY3Rpb24oKSB7JyxcbiAgICAgICAgJ3ZhciBzb3J0XyA9IEFycmF5LnByb3RvdHlwZS5zb3J0OycsXG4gICAgICAgICdBcnJheS5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKG9wdF9jb21wKSB7JyxcbiAgICAgICAgLy8gRmFzdCBuYXRpdmUgc29ydC5cbiAgICAgICAgXCJpZiAodHlwZW9mIG9wdF9jb21wICE9PSAnZnVuY3Rpb24nKSB7XCIsXG4gICAgICAgICdyZXR1cm4gc29ydF8uY2FsbCh0aGlzKTsnLFxuICAgICAgICAnfScsXG4gICAgICAgIC8vIFNsb3cgYnViYmxlIHNvcnQuXG4gICAgICAgICdmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsnLFxuICAgICAgICAndmFyIGNoYW5nZXMgPSAwOycsXG4gICAgICAgICdmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMubGVuZ3RoIC0gaSAtIDE7IGorKykgeycsXG4gICAgICAgICdpZiAob3B0X2NvbXAodGhpc1tqXSwgdGhpc1tqICsgMV0pID4gMCkgeycsXG4gICAgICAgICd2YXIgc3dhcCA9IHRoaXNbal07JyxcbiAgICAgICAgJ3RoaXNbal0gPSB0aGlzW2ogKyAxXTsnLFxuICAgICAgICAndGhpc1tqICsgMV0gPSBzd2FwOycsXG4gICAgICAgICdjaGFuZ2VzKys7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfScsXG4gICAgICAgICdpZiAoIWNoYW5nZXMpIGJyZWFrOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ3JldHVybiB0aGlzOycsXG4gICAgICAgICd9OycsXG4gICAgICAgICd9KSgpOycsXG5cbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAndG9Mb2NhbGVTdHJpbmcnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbigpIHsnLFxuICAgICAgICAndmFyIG91dCA9IFtdOycsXG4gICAgICAgICdmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsnLFxuICAgICAgICBcIm91dFtpXSA9ICh0aGlzW2ldID09PSBudWxsIHx8IHRoaXNbaV0gPT09IHVuZGVmaW5lZCkgPyAnJyA6IHRoaXNbaV0udG9Mb2NhbGVTdHJpbmcoKTtcIixcbiAgICAgICAgJ30nLFxuICAgICAgICBcInJldHVybiBvdXQuam9pbignLCcpO1wiLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuICAgICAgICAnJyxcbiAgICApO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBTdHJpbmcgY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdFN0cmluZyA9IGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgd3JhcHBlcjtcbiAgICAvLyBTdHJpbmcgY29uc3RydWN0b3IuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPyBTdHJpbmcodmFsdWUpIDogJyc7XG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgYXMgYG5ldyBTdHJpbmcoKWAuXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FsbGVkIGFzIGBTdHJpbmcoKWAuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuU1RSSU5HID0gdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCB0cnVlKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ1N0cmluZycsIHRoaXMuU1RSSU5HKTtcblxuICAgIC8vIFN0YXRpYyBtZXRob2RzIG9uIFN0cmluZy5cbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLlNUUklORyxcbiAgICAgICAgJ2Zyb21DaGFyQ29kZScsXG4gICAgICAgIHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24oU3RyaW5nLmZyb21DaGFyQ29kZSwgZmFsc2UpLFxuICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcblxuICAgIC8vIEluc3RhbmNlIG1ldGhvZHMgb24gU3RyaW5nLlxuICAgIC8vIE1ldGhvZHMgd2l0aCBleGNsdXNpdmVseSBwcmltaXRpdmUgYXJndW1lbnRzLlxuICAgIHZhciBmdW5jdGlvbnMgPSBbXG4gICAgICAgICdjaGFyQXQnLFxuICAgICAgICAnY2hhckNvZGVBdCcsXG4gICAgICAgICdjb25jYXQnLFxuICAgICAgICAnaW5kZXhPZicsXG4gICAgICAgICdsYXN0SW5kZXhPZicsXG4gICAgICAgICdzbGljZScsXG4gICAgICAgICdzdWJzdHInLFxuICAgICAgICAnc3Vic3RyaW5nJyxcbiAgICAgICAgJ3RvTG9jYWxlTG93ZXJDYXNlJyxcbiAgICAgICAgJ3RvTG9jYWxlVXBwZXJDYXNlJyxcbiAgICAgICAgJ3RvTG93ZXJDYXNlJyxcbiAgICAgICAgJ3RvVXBwZXJDYXNlJyxcbiAgICAgICAgJ3RyaW0nLFxuICAgIF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLlNUUklORywgZnVuY3Rpb25zW2ldLCBTdHJpbmcucHJvdG90eXBlW2Z1bmN0aW9uc1tpXV0pO1xuICAgIH1cblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiAoY29tcGFyZVN0cmluZywgbG9jYWxlcywgb3B0aW9ucykge1xuICAgICAgICBsb2NhbGVzID0gbG9jYWxlcyA/IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShsb2NhbGVzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgPyB0aGlzSW50ZXJwcmV0ZXIucHNldWRvVG9OYXRpdmUob3B0aW9ucykgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcykubG9jYWxlQ29tcGFyZShjb21wYXJlU3RyaW5nLCBsb2NhbGVzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsICdsb2NhbGVDb21wYXJlJywgd3JhcHBlcik7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSBTdHJpbmcodGhpcyk7XG4gICAgICAgIGxpbWl0ID0gbGltaXQgPyBOdW1iZXIobGltaXQpIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBFeGFtcGxlIG9mIGNhdGFzdHJvcGhpYyBzcGxpdCBSZWdFeHA6XG4gICAgICAgIC8vICdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFjJy5zcGxpdCgvXihhKykrYi8pXG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuaXNhKHNlcGFyYXRvciwgdGhpc0ludGVycHJldGVyLlJFR0VYUCkpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvci5kYXRhO1xuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLm1heWJlVGhyb3dSZWdFeHAoc2VwYXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAodGhpc0ludGVycHJldGVyWydSRUdFWFBfTU9ERSddID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJ1biBzcGxpdCBpbiB2bS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhbmRib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmc6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogc2VwYXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICdzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCknO1xuICAgICAgICAgICAgICAgICAgICB2YXIganNMaXN0ID0gdGhpc0ludGVycHJldGVyLnZtQ2FsbChjb2RlLCBzYW5kYm94LCBzZXBhcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzTGlzdCAhPT0gSW50ZXJwcmV0ZXIuUkVHRVhQX1RJTUVPVVQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKGpzTGlzdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHNwbGl0IGluIHNlcGFyYXRlIHRocmVhZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0V29ya2VyID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZVdvcmtlcigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGlkID0gdGhpc0ludGVycHJldGVyLnJlZ0V4cFRpbWVvdXQoc2VwYXJhdG9yLCBzcGxpdFdvcmtlciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBzcGxpdFdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhlLmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRXb3JrZXIucG9zdE1lc3NhZ2UoWydzcGxpdCcsIHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIHNwbGl0IG5hdGl2ZWx5LlxuICAgICAgICB2YXIganNMaXN0ID0gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgICAgICBjYWxsYmFjayh0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhqc0xpc3QpKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0QXN5bmNGdW5jdGlvblByb3RvdHlwZSh0aGlzLlNUUklORywgJ3NwbGl0Jywgd3JhcHBlcik7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHJlZ2V4cCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHN0cmluZyA9IFN0cmluZyh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5pc2EocmVnZXhwLCB0aGlzSW50ZXJwcmV0ZXIuUkVHRVhQKSkge1xuICAgICAgICAgICAgcmVnZXhwID0gcmVnZXhwLmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhhbXBsZSBvZiBjYXRhc3Ryb3BoaWMgbWF0Y2ggUmVnRXhwOlxuICAgICAgICAvLyAnYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYycubWF0Y2goL14oYSspK2IvKVxuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIubWF5YmVUaHJvd1JlZ0V4cChyZWdleHAsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgICAgICAgICAgLy8gUnVuIG1hdGNoIGluIHZtLlxuICAgICAgICAgICAgICAgIHZhciBzYW5kYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmc6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgcmVnZXhwOiByZWdleHAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICdzdHJpbmcubWF0Y2gocmVnZXhwKSc7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSB0aGlzSW50ZXJwcmV0ZXIudm1DYWxsKGNvZGUsIHNhbmRib3gsIHJlZ2V4cCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChtICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtICYmIHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKG0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJ1biBtYXRjaCBpbiBzZXBhcmF0ZSB0aHJlYWQuXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoV29ya2VyID0gdGhpc0ludGVycHJldGVyLmNyZWF0ZVdvcmtlcigpO1xuICAgICAgICAgICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChyZWdleHAsIG1hdGNoV29ya2VyLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgbWF0Y2hXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUuZGF0YSAmJiB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhlLmRhdGEpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1hdGNoV29ya2VyLnBvc3RNZXNzYWdlKFsnbWF0Y2gnLCBzdHJpbmcsIHJlZ2V4cF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBtYXRjaCBuYXRpdmVseS5cbiAgICAgICAgdmFyIG0gPSBzdHJpbmcubWF0Y2gocmVnZXhwKTtcbiAgICAgICAgY2FsbGJhY2sobSAmJiB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlOYXRpdmVUb1BzZXVkbyhtKSk7XG4gICAgfTtcbiAgICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsICdtYXRjaCcsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIChyZWdleHAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSBTdHJpbmcodGhpcyk7XG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuaXNhKHJlZ2V4cCwgdGhpc0ludGVycHJldGVyLlJFR0VYUCkpIHtcbiAgICAgICAgICAgIHJlZ2V4cCA9IHJlZ2V4cC5kYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVnZXhwID0gbmV3IFJlZ0V4cChyZWdleHApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4YW1wbGUgb2YgY2F0YXN0cm9waGljIHNlYXJjaCBSZWdFeHA6XG4gICAgICAgIC8vICdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFjJy5zZWFyY2goL14oYSspK2IvKVxuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIubWF5YmVUaHJvd1JlZ0V4cChyZWdleHAsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgICAgICAgaWYgKEludGVycHJldGVyLnZtKSB7XG4gICAgICAgICAgICAgICAgLy8gUnVuIHNlYXJjaCBpbiB2bS5cbiAgICAgICAgICAgICAgICB2YXIgc2FuZGJveCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4cDogcmVnZXhwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSAnc3RyaW5nLnNlYXJjaChyZWdleHApJztcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHRoaXNJbnRlcnByZXRlci52bUNhbGwoY29kZSwgc2FuZGJveCwgcmVnZXhwLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKG4gIT09IEludGVycHJldGVyLlJFR0VYUF9USU1FT1VUKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUnVuIHNlYXJjaCBpbiBzZXBhcmF0ZSB0aHJlYWQuXG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaFdvcmtlciA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVXb3JrZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgcGlkID0gdGhpc0ludGVycHJldGVyLnJlZ0V4cFRpbWVvdXQocmVnZXhwLCBzZWFyY2hXb3JrZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZWFyY2hXb3JrZXIucG9zdE1lc3NhZ2UoWydzZWFyY2gnLCBzdHJpbmcsIHJlZ2V4cF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBzZWFyY2ggbmF0aXZlbHkuXG4gICAgICAgIGNhbGxiYWNrKHN0cmluZy5zZWFyY2gocmVnZXhwKSk7XG4gICAgfTtcbiAgICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5TVFJJTkcsICdzZWFyY2gnLCB3cmFwcGVyKTtcblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiAoc3Vic3RyLCBuZXdTdWJzdHIsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIFN1cHBvcnQgZm9yIGZ1bmN0aW9uIHJlcGxhY2VtZW50cyBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgYSBwb2x5ZmlsbC5cbiAgICAgICAgdmFyIHN0cmluZyA9IFN0cmluZyh0aGlzKTtcbiAgICAgICAgbmV3U3Vic3RyID0gU3RyaW5nKG5ld1N1YnN0cik7XG4gICAgICAgIC8vIEV4YW1wbGUgb2YgY2F0YXN0cm9waGljIHJlcGxhY2UgUmVnRXhwOlxuICAgICAgICAvLyAnYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYycucmVwbGFjZSgvXihhKykrYi8sICcnKVxuICAgICAgICBpZiAodGhpc0ludGVycHJldGVyLmlzYShzdWJzdHIsIHRoaXNJbnRlcnByZXRlci5SRUdFWFApKSB7XG4gICAgICAgICAgICBzdWJzdHIgPSBzdWJzdHIuZGF0YTtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5tYXliZVRocm93UmVnRXhwKHN1YnN0ciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlclsnUkVHRVhQX01PREUnXSA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChJbnRlcnByZXRlci52bSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSdW4gcmVwbGFjZSBpbiB2bS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhbmRib3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmc6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnN0cjogc3Vic3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3Vic3RyOiBuZXdTdWJzdHIsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gJ3N0cmluZy5yZXBsYWNlKHN1YnN0ciwgbmV3U3Vic3RyKSc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSB0aGlzSW50ZXJwcmV0ZXIudm1DYWxsKGNvZGUsIHNhbmRib3gsIHN1YnN0ciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyICE9PSBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJ1biByZXBsYWNlIGluIHNlcGFyYXRlIHRocmVhZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VXb3JrZXIgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlV29ya2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaWQgPSB0aGlzSW50ZXJwcmV0ZXIucmVnRXhwVGltZW91dChzdWJzdHIsIHJlcGxhY2VXb3JrZXIsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlV29ya2VyLnBvc3RNZXNzYWdlKFsncmVwbGFjZScsIHN0cmluZywgc3Vic3RyLCBuZXdTdWJzdHJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biByZXBsYWNlIG5hdGl2ZWx5LlxuICAgICAgICBjYWxsYmFjayhzdHJpbmcucmVwbGFjZShzdWJzdHIsIG5ld1N1YnN0cikpO1xuICAgIH07XG4gICAgdGhpcy5zZXRBc3luY0Z1bmN0aW9uUHJvdG90eXBlKHRoaXMuU1RSSU5HLCAncmVwbGFjZScsIHdyYXBwZXIpO1xuICAgIC8vIEFkZCBhIHBvbHlmaWxsIHRvIGhhbmRsZSByZXBsYWNlJ3Mgc2Vjb25kIGFyZ3VtZW50IGJlaW5nIGEgZnVuY3Rpb24uXG4gICAgdGhpcy5wb2x5ZmlsbHNfLnB1c2goXG4gICAgICAgICcoZnVuY3Rpb24oKSB7JyxcbiAgICAgICAgJ3ZhciByZXBsYWNlXyA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTsnLFxuICAgICAgICAnU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24oc3Vic3RyLCBuZXdTdWJzdHIpIHsnLFxuICAgICAgICBcImlmICh0eXBlb2YgbmV3U3Vic3RyICE9PSAnZnVuY3Rpb24nKSB7XCIsXG4gICAgICAgIC8vIHN0cmluZy5yZXBsYWNlKHN0cmluZ3xyZWdleHAsIHN0cmluZylcbiAgICAgICAgJ3JldHVybiByZXBsYWNlXy5jYWxsKHRoaXMsIHN1YnN0ciwgbmV3U3Vic3RyKTsnLFxuICAgICAgICAnfScsXG4gICAgICAgICd2YXIgc3RyID0gdGhpczsnLFxuICAgICAgICAnaWYgKHN1YnN0ciBpbnN0YW5jZW9mIFJlZ0V4cCkgeycsIC8vIHN0cmluZy5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24pXG4gICAgICAgICd2YXIgc3VicyA9IFtdOycsXG4gICAgICAgICd2YXIgbSA9IHN1YnN0ci5leGVjKHN0cik7JyxcbiAgICAgICAgJ3doaWxlIChtKSB7JyxcbiAgICAgICAgJ20ucHVzaChtLmluZGV4LCBzdHIpOycsXG4gICAgICAgICd2YXIgaW5qZWN0ID0gbmV3U3Vic3RyLmFwcGx5KG51bGwsIG0pOycsXG4gICAgICAgICdzdWJzLnB1c2goW20uaW5kZXgsIG1bMF0ubGVuZ3RoLCBpbmplY3RdKTsnLFxuICAgICAgICAnbSA9IHN1YnN0ci5nbG9iYWwgPyBzdWJzdHIuZXhlYyhzdHIpIDogbnVsbDsnLFxuICAgICAgICAnfScsXG4gICAgICAgICdmb3IgKHZhciBpID0gc3Vicy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeycsXG4gICAgICAgICdzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIHN1YnNbaV1bMF0pICsgc3Vic1tpXVsyXSArICcgK1xuICAgICAgICAgICAgJ3N0ci5zdWJzdHJpbmcoc3Vic1tpXVswXSArIHN1YnNbaV1bMV0pOycsXG4gICAgICAgICd9JyxcbiAgICAgICAgJ30gZWxzZSB7JywgLy8gc3RyaW5nLnJlcGxhY2Uoc3RyaW5nLCBmdW5jdGlvbilcbiAgICAgICAgJ3ZhciBpID0gc3RyLmluZGV4T2Yoc3Vic3RyKTsnLFxuICAgICAgICAnaWYgKGkgIT09IC0xKSB7JyxcbiAgICAgICAgJ3ZhciBpbmplY3QgPSBuZXdTdWJzdHIoc3RyLnN1YnN0cihpLCBzdWJzdHIubGVuZ3RoKSwgaSwgc3RyKTsnLFxuICAgICAgICAnc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKSArIGluamVjdCArICcgKyAnc3RyLnN1YnN0cmluZyhpICsgc3Vic3RyLmxlbmd0aCk7JyxcbiAgICAgICAgJ30nLFxuICAgICAgICAnfScsXG4gICAgICAgICdyZXR1cm4gc3RyOycsXG4gICAgICAgICd9OycsXG4gICAgICAgICd9KSgpOycsXG4gICAgICAgICcnLFxuICAgICk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEJvb2xlYW4gY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdEJvb2xlYW4gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0KSB7XG4gICAgdmFyIHRoaXNJbnRlcnByZXRlciA9IHRoaXM7XG4gICAgdmFyIHdyYXBwZXI7XG4gICAgLy8gQm9vbGVhbiBjb25zdHJ1Y3Rvci5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgYXMgYG5ldyBCb29sZWFuKClgLlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgQm9vbGVhbigpYC5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5CT09MRUFOID0gdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCB0cnVlKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0Jvb2xlYW4nLCB0aGlzLkJPT0xFQU4pO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBOdW1iZXIgY2xhc3MuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdE51bWJlciA9IGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICB2YXIgd3JhcHBlcjtcbiAgICAvLyBOdW1iZXIgY29uc3RydWN0b3IuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPyBOdW1iZXIodmFsdWUpIDogMDtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgbmV3IE51bWJlcigpYC5cbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgYXMgYE51bWJlcigpYC5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5OVU1CRVIgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTnVtYmVyJywgdGhpcy5OVU1CRVIpO1xuXG4gICAgdmFyIG51bUNvbnN0cyA9IFsnTUFYX1ZBTFVFJywgJ01JTl9WQUxVRScsICdOYU4nLCAnTkVHQVRJVkVfSU5GSU5JVFknLCAnUE9TSVRJVkVfSU5GSU5JVFknXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNvbnN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgdGhpcy5OVU1CRVIsXG4gICAgICAgICAgICBudW1Db25zdHNbaV0sXG4gICAgICAgICAgICBOdW1iZXJbbnVtQ29uc3RzW2ldXSxcbiAgICAgICAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YW5jZSBtZXRob2RzIG9uIE51bWJlci5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKGZyYWN0aW9uRGlnaXRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBUaHJvd3MgaWYgZnJhY3Rpb25EaWdpdHMgaXNuJ3Qgd2l0aGluIDAtMjAuXG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24odGhpc0ludGVycHJldGVyLkVSUk9SLCBlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuTlVNQkVSLCAndG9FeHBvbmVudGlhbCcsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIChkaWdpdHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcykudG9GaXhlZChkaWdpdHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBUaHJvd3MgaWYgZGlnaXRzIGlzbid0IHdpdGhpbiAwLTIwLlxuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXNJbnRlcnByZXRlci5FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXROYXRpdmVGdW5jdGlvblByb3RvdHlwZSh0aGlzLk5VTUJFUiwgJ3RvRml4ZWQnLCB3cmFwcGVyKTtcblxuICAgIHdyYXBwZXIgPSBmdW5jdGlvbiAocHJlY2lzaW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMpLnRvUHJlY2lzaW9uKHByZWNpc2lvbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFRocm93cyBpZiBwcmVjaXNpb24gaXNuJ3Qgd2l0aGluIHJhbmdlIChkZXBlbmRzIG9uIGltcGxlbWVudGF0aW9uKS5cbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuRVJST1IsIGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5OVU1CRVIsICd0b1ByZWNpc2lvbicsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIChyYWRpeCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzKS50b1N0cmluZyhyYWRpeCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFRocm93cyBpZiByYWRpeCBpc24ndCB3aXRoaW4gMi0zNi5cbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuRVJST1IsIGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5OVU1CRVIsICd0b1N0cmluZycsIHdyYXBwZXIpO1xuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uIChsb2NhbGVzLCBvcHRpb25zKSB7XG4gICAgICAgIGxvY2FsZXMgPSBsb2NhbGVzID8gdGhpc0ludGVycHJldGVyLnBzZXVkb1RvTmF0aXZlKGxvY2FsZXMpIDogdW5kZWZpbmVkO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyA/IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShvcHRpb25zKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzKS50b0xvY2FsZVN0cmluZyhsb2NhbGVzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0TmF0aXZlRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5OVU1CRVIsICd0b0xvY2FsZVN0cmluZycsIHdyYXBwZXIpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBEYXRlIGNsYXNzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXREYXRlID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCkge1xuICAgIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyO1xuICAgIC8vIERhdGUgY29uc3RydWN0b3IuXG4gICAgd3JhcHBlciA9IGZ1bmN0aW9uICh2YWx1ZSwgdmFyX2FyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgYXMgYERhdGUoKWAuXG4gICAgICAgICAgICAvLyBDYWxsaW5nIERhdGUoKSBhcyBhIGZ1bmN0aW9uIHJldHVybnMgYSBzdHJpbmcsIG5vIGFyZ3VtZW50cyBhcmUgaGVlZGVkLlxuICAgICAgICAgICAgcmV0dXJuIERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxsZWQgYXMgYG5ldyBEYXRlKClgLlxuICAgICAgICB2YXIgYXJncyA9IFtudWxsXS5jb25jYXQoQXJyYXkuZnJvbShhcmd1bWVudHMpKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShEYXRlLCBhcmdzKSkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB0aGlzLkRBVEUgPSB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIHRydWUpO1xuICAgIHRoaXMuREFURV9QUk9UTyA9IHRoaXMuREFURS5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ0RhdGUnLCB0aGlzLkRBVEUpO1xuXG4gICAgLy8gU3RhdGljIG1ldGhvZHMgb24gRGF0ZS5cbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLkRBVEUsXG4gICAgICAgICdub3cnLFxuICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKERhdGUubm93LCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgdGhpcy5EQVRFLFxuICAgICAgICAncGFyc2UnLFxuICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKERhdGUucGFyc2UsIGZhbHNlKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG5cbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLkRBVEUsXG4gICAgICAgICdVVEMnLFxuICAgICAgICB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKERhdGUuVVRDLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuXG4gICAgLy8gSW5zdGFuY2UgbWV0aG9kcyBvbiBEYXRlLlxuICAgIHZhciBmdW5jdGlvbnMgPSBbXG4gICAgICAgICdnZXREYXRlJyxcbiAgICAgICAgJ2dldERheScsXG4gICAgICAgICdnZXRGdWxsWWVhcicsXG4gICAgICAgICdnZXRIb3VycycsXG4gICAgICAgICdnZXRNaWxsaXNlY29uZHMnLFxuICAgICAgICAnZ2V0TWludXRlcycsXG4gICAgICAgICdnZXRNb250aCcsXG4gICAgICAgICdnZXRTZWNvbmRzJyxcbiAgICAgICAgJ2dldFRpbWUnLFxuICAgICAgICAnZ2V0VGltZXpvbmVPZmZzZXQnLFxuICAgICAgICAnZ2V0VVRDRGF0ZScsXG4gICAgICAgICdnZXRVVENEYXknLFxuICAgICAgICAnZ2V0VVRDRnVsbFllYXInLFxuICAgICAgICAnZ2V0VVRDSG91cnMnLFxuICAgICAgICAnZ2V0VVRDTWlsbGlzZWNvbmRzJyxcbiAgICAgICAgJ2dldFVUQ01pbnV0ZXMnLFxuICAgICAgICAnZ2V0VVRDTW9udGgnLFxuICAgICAgICAnZ2V0VVRDU2Vjb25kcycsXG4gICAgICAgICdnZXRZZWFyJyxcbiAgICAgICAgJ3NldERhdGUnLFxuICAgICAgICAnc2V0RnVsbFllYXInLFxuICAgICAgICAnc2V0SG91cnMnLFxuICAgICAgICAnc2V0TWlsbGlzZWNvbmRzJyxcbiAgICAgICAgJ3NldE1pbnV0ZXMnLFxuICAgICAgICAnc2V0TW9udGgnLFxuICAgICAgICAnc2V0U2Vjb25kcycsXG4gICAgICAgICdzZXRUaW1lJyxcbiAgICAgICAgJ3NldFVUQ0RhdGUnLFxuICAgICAgICAnc2V0VVRDRnVsbFllYXInLFxuICAgICAgICAnc2V0VVRDSG91cnMnLFxuICAgICAgICAnc2V0VVRDTWlsbGlzZWNvbmRzJyxcbiAgICAgICAgJ3NldFVUQ01pbnV0ZXMnLFxuICAgICAgICAnc2V0VVRDTW9udGgnLFxuICAgICAgICAnc2V0VVRDU2Vjb25kcycsXG4gICAgICAgICdzZXRZZWFyJyxcbiAgICAgICAgJ3RvRGF0ZVN0cmluZycsXG4gICAgICAgICd0b0lTT1N0cmluZycsXG4gICAgICAgICd0b0pTT04nLFxuICAgICAgICAndG9HTVRTdHJpbmcnLFxuICAgICAgICAndG9Mb2NhbGVEYXRlU3RyaW5nJyxcbiAgICAgICAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgICAgICAgJ3RvTG9jYWxlVGltZVN0cmluZycsXG4gICAgICAgICd0b1RpbWVTdHJpbmcnLFxuICAgICAgICAndG9VVENTdHJpbmcnLFxuICAgIF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd3JhcHBlciA9IChmdW5jdGlvbiAobmF0aXZlRnVuYykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YXJfYXJncykge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW25hdGl2ZUZ1bmNdLmFwcGx5KHRoaXMuZGF0YSwgYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShmdW5jdGlvbnNbaV0pO1xuICAgICAgICB0aGlzLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlKHRoaXMuREFURSwgZnVuY3Rpb25zW2ldLCB3cmFwcGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgUmVndWxhciBFeHByZXNzaW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5pbml0UmVnRXhwID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCkge1xuICAgIHZhciB0aGlzSW50ZXJwcmV0ZXIgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyO1xuICAgIC8vIFJlZ0V4cCBjb25zdHJ1Y3Rvci5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHBhdHRlcm4sIGZsYWdzKSB7XG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAvLyBDYWxsZWQgYXMgYG5ldyBSZWdFeHAoKWAuXG4gICAgICAgICAgICB2YXIgcmd4ID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgUmVnRXhwKClgLlxuICAgICAgICAgICAgdmFyIHJneCA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3RQcm90byh0aGlzSW50ZXJwcmV0ZXIuUkVHRVhQX1BST1RPKTtcbiAgICAgICAgfVxuICAgICAgICBwYXR0ZXJuID0gcGF0dGVybiA/IFN0cmluZyhwYXR0ZXJuKSA6ICcnO1xuICAgICAgICBmbGFncyA9IGZsYWdzID8gU3RyaW5nKGZsYWdzKSA6ICcnO1xuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIucG9wdWxhdGVSZWdFeHAocmd4LCBuZXcgUmVnRXhwKHBhdHRlcm4sIGZsYWdzKSk7XG4gICAgICAgIHJldHVybiByZ3g7XG4gICAgfTtcbiAgICB0aGlzLlJFR0VYUCA9IHRoaXMuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlciwgdHJ1ZSk7XG4gICAgdGhpcy5SRUdFWFBfUFJPVE8gPSB0aGlzLlJFR0VYUC5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXTtcbiAgICB0aGlzLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ1JlZ0V4cCcsIHRoaXMuUkVHRVhQKTtcblxuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuUkVHRVhQLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddLFxuICAgICAgICAnZ2xvYmFsJyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLlJFR0VYUC5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSxcbiAgICAgICAgJ2lnbm9yZUNhc2UnLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuUkVHRVhQLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddLFxuICAgICAgICAnbXVsdGlsaW5lJyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICB0aGlzLlJFR0VYUC5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSxcbiAgICAgICAgJ3NvdXJjZScsXG4gICAgICAgICcoPzopJyxcbiAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG5cbiAgICAvLyBVc2UgcG9seWZpbGwgdG8gYXZvaWQgY29tcGxleGl0eSBvZiByZWdleHAgdGhyZWFkcy5cbiAgICB0aGlzLnBvbHlmaWxsc18ucHVzaChcbiAgICAgICAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVnRXhwLnByb3RvdHlwZSwgJ3Rlc3QnLFwiLFxuICAgICAgICAne2NvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOicsXG4gICAgICAgICdmdW5jdGlvbihzdHIpIHsnLFxuICAgICAgICAncmV0dXJuIFN0cmluZyhzdHIpLnNlYXJjaCh0aGlzKSAhPT0gLTEnLFxuICAgICAgICAnfScsXG4gICAgICAgICd9KTsnLFxuICAgICk7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHN0cmluZywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlZ2V4cCA9IHRoaXMuZGF0YTtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cmluZyk7XG4gICAgICAgIC8vIEdldCBsYXN0SW5kZXggZnJvbSB3cmFwcGVkIHJlZ2V4cCwgc2luY2UgdGhpcyBpcyBzZXR0YWJsZS5cbiAgICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IE51bWJlcih0aGlzSW50ZXJwcmV0ZXIuZ2V0UHJvcGVydHkodGhpcywgJ2xhc3RJbmRleCcpKTtcbiAgICAgICAgLy8gRXhhbXBsZSBvZiBjYXRhc3Ryb3BoaWMgZXhlYyBSZWdFeHA6XG4gICAgICAgIC8vIC9eKGErKStiLy5leGVjKCdhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFjJylcbiAgICAgICAgdGhpc0ludGVycHJldGVyLm1heWJlVGhyb3dSZWdFeHAocmVnZXhwLCBjYWxsYmFjayk7XG4gICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXJbJ1JFR0VYUF9NT0RFJ10gPT09IDIpIHtcbiAgICAgICAgICAgIGlmIChJbnRlcnByZXRlci52bSkge1xuICAgICAgICAgICAgICAgIC8vIFJ1biBleGVjIGluIHZtLlxuICAgICAgICAgICAgICAgIHZhciBzYW5kYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmc6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgcmVnZXhwOiByZWdleHAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICdyZWdleHAuZXhlYyhzdHJpbmcpJztcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzSW50ZXJwcmV0ZXIudm1DYWxsKGNvZGUsIHNhbmRib3gsIHJlZ2V4cCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gSW50ZXJwcmV0ZXIuUkVHRVhQX1RJTUVPVVQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHRoaXMsICdsYXN0SW5kZXgnLCByZWdleHAubGFzdEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobWF0Y2hUb1BzZXVkbyhtYXRjaCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUnVuIGV4ZWMgaW4gc2VwYXJhdGUgdGhyZWFkLlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBsYXN0SW5kZXggaXMgbm90IHByZXNlcnZlZCB3aGVuIGEgUmVnRXhwIGlzIHBhc3NlZCB0byBhXG4gICAgICAgICAgICAgICAgLy8gV2ViIFdvcmtlci4gIFRodXMgaXQgbmVlZHMgdG8gYmUgcGFzc2VkIGJhY2sgYW5kIGZvcnRoIHNlcGFyYXRlbHkuXG4gICAgICAgICAgICAgICAgdmFyIGV4ZWNXb3JrZXIgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlV29ya2VyKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBpZCA9IHRoaXNJbnRlcnByZXRlci5yZWdFeHBUaW1lb3V0KHJlZ2V4cCwgZXhlY1dvcmtlciwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHZhciB0aGlzUHNldWRvUmVnRXhwID0gdGhpcztcbiAgICAgICAgICAgICAgICBleGVjV29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwaWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdHVwbGU6IFtyZXN1bHQsIGxhc3RJbmRleF1cbiAgICAgICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnNldFByb3BlcnR5KHRoaXNQc2V1ZG9SZWdFeHAsICdsYXN0SW5kZXgnLCBlLmRhdGFbMV0pO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtYXRjaFRvUHNldWRvKGUuZGF0YVswXSkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZXhlY1dvcmtlci5wb3N0TWVzc2FnZShbJ2V4ZWMnLCByZWdleHAsIHJlZ2V4cC5sYXN0SW5kZXgsIHN0cmluZ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBleGVjIG5hdGl2ZWx5LlxuICAgICAgICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYyhzdHJpbmcpO1xuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkodGhpcywgJ2xhc3RJbmRleCcsIHJlZ2V4cC5sYXN0SW5kZXgpO1xuICAgICAgICBjYWxsYmFjayhtYXRjaFRvUHNldWRvKG1hdGNoKSk7XG5cbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hUb1BzZXVkbyhtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXNJbnRlcnByZXRlci5hcnJheU5hdGl2ZVRvUHNldWRvKG1hdGNoKTtcbiAgICAgICAgICAgICAgICAvLyBtYXRjaCBoYXMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShyZXN1bHQsICdpbmRleCcsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkocmVzdWx0LCAnaW5wdXQnLCBtYXRjaC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldEFzeW5jRnVuY3Rpb25Qcm90b3R5cGUodGhpcy5SRUdFWFAsICdleGVjJywgd3JhcHBlcik7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEVycm9yIGNsYXNzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmluaXRFcnJvciA9IGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICAvLyBFcnJvciBjb25zdHJ1Y3Rvci5cbiAgICB0aGlzLkVSUk9SID0gdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihmdW5jdGlvbiAob3B0X21lc3NhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXNJbnRlcnByZXRlci5jYWxsZWRXaXRoTmV3KCkpIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgbmV3IEVycm9yKClgLlxuICAgICAgICAgICAgdmFyIG5ld0Vycm9yID0gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBhcyBgRXJyb3IoKWAuXG4gICAgICAgICAgICB2YXIgbmV3RXJyb3IgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0KHRoaXNJbnRlcnByZXRlci5FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdF9tZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgbmV3RXJyb3IsXG4gICAgICAgICAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIFN0cmluZyhvcHRfbWVzc2FnZSksXG4gICAgICAgICAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RXJyb3I7XG4gICAgfSwgdHJ1ZSk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdFcnJvcicsIHRoaXMuRVJST1IpO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuRVJST1IucHJvcGVydGllc1sncHJvdG90eXBlJ10sXG4gICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgJycsXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIHRoaXMuRVJST1IucHJvcGVydGllc1sncHJvdG90eXBlJ10sXG4gICAgICAgICduYW1lJyxcbiAgICAgICAgJ0Vycm9yJyxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG5cbiAgICB2YXIgY3JlYXRlRXJyb3JTdWJjbGFzcyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbihmdW5jdGlvbiAob3B0X21lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzSW50ZXJwcmV0ZXIuY2FsbGVkV2l0aE5ldygpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVkIGFzIGBuZXcgWHl6RXJyb3IoKWAuXG4gICAgICAgICAgICAgICAgdmFyIG5ld0Vycm9yID0gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVkIGFzIGBYeXpFcnJvcigpYC5cbiAgICAgICAgICAgICAgICB2YXIgbmV3RXJyb3IgPSB0aGlzSW50ZXJwcmV0ZXIuY3JlYXRlT2JqZWN0KGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgbmV3RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nKG9wdF9tZXNzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3RXJyb3I7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICdwcm90b3R5cGUnLFxuICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLmNyZWF0ZU9iamVjdCh0aGlzSW50ZXJwcmV0ZXIuRVJST1IpLFxuICAgICAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICAgICApO1xuICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSxcbiAgICAgICAgICAgICduYW1lJyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXNJbnRlcnByZXRlci5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsIG5hbWUsIGNvbnN0cnVjdG9yKTtcblxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgfTtcblxuICAgIHRoaXMuRVZBTF9FUlJPUiA9IGNyZWF0ZUVycm9yU3ViY2xhc3MoJ0V2YWxFcnJvcicpO1xuICAgIHRoaXMuUkFOR0VfRVJST1IgPSBjcmVhdGVFcnJvclN1YmNsYXNzKCdSYW5nZUVycm9yJyk7XG4gICAgdGhpcy5SRUZFUkVOQ0VfRVJST1IgPSBjcmVhdGVFcnJvclN1YmNsYXNzKCdSZWZlcmVuY2VFcnJvcicpO1xuICAgIHRoaXMuU1lOVEFYX0VSUk9SID0gY3JlYXRlRXJyb3JTdWJjbGFzcygnU3ludGF4RXJyb3InKTtcbiAgICB0aGlzLlRZUEVfRVJST1IgPSBjcmVhdGVFcnJvclN1YmNsYXNzKCdUeXBlRXJyb3InKTtcbiAgICB0aGlzLlVSSV9FUlJPUiA9IGNyZWF0ZUVycm9yU3ViY2xhc3MoJ1VSSUVycm9yJyk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgTWF0aCBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdE1hdGggPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0KSB7XG4gICAgdmFyIG15TWF0aCA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5PQkpFQ1RfUFJPVE8pO1xuICAgIHRoaXMuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAnTWF0aCcsIG15TWF0aCk7XG4gICAgdmFyIG1hdGhDb25zdHMgPSBbJ0UnLCAnTE4yJywgJ0xOMTAnLCAnTE9HMkUnLCAnTE9HMTBFJywgJ1BJJywgJ1NRUlQxXzInLCAnU1FSVDInXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGhDb25zdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgIG15TWF0aCxcbiAgICAgICAgICAgIG1hdGhDb25zdHNbaV0sXG4gICAgICAgICAgICBNYXRoW21hdGhDb25zdHNbaV1dLFxuICAgICAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgbnVtRnVuY3Rpb25zID0gW1xuICAgICAgICAnYWJzJyxcbiAgICAgICAgJ2Fjb3MnLFxuICAgICAgICAnYXNpbicsXG4gICAgICAgICdhdGFuJyxcbiAgICAgICAgJ2F0YW4yJyxcbiAgICAgICAgJ2NlaWwnLFxuICAgICAgICAnY29zJyxcbiAgICAgICAgJ2V4cCcsXG4gICAgICAgICdmbG9vcicsXG4gICAgICAgICdsb2cnLFxuICAgICAgICAnbWF4JyxcbiAgICAgICAgJ21pbicsXG4gICAgICAgICdwb3cnLFxuICAgICAgICAncmFuZG9tJyxcbiAgICAgICAgJ3JvdW5kJyxcbiAgICAgICAgJ3NpbicsXG4gICAgICAgICdzcXJ0JyxcbiAgICAgICAgJ3RhbicsXG4gICAgXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgbXlNYXRoLFxuICAgICAgICAgICAgbnVtRnVuY3Rpb25zW2ldLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbihNYXRoW251bUZ1bmN0aW9uc1tpXV0sIGZhbHNlKSxcbiAgICAgICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgSlNPTiBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaW5pdEpTT04gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0KSB7XG4gICAgdmFyIHRoaXNJbnRlcnByZXRlciA9IHRoaXM7XG4gICAgdmFyIG15SlNPTiA9IHRoaXNJbnRlcnByZXRlci5jcmVhdGVPYmplY3RQcm90byh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdKU09OJywgbXlKU09OKTtcblxuICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBuYXRpdmVPYmogPSBKU09OLnBhcnNlKFN0cmluZyh0ZXh0KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuU1lOVEFYX0VSUk9SLCBlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzSW50ZXJwcmV0ZXIubmF0aXZlVG9Qc2V1ZG8obmF0aXZlT2JqKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0UHJvcGVydHkobXlKU09OLCAncGFyc2UnLCB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSk7XG5cbiAgICB3cmFwcGVyID0gZnVuY3Rpb24gKHZhbHVlLCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgICAgaWYgKHJlcGxhY2VyICYmIHJlcGxhY2VyLmNsYXNzID09PSAnRnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgJ0Z1bmN0aW9uIHJlcGxhY2VyIG9uIEpTT04uc3RyaW5naWZ5IG5vdCBzdXBwb3J0ZWQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXBsYWNlciAmJiByZXBsYWNlci5jbGFzcyA9PT0gJ0FycmF5Jykge1xuICAgICAgICAgICAgcmVwbGFjZXIgPSB0aGlzSW50ZXJwcmV0ZXIuYXJyYXlQc2V1ZG9Ub05hdGl2ZShyZXBsYWNlcik7XG4gICAgICAgICAgICByZXBsYWNlciA9IHJlcGxhY2VyLmZpbHRlcihmdW5jdGlvbiAod29yZCkge1xuICAgICAgICAgICAgICAgIC8vIFNwZWMgc2F5cyB3ZSBzaG91bGQgYWxzbyBzdXBwb3J0IGJveGVkIHByaW1pdGl2ZXMgaGVyZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHdvcmQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB3b3JkID09PSAnbnVtYmVyJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwbGFjZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNwZWMgc2F5cyB3ZSBzaG91bGQgYWxzbyBzdXBwb3J0IGJveGVkIHByaW1pdGl2ZXMgaGVyZS5cbiAgICAgICAgaWYgKHR5cGVvZiBzcGFjZSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHNwYWNlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgc3BhY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmF0aXZlT2JqID0gdGhpc0ludGVycHJldGVyLnBzZXVkb1RvTmF0aXZlKHZhbHVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShuYXRpdmVPYmosIHJlcGxhY2VyLCBzcGFjZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXNJbnRlcnByZXRlci50aHJvd0V4Y2VwdGlvbih0aGlzSW50ZXJwcmV0ZXIuVFlQRV9FUlJPUiwgZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShteUpTT04sICdzdHJpbmdpZnknLCB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsIGZhbHNlKSk7XG59O1xuXG4vKipcbiAqIElzIGFuIG9iamVjdCBvZiBhIGNlcnRhaW4gY2xhc3M/XG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSBjaGlsZCBPYmplY3QgdG8gY2hlY2suXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gY29uc3RydWN0b3IgQ29uc3RydWN0b3Igb2Ygb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBvYmplY3QgaXMgdGhlIGNsYXNzIG9yIGluaGVyaXRzIGZyb20gaXQuXG4gKiAgICAgRmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaXNhID0gZnVuY3Rpb24gKGNoaWxkLCBjb25zdHJ1Y3Rvcikge1xuICAgIGlmIChjaGlsZCA9PT0gbnVsbCB8fCBjaGlsZCA9PT0gdW5kZWZpbmVkIHx8ICFjb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGNvbnN0cnVjdG9yLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICAgIGlmIChjaGlsZCA9PT0gcHJvdG8pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFRoZSBmaXJzdCBzdGVwIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4gaXMgaGFyZGVyIHNpbmNlIHRoZSBjaGlsZCBtaWdodCBiZVxuICAgIC8vIGEgcHJpbWl0aXZlIHZhbHVlLiAgU3Vic2VxdWVudCBzdGVwcyBjYW4ganVzdCBmb2xsb3cgdGhlIC5wcm90byBwcm9wZXJ0eS5cbiAgICBjaGlsZCA9IHRoaXMuZ2V0UHJvdG90eXBlKGNoaWxkKTtcbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBwcm90bykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQgPSBjaGlsZC5wcm90bztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgcHNldWRvIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QgYmFzZWQgb24gYSBuYXRpdmUgcmVndWxhclxuICogZXhwcmVzc2lvbiBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IHBzZXVkb1JlZ2V4cCBUaGUgZXhpc3Rpbmcgb2JqZWN0IHRvIHNldC5cbiAqIEBwYXJhbSB7IVJlZ0V4cH0gbmF0aXZlUmVnZXhwIFRoZSBuYXRpdmUgcmVndWxhciBleHByZXNzaW9uLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUucG9wdWxhdGVSZWdFeHAgPSBmdW5jdGlvbiAocHNldWRvUmVnZXhwLCBuYXRpdmVSZWdleHApIHtcbiAgICBwc2V1ZG9SZWdleHAuZGF0YSA9IG5ldyBSZWdFeHAobmF0aXZlUmVnZXhwLnNvdXJjZSwgbmF0aXZlUmVnZXhwLmZsYWdzKTtcbiAgICAvLyBsYXN0SW5kZXggaXMgc2V0dGFibGUsIGFsbCBvdGhlcnMgYXJlIHJlYWQtb25seSBhdHRyaWJ1dGVzXG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgcHNldWRvUmVnZXhwLFxuICAgICAgICAnbGFzdEluZGV4JyxcbiAgICAgICAgbmF0aXZlUmVnZXhwLmxhc3RJbmRleCxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgcHNldWRvUmVnZXhwLFxuICAgICAgICAnc291cmNlJyxcbiAgICAgICAgbmF0aXZlUmVnZXhwLnNvdXJjZSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgcHNldWRvUmVnZXhwLFxuICAgICAgICAnZ2xvYmFsJyxcbiAgICAgICAgbmF0aXZlUmVnZXhwLmdsb2JhbCxcbiAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgcHNldWRvUmVnZXhwLFxuICAgICAgICAnaWdub3JlQ2FzZScsXG4gICAgICAgIG5hdGl2ZVJlZ2V4cC5pZ25vcmVDYXNlLFxuICAgICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICBwc2V1ZG9SZWdleHAsXG4gICAgICAgICdtdWx0aWxpbmUnLFxuICAgICAgICBuYXRpdmVSZWdleHAubXVsdGlsaW5lLFxuICAgICAgICBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IsXG4gICAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgV2ViIFdvcmtlciB0byBleGVjdXRlIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gKiBVc2luZyBhIHNlcGFyYXRlIGZpbGUgZmFpbHMgaW4gQ2hyb21lIHdoZW4gcnVuIGxvY2FsbHkgb24gYSBmaWxlOi8vIFVSSS5cbiAqIFVzaW5nIGEgZGF0YSBlbmNvZGVkIFVSSSBmYWlscyBpbiBJRSBhbmQgRWRnZS5cbiAqIFVzaW5nIGEgYmxvYiB3b3JrcyBpbiBJRTExIGFuZCBhbGwgb3RoZXIgYnJvd3NlcnMuXG4gKiBAcmV0dXJuIHshV29ya2VyfSBXZWIgV29ya2VyIHdpdGggcmVnZXhwIGV4ZWN1dGlvbiBjb2RlIGxvYWRlZC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYmxvYiA9IHRoaXMuY3JlYXRlV29ya2VyLmJsb2JfO1xuICAgIGlmICghYmxvYikge1xuICAgICAgICBibG9iID0gbmV3IEJsb2IoW0ludGVycHJldGVyLldPUktFUl9DT0RFLmpvaW4oJ1xcbicpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgfSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBibG9iLCBzbyBpdCBkb2Vzbid0IG5lZWQgdG8gYmUgY3JlYXRlZCBuZXh0IHRpbWUuXG4gICAgICAgIHRoaXMuY3JlYXRlV29ya2VyLmJsb2JfID0gYmxvYjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgcmVndWxhciBleHByZXNzaW9ucyBpbiBhIG5vZGUgdm0uXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZSBDb2RlIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0geyFPYmplY3R9IHNhbmRib3ggR2xvYmFsIHZhcmlhYmxlcyBmb3IgbmV3IHZtLlxuICogQHBhcmFtIHshUmVnRXhwfSBuYXRpdmVSZWdFeHAgUmVndWxhciBleHByZXNzaW9uLlxuICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrIEFzeW5jaHJvbm91cyBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnZtQ2FsbCA9IGZ1bmN0aW9uIChjb2RlLCBzYW5kYm94LCBuYXRpdmVSZWdFeHAsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7IHRpbWVvdXQ6IHRoaXNbJ1JFR0VYUF9USFJFQURfVElNRU9VVCddIH07XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEludGVycHJldGVyLnZtWydydW5Jbk5ld0NvbnRleHQnXShjb2RlLCBzYW5kYm94LCBvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuRVJST1IsICdSZWdFeHAgVGltZW91dDogJyArIG5hdGl2ZVJlZ0V4cCk7XG4gICAgfVxuICAgIHJldHVybiBJbnRlcnByZXRlci5SRUdFWFBfVElNRU9VVDtcbn07XG5cbi8qKlxuICogSWYgUkVHRVhQX01PREUgaXMgMCwgdGhlbiB0aHJvdyBhbiBlcnJvci5cbiAqIEFsc28gdGhyb3cgaWYgUkVHRVhQX01PREUgaXMgMiBhbmQgSlMgZG9lc24ndCBzdXBwb3J0IFdlYiBXb3JrZXJzIG9yIHZtLlxuICogQHBhcmFtIHshUmVnRXhwfSBuYXRpdmVSZWdFeHAgUmVndWxhciBleHByZXNzaW9uLlxuICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrIEFzeW5jaHJvbm91cyBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLm1heWJlVGhyb3dSZWdFeHAgPSBmdW5jdGlvbiAobmF0aXZlUmVnRXhwLCBjYWxsYmFjaykge1xuICAgIHZhciBvaztcbiAgICBpZiAodGhpc1snUkVHRVhQX01PREUnXSA9PT0gMCkge1xuICAgICAgICAvLyBGYWlsOiBObyBSZWdFeHAgc3VwcG9ydC5cbiAgICAgICAgb2sgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRoaXNbJ1JFR0VYUF9NT0RFJ10gPT09IDEpIHtcbiAgICAgICAgLy8gT2s6IE5hdGl2ZSBSZWdFeHAgc3VwcG9ydC5cbiAgICAgICAgb2sgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNhbmRib3hlZCBSZWdFeHAgaGFuZGxpbmcuXG4gICAgICAgIGlmIChJbnRlcnByZXRlci52bSkge1xuICAgICAgICAgICAgLy8gT2s6IE5vZGUncyB2bSBtb2R1bGUgYWxyZWFkeSBsb2FkZWQuXG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFdvcmtlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgVVJMID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBPazogV2ViIFdvcmtlcnMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbG9hZCBOb2RlJ3Mgdm0gbW9kdWxlLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBJbnRlcnByZXRlci52bSA9IHJlcXVpcmUoJ3ZtJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgb2sgPSAhIUludGVycHJldGVyLnZtO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFpbDogTmVpdGhlciBXZWIgV29ya2VycyBub3Igdm0gYXZhaWxhYmxlLlxuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9rKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuRVJST1IsICdSZWd1bGFyIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWQ6ICcgKyBuYXRpdmVSZWdFeHApO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgdGltZW91dCBmb3IgcmVndWxhciBleHByZXNzaW9uIHRocmVhZHMuICBVbmxlc3MgY2FuY2VsbGVkLCB0aGlzIHdpbGxcbiAqIHRlcm1pbmF0ZSB0aGUgdGhyZWFkIGFuZCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSB7IVJlZ0V4cH0gbmF0aXZlUmVnRXhwIFJlZ3VsYXIgZXhwcmVzc2lvbiAodXNlZCBmb3IgZXJyb3IgbWVzc2FnZSkuXG4gKiBAcGFyYW0geyFXb3JrZXJ9IHdvcmtlciBUaHJlYWQgdG8gdGVybWluYXRlLlxuICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrIEFzeW5jIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGV4ZWN1dGlvbi5cbiAqIEByZXR1cm4ge251bWJlcn0gUElEIG9mIHRpbWVvdXQuICBVc2VkIHRvIGNhbmNlbCBpZiB0aHJlYWQgY29tcGxldGVzLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUucmVnRXhwVGltZW91dCA9IGZ1bmN0aW9uIChuYXRpdmVSZWdFeHAsIHdvcmtlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLkVSUk9SLFxuICAgICAgICAgICAgICAgICdSZWdFeHAgVGltZW91dDogJyArIG5hdGl2ZVJlZ0V4cCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEVhdCB0aGUgZXhwZWN0ZWQgSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUi5cbiAgICAgICAgfVxuICAgIH0sIHRoaXNbJ1JFR0VYUF9USFJFQURfVElNRU9VVCddKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGRhdGEgb2JqZWN0IGJhc2VkIG9uIGEgY29uc3RydWN0b3IncyBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gY29uc3RydWN0b3IgUGFyZW50IGNvbnN0cnVjdG9yIGZ1bmN0aW9uLFxuICogICAgIG9yIG51bGwgaWYgc2NvcGUgb2JqZWN0LlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGRhdGEgb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8oY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IucHJvcGVydGllc1sncHJvdG90eXBlJ10pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZGF0YSBvYmplY3QgYmFzZWQgb24gYSBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gcHJvdG8gUHJvdG90eXBlIG9iamVjdC5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IE5ldyBkYXRhIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZU9iamVjdFByb3RvID0gZnVuY3Rpb24gKHByb3RvKSB7XG4gICAgaWYgKHR5cGVvZiBwcm90byAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vbiBvYmplY3QgcHJvdG90eXBlJyk7XG4gICAgfVxuICAgIHZhciBvYmogPSBuZXcgSW50ZXJwcmV0ZXIuT2JqZWN0KHByb3RvKTtcbiAgICBpZiAodGhpcy5pc2Eob2JqLCB0aGlzLkVSUk9SKSkge1xuICAgICAgICAvLyBSZWNvcmQgdGhpcyBvYmplY3QgYXMgYmVpbmcgYW4gZXJyb3Igc28gdGhhdCBpdHMgdG9TdHJpbmcgZnVuY3Rpb24gY2FuXG4gICAgICAgIC8vIHByb2Nlc3MgaXQgY29ycmVjdGx5ICh0b1N0cmluZyBoYXMgbm8gYWNjZXNzIHRvIHRoZSBpbnRlcnByZXRlciBhbmQgY291bGRcbiAgICAgICAgLy8gbm90IG90aGVyd2lzZSBkZXRlcm1pbmUgdGhhdCB0aGUgb2JqZWN0IGlzIGFuIGVycm9yKS5cbiAgICAgICAgb2JqLmNsYXNzID0gJ0Vycm9yJztcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFycmF5LlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGFycmF5LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLkFSUkFZX1BST1RPKTtcbiAgICAvLyBBcnJheXMgaGF2ZSBsZW5ndGguXG4gICAgdGhpcy5zZXRQcm9wZXJ0eShhcnJheSwgJ2xlbmd0aCcsIDAsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIH0pO1xuICAgIGFycmF5LmNsYXNzID0gJ0FycmF5JztcbiAgICByZXR1cm4gYXJyYXk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QgKGNvdWxkIGJlY29tZSBpbnRlcnByZXRlZCBvciBuYXRpdmUgb3IgYXN5bmMpLlxuICogQHBhcmFtIHtudW1iZXJ9IGFyZ3VtZW50TGVuZ3RoIE51bWJlciBvZiBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ29uc3RydWN0b3IgVHJ1ZSBpZiBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aXRoICduZXcnLlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZUZ1bmN0aW9uQmFzZV8gPSBmdW5jdGlvbiAoYXJndW1lbnRMZW5ndGgsIGlzQ29uc3RydWN0b3IpIHtcbiAgICB2YXIgZnVuYyA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5GVU5DVElPTl9QUk9UTyk7XG4gICAgaWYgKGlzQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdmFyIHByb3RvID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLk9CSkVDVF9QUk9UTyk7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydHkoZnVuYywgJ3Byb3RvdHlwZScsIHByb3RvLCBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KHByb3RvLCAnY29uc3RydWN0b3InLCBmdW5jLCBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bmMuaWxsZWdhbENvbnN0cnVjdG9yID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAnbGVuZ3RoJywgYXJndW1lbnRMZW5ndGgsIEludGVycHJldGVyLlJFQURPTkxZX05PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUik7XG4gICAgZnVuYy5jbGFzcyA9ICdGdW5jdGlvbic7XG4gICAgcmV0dXJuIGZ1bmM7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnRlcnByZXRlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IU9iamVjdH0gbm9kZSBBU1Qgbm9kZSBkZWZpbmluZyB0aGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5TY29wZX0gc2NvcGUgUGFyZW50IHNjb3BlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbmFtZSBPcHRpb25hbCBuYW1lIGZvciBmdW5jdGlvbi5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IE5ldyBmdW5jdGlvbi5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZUZ1bmN0aW9uID0gZnVuY3Rpb24gKG5vZGUsIHNjb3BlLCBvcHRfbmFtZSkge1xuICAgIHZhciBmdW5jID0gdGhpcy5jcmVhdGVGdW5jdGlvbkJhc2VfKG5vZGVbJ3BhcmFtcyddLmxlbmd0aCwgdHJ1ZSk7XG4gICAgZnVuYy5wYXJlbnRTY29wZSA9IHNjb3BlO1xuICAgIGZ1bmMubm9kZSA9IG5vZGU7XG4gICAgLy8gQ2hvb3NlIGEgbmFtZSBmb3IgdGhpcyBmdW5jdGlvbi5cbiAgICAvLyBmdW5jdGlvbiBmb28oKSB7fSAgICAgICAgICAgICAtPiAnZm9vJ1xuICAgIC8vIHZhciBiYXIgPSBmdW5jdGlvbigpIHt9OyAgICAgIC0+ICdiYXInXG4gICAgLy8gdmFyIGJhciA9IGZ1bmN0aW9uIGZvbygpIHt9OyAgLT4gJ2ZvbydcbiAgICAvLyBmb28uYmFyID0gZnVuY3Rpb24oKSB7fTsgICAgICAtPiAnJ1xuICAgIC8vIHZhciBiYXIgPSBuZXcgRnVuY3Rpb24oJycpOyAgIC0+ICdhbm9ueW1vdXMnXG4gICAgdmFyIG5hbWUgPSBub2RlWydpZCddID8gU3RyaW5nKG5vZGVbJ2lkJ11bJ25hbWUnXSkgOiBvcHRfbmFtZSB8fCAnJztcbiAgICB0aGlzLnNldFByb3BlcnR5KGZ1bmMsICduYW1lJywgbmFtZSwgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SKTtcbiAgICByZXR1cm4gZnVuYztcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG5hdGl2ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBuYXRpdmVGdW5jIEphdmFTY3JpcHQgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ29uc3RydWN0b3IgVHJ1ZSBpZiBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aXRoICduZXcnLlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdH0gTmV3IGZ1bmN0aW9uLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlTmF0aXZlRnVuY3Rpb24gPSBmdW5jdGlvbiAobmF0aXZlRnVuYywgaXNDb25zdHJ1Y3Rvcikge1xuICAgIHZhciBmdW5jID0gdGhpcy5jcmVhdGVGdW5jdGlvbkJhc2VfKG5hdGl2ZUZ1bmMubGVuZ3RoLCBpc0NvbnN0cnVjdG9yKTtcbiAgICBmdW5jLm5hdGl2ZUZ1bmMgPSBuYXRpdmVGdW5jO1xuICAgIG5hdGl2ZUZ1bmMuaWQgPSB0aGlzLmZ1bmN0aW9uQ291bnRlcl8rKztcbiAgICB0aGlzLnNldFByb3BlcnR5KGZ1bmMsICduYW1lJywgbmF0aXZlRnVuYy5uYW1lLCBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIHJldHVybiBmdW5jO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbmF0aXZlIGFzeW5jaHJvbm91cyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBhc3luY0Z1bmMgSmF2YVNjcmlwdCBmdW5jdGlvbi5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IE5ldyBmdW5jdGlvbi5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZUFzeW5jRnVuY3Rpb24gPSBmdW5jdGlvbiAoYXN5bmNGdW5jKSB7XG4gICAgdmFyIGZ1bmMgPSB0aGlzLmNyZWF0ZUZ1bmN0aW9uQmFzZV8oYXN5bmNGdW5jLmxlbmd0aCwgdHJ1ZSk7XG4gICAgZnVuYy5hc3luY0Z1bmMgPSBhc3luY0Z1bmM7XG4gICAgYXN5bmNGdW5jLmlkID0gdGhpcy5mdW5jdGlvbkNvdW50ZXJfKys7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eShmdW5jLCAnbmFtZScsIGFzeW5jRnVuYy5uYW1lLCBJbnRlcnByZXRlci5SRUFET05MWV9OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIHJldHVybiBmdW5jO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0IG9yIHZhbHVlIHRvIGEgSlMtSW50ZXJwcmV0ZXIgb2JqZWN0LlxuICogQ2FuIGhhbmRsZSBKU09OLXN0eWxlIHZhbHVlcywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMgYW5kIGZ1bmN0aW9ucy5cbiAqIERvZXMgTk9UIGhhbmRsZSBjeWNsZXMuXG4gKiBAcGFyYW0geyp9IG5hdGl2ZU9iaiBUaGUgbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0IHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm4ge0ludGVycHJldGVyLlZhbHVlfSBUaGUgZXF1aXZhbGVudCBKUy1JbnRlcnByZXRlciBvYmplY3QuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5uYXRpdmVUb1BzZXVkbyA9IGZ1bmN0aW9uIChuYXRpdmVPYmopIHtcbiAgICBpZiAobmF0aXZlT2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICAgIHRocm93IEVycm9yKCdPYmplY3QgaXMgYWxyZWFkeSBwc2V1ZG8nKTtcbiAgICB9XG4gICAgaWYgKCh0eXBlb2YgbmF0aXZlT2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgbmF0aXZlT2JqICE9PSAnZnVuY3Rpb24nKSB8fCBuYXRpdmVPYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU9iajtcbiAgICB9XG5cbiAgICBpZiAobmF0aXZlT2JqIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHZhciBwc2V1ZG9SZWdleHAgPSB0aGlzLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuUkVHRVhQX1BST1RPKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlZ0V4cChwc2V1ZG9SZWdleHAsIG5hdGl2ZU9iaik7XG4gICAgICAgIHJldHVybiBwc2V1ZG9SZWdleHA7XG4gICAgfVxuXG4gICAgaWYgKG5hdGl2ZU9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgdmFyIHBzZXVkb0RhdGUgPSB0aGlzLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuREFURV9QUk9UTyk7XG4gICAgICAgIHBzZXVkb0RhdGUuZGF0YSA9IG5ldyBEYXRlKG5hdGl2ZU9iai52YWx1ZU9mKCkpO1xuICAgICAgICByZXR1cm4gcHNldWRvRGF0ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hdGl2ZU9iaiA9PT0gJ29iamVjdCcgJiYgbmF0aXZlT2JqLmhhc093blByb3BlcnR5KCdfczhhc3luYycpKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQXN5bmNGdW5jdGlvbihuYXRpdmVPYmoucnVuKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hdGl2ZU9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNJbnRlcnByZXRlci5wc2V1ZG9Ub05hdGl2ZShpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbmF0aXZlT2JqLmFwcGx5KHRoaXNJbnRlcnByZXRlciwgYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpc0ludGVycHJldGVyLm5hdGl2ZVRvUHNldWRvKHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobmF0aXZlT2JqLCAncHJvdG90eXBlJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIsICEhcHJvdG90eXBlKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYXRpdmVPYmopKSB7XG4gICAgICAgIC8vIEFycmF5LlxuICAgICAgICB2YXIgcHNldWRvQXJyYXkgPSB0aGlzLmNyZWF0ZUFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF0aXZlT2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBuYXRpdmVPYmopIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5KHBzZXVkb0FycmF5LCBpLCB0aGlzLm5hdGl2ZVRvUHNldWRvKG5hdGl2ZU9ialtpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwc2V1ZG9BcnJheTtcbiAgICB9XG5cbiAgICAvLyBPYmplY3QuXG4gICAgdmFyIHBzZXVkb09iaiA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5PQkpFQ1RfUFJPVE8pO1xuICAgIGZvciAodmFyIGtleSBpbiBuYXRpdmVPYmopIHtcbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShwc2V1ZG9PYmosIGtleSwgdGhpcy5uYXRpdmVUb1BzZXVkbyhuYXRpdmVPYmpba2V5XSkpO1xuICAgIH1cbiAgICByZXR1cm4gcHNldWRvT2JqO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgSlMtSW50ZXJwcmV0ZXIgb2JqZWN0IHRvIG5hdGl2ZSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIENhbiBoYW5kbGUgSlNPTi1zdHlsZSB2YWx1ZXMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGFuZCBkYXRlcy5cbiAqIERvZXMgaGFuZGxlIGN5Y2xlcy5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHBzZXVkb09iaiBUaGUgSlMtSW50ZXJwcmV0ZXIgb2JqZWN0IHRvIGJlXG4gKiBjb252ZXJ0ZWQuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9jeWNsZXMgQ3ljbGUgZGV0ZWN0aW9uICh1c2VkIGluIHJlY3Vyc2l2ZSBjYWxscykuXG4gKiBAcmV0dXJuIHsqfSBUaGUgZXF1aXZhbGVudCBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3Qgb3IgdmFsdWUuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5wc2V1ZG9Ub05hdGl2ZSA9IGZ1bmN0aW9uIChwc2V1ZG9PYmosIG9wdF9jeWNsZXMpIHtcbiAgICBpZiAoKHR5cGVvZiBwc2V1ZG9PYmogIT09ICdvYmplY3QnICYmIHR5cGVvZiBwc2V1ZG9PYmogIT09ICdmdW5jdGlvbicpIHx8IHBzZXVkb09iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcHNldWRvT2JqO1xuICAgIH1cbiAgICBpZiAoIShwc2V1ZG9PYmogaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdPYmplY3QgaXMgbm90IHBzZXVkbycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzYShwc2V1ZG9PYmosIHRoaXMuUkVHRVhQKSkge1xuICAgICAgICAvLyBSZWd1bGFyIGV4cHJlc3Npb24uXG4gICAgICAgIHZhciBuYXRpdmVSZWdFeHAgPSBuZXcgUmVnRXhwKHBzZXVkb09iai5kYXRhLnNvdXJjZSwgcHNldWRvT2JqLmRhdGEuZmxhZ3MpO1xuICAgICAgICBuYXRpdmVSZWdFeHAubGFzdEluZGV4ID0gcHNldWRvT2JqLmRhdGEubGFzdEluZGV4O1xuICAgICAgICByZXR1cm4gbmF0aXZlUmVnRXhwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzYShwc2V1ZG9PYmosIHRoaXMuREFURSkpIHtcbiAgICAgICAgLy8gRGF0ZS5cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHBzZXVkb09iai5kYXRhLnZhbHVlT2YoKSk7XG4gICAgfVxuXG4gICAgdmFyIGN5Y2xlcyA9IG9wdF9jeWNsZXMgfHwge1xuICAgICAgICBwc2V1ZG86IFtdLFxuICAgICAgICBuYXRpdmU6IFtdLFxuICAgIH07XG4gICAgdmFyIGkgPSBjeWNsZXMucHNldWRvLmluZGV4T2YocHNldWRvT2JqKTtcbiAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGN5Y2xlcy5uYXRpdmVbaV07XG4gICAgfVxuICAgIGN5Y2xlcy5wc2V1ZG8ucHVzaChwc2V1ZG9PYmopO1xuICAgIHZhciBuYXRpdmVPYmo7XG4gICAgaWYgKHRoaXMuaXNhKHBzZXVkb09iaiwgdGhpcy5BUlJBWSkpIHtcbiAgICAgICAgLy8gQXJyYXkuXG4gICAgICAgIG5hdGl2ZU9iaiA9IFtdO1xuICAgICAgICBjeWNsZXMubmF0aXZlLnB1c2gobmF0aXZlT2JqKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZ2V0UHJvcGVydHkocHNldWRvT2JqLCAnbGVuZ3RoJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1Byb3BlcnR5KHBzZXVkb09iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVPYmpbaV0gPSB0aGlzLnBzZXVkb1RvTmF0aXZlKHRoaXMuZ2V0UHJvcGVydHkocHNldWRvT2JqLCBpKSwgY3ljbGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9iamVjdC5cbiAgICAgICAgbmF0aXZlT2JqID0ge307XG4gICAgICAgIGN5Y2xlcy5uYXRpdmUucHVzaChuYXRpdmVPYmopO1xuICAgICAgICB2YXIgdmFsO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHNldWRvT2JqLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHZhbCA9IHRoaXMucHNldWRvVG9OYXRpdmUocHNldWRvT2JqLnByb3BlcnRpZXNba2V5XSwgY3ljbGVzKTtcbiAgICAgICAgICAgIC8vIFVzZSBkZWZpbmVQcm9wZXJ0eSB0byBhdm9pZCBzaWRlIGVmZmVjdHMgaWYgc2V0dGluZyAnX19wcm90b19fJy5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXRpdmVPYmosIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjeWNsZXMucHNldWRvLnBvcCgpO1xuICAgIGN5Y2xlcy5uYXRpdmUucG9wKCk7XG4gICAgcmV0dXJuIG5hdGl2ZU9iajtcbn07XG5cbi8qKlxuICogQ29udmVydHMgZnJvbSBhIG5hdGl2ZSBKYXZhU2NyaXB0IGFycmF5IHRvIGEgSlMtSW50ZXJwcmV0ZXIgYXJyYXkuXG4gKiBEb2VzIGhhbmRsZSBub24tbnVtZXJpYyBwcm9wZXJ0aWVzIChsaWtlIHN0ci5tYXRjaCdzIGluZGV4IHByb3ApLlxuICogRG9lcyBOT1QgcmVjdXJzZSBpbnRvIHRoZSBhcnJheSdzIGNvbnRlbnRzLlxuICogQHBhcmFtIHshQXJyYXl9IG5hdGl2ZUFycmF5IFRoZSBKYXZhU2NyaXB0IGFycmF5IHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R9IFRoZSBlcXVpdmFsZW50IEpTLUludGVycHJldGVyIGFycmF5LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuYXJyYXlOYXRpdmVUb1BzZXVkbyA9IGZ1bmN0aW9uIChuYXRpdmVBcnJheSkge1xuICAgIHZhciBwc2V1ZG9BcnJheSA9IHRoaXMuY3JlYXRlQXJyYXkoKTtcbiAgICB2YXIgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuYXRpdmVBcnJheSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KHBzZXVkb0FycmF5LCBwcm9wc1tpXSwgbmF0aXZlQXJyYXlbcHJvcHNbaV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHBzZXVkb0FycmF5O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgSlMtSW50ZXJwcmV0ZXIgYXJyYXkgdG8gbmF0aXZlIEphdmFTY3JpcHQgYXJyYXkuXG4gKiBEb2VzIGhhbmRsZSBub24tbnVtZXJpYyBwcm9wZXJ0aWVzIChsaWtlIHN0ci5tYXRjaCdzIGluZGV4IHByb3ApLlxuICogRG9lcyBOT1QgcmVjdXJzZSBpbnRvIHRoZSBhcnJheSdzIGNvbnRlbnRzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBwc2V1ZG9BcnJheSBUaGUgSlMtSW50ZXJwcmV0ZXIgYXJyYXksXG4gKiAgICAgb3IgSlMtSW50ZXJwcmV0ZXIgb2JqZWN0IHByZXRlbmRpbmcgdG8gYmUgYW4gYXJyYXkuXG4gKiBAcmV0dXJuIHshQXJyYXl9IFRoZSBlcXVpdmFsZW50IG5hdGl2ZSBKYXZhU2NyaXB0IGFycmF5LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuYXJyYXlQc2V1ZG9Ub05hdGl2ZSA9IGZ1bmN0aW9uIChwc2V1ZG9BcnJheSkge1xuICAgIHZhciBuYXRpdmVBcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBwc2V1ZG9BcnJheS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIG5hdGl2ZUFycmF5W2tleV0gPSB0aGlzLmdldFByb3BlcnR5KHBzZXVkb0FycmF5LCBrZXkpO1xuICAgIH1cbiAgICAvLyBwc2V1ZG9BcnJheSBtaWdodCBiZSBhbiBvYmplY3QgcHJldGVuZGluZyB0byBiZSBhbiBhcnJheS4gIEluIHRoaXMgY2FzZVxuICAgIC8vIGl0J3MgcG9zc2libGUgdGhhdCBsZW5ndGggaXMgbm9uLWV4aXN0ZW50LCBpbnZhbGlkLCBvciBzbWFsbGVyIHRoYW4gdGhlXG4gICAgLy8gbGFyZ2VzdCBkZWZpbmVkIG51bWVyaWMgcHJvcGVydHkuICBTZXQgbGVuZ3RoIGV4cGxpY2l0bHkgaGVyZS5cbiAgICBuYXRpdmVBcnJheS5sZW5ndGggPSBJbnRlcnByZXRlci5sZWdhbEFycmF5TGVuZ3RoKHRoaXMuZ2V0UHJvcGVydHkocHNldWRvQXJyYXksICdsZW5ndGgnKSkgfHwgMDtcbiAgICByZXR1cm4gbmF0aXZlQXJyYXk7XG59O1xuXG4vKipcbiAqIExvb2sgdXAgdGhlIHByb3RvdHlwZSBmb3IgdGhpcyB2YWx1ZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHZhbHVlIERhdGEgb2JqZWN0LlxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuT2JqZWN0fSBQcm90b3R5cGUgb2JqZWN0LCBudWxsIGlmIG5vbmUuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXRQcm90b3R5cGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuTlVNQkVSLnByb3BlcnRpZXNbJ3Byb3RvdHlwZSddO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkJPT0xFQU4ucHJvcGVydGllc1sncHJvdG90eXBlJ107XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5TVFJJTkcucHJvcGVydGllc1sncHJvdG90eXBlJ107XG4gICAgfVxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUucHJvdG87XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBGZXRjaCBhIHByb3BlcnR5IHZhbHVlIGZyb20gYSBkYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge0ludGVycHJldGVyLlZhbHVlfSBQcm9wZXJ0eSB2YWx1ZSAobWF5IGJlIHVuZGVmaW5lZCkuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIG5hbWUpIHtcbiAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgICB0aHJvdyBFcnJvcignR2V0dGVyIG5vdCBzdXBwb3J0ZWQgaW4gdGhhdCBjb250ZXh0Jyk7XG4gICAgfVxuICAgIG5hbWUgPSBTdHJpbmcobmFtZSk7XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUiwgXCJDYW5ub3QgcmVhZCBwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCInIG9mIFwiICsgb2JqKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICEob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGluZyBuYXRpdmUgdmFsdWUgb3IgcHNldWRvIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlcyBmb3IgbWFnaWMgbGVuZ3RoIHByb3BlcnR5LlxuICAgICAgICBpZiAodGhpcy5pc2Eob2JqLCB0aGlzLlNUUklORykpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcob2JqKS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hbWUuY2hhckNvZGVBdCgwKSA8IDB4NDApIHtcbiAgICAgICAgLy8gTWlnaHQgaGF2ZSBudW1iZXJzIGluIHRoZXJlP1xuICAgICAgICAvLyBTcGVjaWFsIGNhc2VzIGZvciBzdHJpbmcgYXJyYXkgaW5kZXhpbmdcbiAgICAgICAgaWYgKHRoaXMuaXNhKG9iaiwgdGhpcy5TVFJJTkcpKSB7XG4gICAgICAgICAgICB2YXIgbiA9IEludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleChuYW1lKTtcbiAgICAgICAgICAgIGlmICghaXNOYU4obikgJiYgbiA8IFN0cmluZyhvYmopLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcob2JqKVtuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkbyB7XG4gICAgICAgIGlmIChvYmoucHJvcGVydGllcyAmJiBuYW1lIGluIG9iai5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gb2JqLmdldHRlcltuYW1lXTtcbiAgICAgICAgICAgIGlmIChnZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBGbGFnIHRoaXMgZnVuY3Rpb24gYXMgYmVpbmcgYSBnZXR0ZXIgYW5kIHRodXMgbmVlZGluZyBpbW1lZGlhdGVcbiAgICAgICAgICAgICAgICAvLyBleGVjdXRpb24gKHJhdGhlciB0aGFuIGJlaW5nIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkpLlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0dGVyU3RlcF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqLnByb3BlcnRpZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9IHdoaWxlICgob2JqID0gdGhpcy5nZXRQcm90b3R5cGUob2JqKSkpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIERvZXMgdGhlIG5hbWVkIHByb3BlcnR5IGV4aXN0IG9uIGEgZGF0YSBvYmplY3QuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgZXhpc3RzLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaGFzUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgaWYgKCEob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ1ByaW1pdGl2ZSBkYXRhIHR5cGUgaGFzIG5vIHByb3BlcnRpZXMnKTtcbiAgICB9XG4gICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICBpZiAobmFtZSA9PT0gJ2xlbmd0aCcgJiYgdGhpcy5pc2Eob2JqLCB0aGlzLlNUUklORykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzYShvYmosIHRoaXMuU1RSSU5HKSkge1xuICAgICAgICB2YXIgbiA9IEludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleChuYW1lKTtcbiAgICAgICAgaWYgKCFpc05hTihuKSAmJiBuIDwgU3RyaW5nKG9iaikubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkbyB7XG4gICAgICAgIGlmIChvYmoucHJvcGVydGllcyAmJiBuYW1lIGluIG9iai5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKChvYmogPSB0aGlzLmdldFByb3RvdHlwZShvYmopKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSB2YWx1ZSBvbiBhIGRhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gb2JqIERhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gbmFtZSBOYW1lIG9mIHByb3BlcnR5LlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlLlxuICogICAgIFVzZSBJbnRlcnByZXRlci5WQUxVRV9JTl9ERVNDUklQVE9SIGlmIHZhbHVlIGlzIGhhbmRsZWQgYnlcbiAqICAgICBkZXNjcmlwdG9yIGluc3RlYWQuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9kZXNjcmlwdG9yIE9wdGlvbmFsIGRlc2NyaXB0b3Igb2JqZWN0LlxuICogQHJldHVybiB7IUludGVycHJldGVyLk9iamVjdHx1bmRlZmluZWR9IFJldHVybnMgYSBzZXR0ZXIgZnVuY3Rpb24gaWYgb25lXG4gKiAgICAgbmVlZHMgdG8gYmUgY2FsbGVkLCBvdGhlcndpc2UgdW5kZWZpbmVkLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuc2V0UHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBuYW1lLCB2YWx1ZSwgb3B0X2Rlc2NyaXB0b3IpIHtcbiAgICBpZiAodGhpcy5zZXR0ZXJTdGVwXykge1xuICAgICAgICAvLyBHZXR0ZXIgZnJvbSBwcmV2aW91cyBjYWxsIHRvIHNldFByb3BlcnR5IHdhcyBub3QgaGFuZGxlZC5cbiAgICAgICAgdGhyb3cgRXJyb3IoJ1NldHRlciBub3Qgc3VwcG9ydGVkIGluIHRoYXQgY29udGV4dCcpO1xuICAgIH1cbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIFwiQ2Fubm90IHNldCBwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCInIG9mIFwiICsgb2JqKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICEob2JqIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGluZyBuYXRpdmUgdmFsdWUgb3IgcHNldWRvIG9iamVjdCcpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAgIG9wdF9kZXNjcmlwdG9yICYmXG4gICAgICAgICgnZ2V0JyBpbiBvcHRfZGVzY3JpcHRvciB8fCAnc2V0JyBpbiBvcHRfZGVzY3JpcHRvcikgJiZcbiAgICAgICAgKCd2YWx1ZScgaW4gb3B0X2Rlc2NyaXB0b3IgfHwgJ3dyaXRhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcilcbiAgICApIHtcbiAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgIHRoaXMuVFlQRV9FUlJPUixcbiAgICAgICAgICAgICdJbnZhbGlkIHByb3BlcnR5IGRlc2NyaXB0b3IuICcgK1xuICAgICAgICAgICAgICAgICdDYW5ub3QgYm90aCBzcGVjaWZ5IGFjY2Vzc29ycyBhbmQgYSB2YWx1ZSBvciB3cml0YWJsZSBhdHRyaWJ1dGUnLFxuICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgc3RyaWN0ID0gIXRoaXMuc3RhdGVTdGFjayB8fCB0aGlzLmdldFNjb3BlKCkuc3RyaWN0O1xuICAgIGlmICghKG9iaiBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgXCJDYW4ndCBjcmVhdGUgcHJvcGVydHkgJ1wiICsgbmFtZSArIFwiJyBvbiAnXCIgKyBvYmogKyBcIidcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc2Eob2JqLCB0aGlzLlNUUklORykpIHtcbiAgICAgICAgdmFyIG4gPSBJbnRlcnByZXRlci5sZWdhbEFycmF5SW5kZXgobmFtZSk7XG4gICAgICAgIGlmIChuYW1lID09PSAnbGVuZ3RoJyB8fCAoIWlzTmFOKG4pICYmIG4gPCBTdHJpbmcob2JqKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAvLyBDYW4ndCBzZXQgbGVuZ3RoIG9yIGxldHRlcnMgb24gU3RyaW5nIG9iamVjdHMuXG4gICAgICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnR5ICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJyBvZiBTdHJpbmcgJ1wiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kYXRhICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJ1wiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iai5jbGFzcyA9PT0gJ0FycmF5Jykge1xuICAgICAgICAvLyBBcnJheXMgaGF2ZSBhIG1hZ2ljIGxlbmd0aCB2YXJpYWJsZSB0aGF0IGlzIGJvdW5kIHRvIHRoZSBlbGVtZW50cy5cbiAgICAgICAgdmFyIGxlbiA9IG9iai5wcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGlmIChuYW1lID09PSAnbGVuZ3RoJykge1xuICAgICAgICAgICAgLy8gRGVsZXRlIGVsZW1lbnRzIGlmIGxlbmd0aCBpcyBzbWFsbGVyLlxuICAgICAgICAgICAgaWYgKG9wdF9kZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBvcHRfZGVzY3JpcHRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG9wdF9kZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBJbnRlcnByZXRlci5sZWdhbEFycmF5TGVuZ3RoKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuUkFOR0VfRVJST1IsICdJbnZhbGlkIGFycmF5IGxlbmd0aCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpIGluIG9iai5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBJbnRlcnByZXRlci5sZWdhbEFycmF5SW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaSkgJiYgdmFsdWUgPD0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9iai5wcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTigoaSA9IEludGVycHJldGVyLmxlZ2FsQXJyYXlJbmRleChuYW1lKSkpKSB7XG4gICAgICAgICAgICAvLyBJbmNyZWFzZSBsZW5ndGggaWYgdGhpcyBpbmRleCBpcyBsYXJnZXIuXG4gICAgICAgICAgICBvYmoucHJvcGVydGllcy5sZW5ndGggPSBNYXRoLm1heChsZW4sIGkgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqLnByZXZlbnRFeHRlbnNpb25zICYmICEobmFtZSBpbiBvYmoucHJvcGVydGllcykpIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgXCJDYW4ndCBhZGQgcHJvcGVydHkgJ1wiICsgbmFtZSArIFwiJywgb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdF9kZXNjcmlwdG9yKSB7XG4gICAgICAgIC8vIERlZmluZSB0aGUgcHJvcGVydHkuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0ge307XG4gICAgICAgIGlmICgnZ2V0JyBpbiBvcHRfZGVzY3JpcHRvciAmJiBvcHRfZGVzY3JpcHRvci5nZXQpIHtcbiAgICAgICAgICAgIG9iai5nZXR0ZXJbbmFtZV0gPSBvcHRfZGVzY3JpcHRvci5nZXQ7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IHRoaXMuc2V0UHJvcGVydHkucGxhY2Vob2xkZXJHZXRfO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnc2V0JyBpbiBvcHRfZGVzY3JpcHRvciAmJiBvcHRfZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgIG9iai5zZXR0ZXJbbmFtZV0gPSBvcHRfZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLnNldCA9IHRoaXMuc2V0UHJvcGVydHkucGxhY2Vob2xkZXJTZXRfO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0ge307XG4gICAgICAgIGlmICgnY29uZmlndXJhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSBvcHRfZGVzY3JpcHRvci5jb25maWd1cmFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdlbnVtZXJhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gb3B0X2Rlc2NyaXB0b3IuZW51bWVyYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3dyaXRhYmxlJyBpbiBvcHRfZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IG9wdF9kZXNjcmlwdG9yLndyaXRhYmxlO1xuICAgICAgICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICAgICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBvcHRfZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IG9wdF9kZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICAgICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gSW50ZXJwcmV0ZXIuVkFMVUVfSU5fREVTQ1JJUFRPUikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICAgICAgICBkZWxldGUgb2JqLnNldHRlcltuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iai5wcm9wZXJ0aWVzLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsICdDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6ICcgKyBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgdGhhdCB0aGUgZGVmaW5pdGlvbiBoYXMgc3VjZWVkZWQsIGNsZWFuIHVwIGFueSBvYnNvbGV0ZSBnZXQvc2V0IGZ1bmNzLlxuICAgICAgICBpZiAoJ2dldCcgaW4gb3B0X2Rlc2NyaXB0b3IgJiYgIW9wdF9kZXNjcmlwdG9yLmdldCkge1xuICAgICAgICAgICAgZGVsZXRlIG9iai5nZXR0ZXJbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdzZXQnIGluIG9wdF9kZXNjcmlwdG9yICYmICFvcHRfZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouc2V0dGVyW25hbWVdO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eS5cbiAgICAgICAgaWYgKHZhbHVlID09PSBJbnRlcnByZXRlci5WQUxVRV9JTl9ERVNDUklQVE9SKSB7XG4gICAgICAgICAgICB0aHJvdyBSZWZlcmVuY2VFcnJvcignVmFsdWUgbm90IHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBhcmVudCAocG9zc2libHkgc2VsZikgd2hlcmUgdGhlIHByb3BlcnR5IGlzIGRlZmluZWQuXG4gICAgICAgIHZhciBkZWZPYmogPSBvYmo7XG4gICAgICAgIHdoaWxlICghKG5hbWUgaW4gZGVmT2JqLnByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBkZWZPYmogPSB0aGlzLmdldFByb3RvdHlwZShkZWZPYmopO1xuICAgICAgICAgICAgaWYgKCFkZWZPYmopIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbmV3IHByb3BlcnR5LlxuICAgICAgICAgICAgICAgIGRlZk9iaiA9IG9iajtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmT2JqLnNldHRlciAmJiBkZWZPYmouc2V0dGVyW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRlclN0ZXBfID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWZPYmouc2V0dGVyW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZPYmouZ2V0dGVyICYmIGRlZk9iai5nZXR0ZXJbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNldCBwcm9wZXJ0eSAnXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicgb2Ygb2JqZWN0ICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmogK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCInIHdoaWNoIG9ubHkgaGFzIGEgZ2V0dGVyXCIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIHNldHRlciwgc2ltcGxlIGFzc2lnbm1lbnQuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9iai5wcm9wZXJ0aWVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5UWVBFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydHkgJ1wiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIicgb2Ygb2JqZWN0ICdcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIidcIixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGUuc2V0UHJvcGVydHkucGxhY2Vob2xkZXJHZXRfID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IEVycm9yKCdQbGFjZWhvbGRlciBnZXR0ZXInKTtcbn07XG5JbnRlcnByZXRlci5wcm90b3R5cGUuc2V0UHJvcGVydHkucGxhY2Vob2xkZXJTZXRfID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IEVycm9yKCdQbGFjZWhvbGRlciBzZXR0ZXInKTtcbn07XG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBhZGRpbmcgYSBuYXRpdmUgZnVuY3Rpb24gYXMgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuICogb250byBhbiBvYmplY3QncyBwcm90b3R5cGUuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IG9iaiBEYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSB3cmFwcGVyIEZ1bmN0aW9uIG9iamVjdC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldE5hdGl2ZUZ1bmN0aW9uUHJvdG90eXBlID0gZnVuY3Rpb24gKG9iaiwgbmFtZSwgd3JhcHBlcikge1xuICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgIG9iai5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdGhpcy5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyLCBmYWxzZSksXG4gICAgICAgIEludGVycHJldGVyLk5PTkVOVU1FUkFCTEVfREVTQ1JJUFRPUixcbiAgICApO1xufTtcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIGFkZGluZyBhbiBhc3luYyBmdW5jdGlvbiBhcyBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG4gKiBvbnRvIGFuIG9iamVjdCdzIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gb2JqIERhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gbmFtZSBOYW1lIG9mIHByb3BlcnR5LlxuICogQHBhcmFtIHshRnVuY3Rpb259IHdyYXBwZXIgRnVuY3Rpb24gb2JqZWN0LlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuc2V0QXN5bmNGdW5jdGlvblByb3RvdHlwZSA9IGZ1bmN0aW9uIChvYmosIG5hbWUsIHdyYXBwZXIpIHtcbiAgICB0aGlzLnNldFByb3BlcnR5KFxuICAgICAgICBvYmoucHJvcGVydGllc1sncHJvdG90eXBlJ10sXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRoaXMuY3JlYXRlQXN5bmNGdW5jdGlvbih3cmFwcGVyKSxcbiAgICAgICAgSW50ZXJwcmV0ZXIuTk9ORU5VTUVSQUJMRV9ERVNDUklQVE9SLFxuICAgICk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2NvcGUgZnJvbSB0aGUgc3RhdGVTdGFjay5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5TY29wZX0gQ3VycmVudCBzY29wZS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmdldFNjb3BlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY29wZSA9IHRoaXMuc3RhdGVTdGFja1t0aGlzLnN0YXRlU3RhY2subGVuZ3RoIC0gMV0uc2NvcGU7XG4gICAgaWYgKCFzY29wZSkge1xuICAgICAgICB0aHJvdyBFcnJvcignTm8gc2NvcGUgZm91bmQuJyk7XG4gICAgfVxuICAgIHJldHVybiBzY29wZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHNjb3BlIGRpY3Rpb25hcnkuXG4gKiBAcGFyYW0geyFPYmplY3R9IG5vZGUgQVNUIG5vZGUgZGVmaW5pbmcgdGhlIHNjb3BlIGNvbnRhaW5lclxuICogICAgIChlLmcuIGEgZnVuY3Rpb24pLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5TY29wZX0gcGFyZW50U2NvcGUgU2NvcGUgdG8gbGluayB0by5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5TY29wZX0gTmV3IHNjb3BlLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlU2NvcGUgPSBmdW5jdGlvbiAobm9kZSwgcGFyZW50U2NvcGUpIHtcbiAgICAvLyBEZXRlcm1pbmUgaWYgdGhpcyBzY29wZSBzdGFydHMgd2l0aCBgdXNlIHN0cmljdGAuXG4gICAgdmFyIHN0cmljdCA9IGZhbHNlO1xuICAgIGlmIChwYXJlbnRTY29wZSAmJiBwYXJlbnRTY29wZS5zdHJpY3QpIHtcbiAgICAgICAgc3RyaWN0ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmlyc3ROb2RlID0gbm9kZVsnYm9keSddICYmIG5vZGVbJ2JvZHknXVswXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmlyc3ROb2RlICYmXG4gICAgICAgICAgICBmaXJzdE5vZGUuZXhwcmVzc2lvbiAmJlxuICAgICAgICAgICAgZmlyc3ROb2RlLmV4cHJlc3Npb25bJ3R5cGUnXSA9PT0gJ0xpdGVyYWwnICYmXG4gICAgICAgICAgICBmaXJzdE5vZGUuZXhwcmVzc2lvbi52YWx1ZSA9PT0gJ3VzZSBzdHJpY3QnXG4gICAgICAgICkge1xuICAgICAgICAgICAgc3RyaWN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byhudWxsKTtcbiAgICB2YXIgc2NvcGUgPSBuZXcgSW50ZXJwcmV0ZXIuU2NvcGUocGFyZW50U2NvcGUsIHN0cmljdCwgb2JqZWN0KTtcbiAgICBpZiAoIXBhcmVudFNjb3BlKSB7XG4gICAgICAgIHRoaXMuaW5pdEdsb2JhbChzY29wZS5vYmplY3QpO1xuICAgIH1cbiAgICB0aGlzLnBvcHVsYXRlU2NvcGVfKG5vZGUsIHNjb3BlKTtcbiAgICByZXR1cm4gc2NvcGU7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzcGVjaWFsIHNjb3BlIGRpY3Rpb25hcnkuIFNpbWlsYXIgdG8gY3JlYXRlU2NvcGUoKSwgYnV0XG4gKiBkb2Vzbid0IGFzc3VtZSB0aGF0IHRoZSBzY29wZSBpcyBmb3IgYSBmdW5jdGlvbiBib2R5LlxuICogVGhpcyBpcyB1c2VkIGZvciAnY2F0Y2gnIGNsYXVzZXMgYW5kICd3aXRoJyBzdGF0ZW1lbnRzLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuU2NvcGV9IHBhcmVudFNjb3BlIFNjb3BlIHRvIGxpbmsgdG8uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdD19IG9wdF9vYmplY3QgT3B0aW9uYWwgb2JqZWN0IHRvIHRyYW5zZm9ybSBpbnRvXG4gKiAgICAgc2NvcGUuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuU2NvcGV9IE5ldyBzY29wZS5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZVNwZWNpYWxTY29wZSA9IGZ1bmN0aW9uIChwYXJlbnRTY29wZSwgb3B0X29iamVjdCkge1xuICAgIGlmICghcGFyZW50U2NvcGUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ3BhcmVudFNjb3BlIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIHZhciBvYmplY3QgPSBvcHRfb2JqZWN0IHx8IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8obnVsbCk7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TY29wZShwYXJlbnRTY29wZSwgcGFyZW50U2NvcGUuc3RyaWN0LCBvYmplY3QpO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIHRoZSBzY29wZSBjaGFpbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdmFyaWFibGUuXG4gKiBAcmV0dXJuIHtJbnRlcnByZXRlci5WYWx1ZX0gQW55IHZhbHVlLlxuICogICBNYXkgYmUgZmxhZ2dlZCBhcyBiZWluZyBhIGdldHRlciBhbmQgdGh1cyBuZWVkaW5nIGltbWVkaWF0ZSBleGVjdXRpb25cbiAqICAgKHJhdGhlciB0aGFuIGJlaW5nIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkpLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuZ2V0VmFsdWVGcm9tU2NvcGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICB3aGlsZSAoc2NvcGUgJiYgc2NvcGUgIT09IHRoaXMuZ2xvYmFsU2NvcGUpIHtcbiAgICAgICAgaWYgKG5hbWUgaW4gc2NvcGUub2JqZWN0LnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS5vYmplY3QucHJvcGVydGllc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBzY29wZSA9IHNjb3BlLnBhcmVudFNjb3BlO1xuICAgIH1cbiAgICAvLyBUaGUgcm9vdCBzY29wZSBpcyBhbHNvIGFuIG9iamVjdCB3aGljaCBoYXMgaW5oZXJpdGVkIHByb3BlcnRpZXMgYW5kXG4gICAgLy8gY291bGQgYWxzbyBoYXZlIGdldHRlcnMuXG4gICAgaWYgKHNjb3BlID09PSB0aGlzLmdsb2JhbFNjb3BlICYmIHRoaXMuaGFzUHJvcGVydHkoc2NvcGUub2JqZWN0LCBuYW1lKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShzY29wZS5vYmplY3QsIG5hbWUpO1xuICAgIH1cbiAgICAvLyBUeXBlb2Ygb3BlcmF0b3IgaXMgdW5pcXVlOiBpdCBjYW4gc2FmZWx5IGxvb2sgYXQgbm9uLWRlZmluZWQgdmFyaWFibGVzLlxuICAgIHZhciBwcmV2Tm9kZSA9IHRoaXMuc3RhdGVTdGFja1t0aGlzLnN0YXRlU3RhY2subGVuZ3RoIC0gMV0ubm9kZTtcbiAgICBpZiAocHJldk5vZGVbJ3R5cGUnXSA9PT0gJ1VuYXJ5RXhwcmVzc2lvbicgJiYgcHJldk5vZGVbJ29wZXJhdG9yJ10gPT09ICd0eXBlb2YnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5SRUZFUkVOQ0VfRVJST1IsIG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkJyk7XG59O1xuXG4vKipcbiAqIFNldHMgYSB2YWx1ZSB0byB0aGUgY3VycmVudCBzY29wZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdmFyaWFibGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlZhbHVlfSB2YWx1ZSBWYWx1ZS5cbiAqIEByZXR1cm4geyFJbnRlcnByZXRlci5PYmplY3R8dW5kZWZpbmVkfSBSZXR1cm5zIGEgc2V0dGVyIGZ1bmN0aW9uIGlmIG9uZVxuICogICAgIG5lZWRzIHRvIGJlIGNhbGxlZCwgb3RoZXJ3aXNlIHVuZGVmaW5lZC5cbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLnNldFZhbHVlVG9TY29wZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICB2YXIgc3RyaWN0ID0gc2NvcGUuc3RyaWN0O1xuICAgIHdoaWxlIChzY29wZSAmJiBzY29wZSAhPT0gdGhpcy5nbG9iYWxTY29wZSkge1xuICAgICAgICBpZiAobmFtZSBpbiBzY29wZS5vYmplY3QucHJvcGVydGllcykge1xuICAgICAgICAgICAgc2NvcGUub2JqZWN0LnByb3BlcnRpZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnRTY29wZTtcbiAgICB9XG4gICAgLy8gVGhlIHJvb3Qgc2NvcGUgaXMgYWxzbyBhbiBvYmplY3Qgd2hpY2ggaGFzIHJlYWRvbmx5IHByb3BlcnRpZXMgYW5kXG4gICAgLy8gY291bGQgYWxzbyBoYXZlIHNldHRlcnMuXG4gICAgaWYgKHNjb3BlID09PSB0aGlzLmdsb2JhbFNjb3BlICYmICghc3RyaWN0IHx8IHRoaXMuaGFzUHJvcGVydHkoc2NvcGUub2JqZWN0LCBuYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0UHJvcGVydHkoc2NvcGUub2JqZWN0LCBuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5SRUZFUkVOQ0VfRVJST1IsIG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkJyk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzY29wZSBmb3IgdGhlIGdpdmVuIG5vZGUuXG4gKiBAcGFyYW0geyFPYmplY3R9IG5vZGUgQVNUIG5vZGUgKHByb2dyYW0gb3IgZnVuY3Rpb24pLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuU2NvcGV9IHNjb3BlIFNjb3BlIGRpY3Rpb25hcnkgdG8gcG9wdWxhdGUuXG4gKiBAcHJpdmF0ZVxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUucG9wdWxhdGVTY29wZV8gPSBmdW5jdGlvbiAobm9kZSwgc2NvcGUpIHtcbiAgICBpZiAobm9kZVsndHlwZSddID09PSAnVmFyaWFibGVEZWNsYXJhdGlvbicpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlWydkZWNsYXJhdGlvbnMnXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBzY29wZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgbm9kZVsnZGVjbGFyYXRpb25zJ11baV1bJ2lkJ11bJ25hbWUnXSxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgSW50ZXJwcmV0ZXIuVkFSSUFCTEVfREVTQ1JJUFRPUixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGVbJ3R5cGUnXSA9PT0gJ0Z1bmN0aW9uRGVjbGFyYXRpb24nKSB7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICBzY29wZS5vYmplY3QsXG4gICAgICAgICAgICBub2RlWydpZCddWyduYW1lJ10sXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZ1bmN0aW9uKG5vZGUsIHNjb3BlKSxcbiAgICAgICAgICAgIEludGVycHJldGVyLlZBUklBQkxFX0RFU0NSSVBUT1IsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjsgLy8gRG8gbm90IHJlY3Vyc2UgaW50byBmdW5jdGlvbi5cbiAgICB9IGVsc2UgaWYgKG5vZGVbJ3R5cGUnXSA9PT0gJ0Z1bmN0aW9uRXhwcmVzc2lvbicpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBEbyBub3QgcmVjdXJzZSBpbnRvIGZ1bmN0aW9uLlxuICAgIH0gZWxzZSBpZiAobm9kZVsndHlwZSddID09PSAnRXhwcmVzc2lvblN0YXRlbWVudCcpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBFeHByZXNzaW9ucyBjYW4ndCBjb250YWluIHZhcmlhYmxlL2Z1bmN0aW9uIGRlY2xhcmF0aW9ucy5cbiAgICB9XG4gICAgdmFyIG5vZGVDbGFzcyA9IG5vZGVbJ2NvbnN0cnVjdG9yJ107XG4gICAgZm9yICh2YXIgbmFtZSBpbiBub2RlKSB7XG4gICAgICAgIHZhciBwcm9wID0gbm9kZVtuYW1lXTtcbiAgICAgICAgaWYgKHByb3AgJiYgdHlwZW9mIHByb3AgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcFtpXSAmJiBwcm9wW2ldLmNvbnN0cnVjdG9yID09PSBub2RlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8ocHJvcFtpXSwgc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcC5jb25zdHJ1Y3RvciA9PT0gbm9kZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8ocHJvcCwgc2NvcGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogSXMgdGhlIGN1cnJlbnQgc3RhdGUgZGlyZWN0bHkgYmVpbmcgY2FsbGVkIHdpdGggYXMgYSBjb25zdHJ1Y3Rpb24gd2l0aCAnbmV3Jy5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgJ25ldyBmb28oKScsIGZhbHNlIGlmICdmb28oKScuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jYWxsZWRXaXRoTmV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCAtIDFdLmlzQ29uc3RydWN0b3I7XG59O1xuXG4vKipcbiAqIEdldHMgYSB2YWx1ZSBmcm9tIHRoZSBzY29wZSBjaGFpbiBvciBmcm9tIGFuIG9iamVjdCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7IUFycmF5fSByZWYgTmFtZSBvZiB2YXJpYWJsZSBvciBvYmplY3QvcHJvcG5hbWUgdHVwbGUuXG4gKiBAcmV0dXJuIHtJbnRlcnByZXRlci5WYWx1ZX0gQW55IHZhbHVlLlxuICogICBNYXkgYmUgZmxhZ2dlZCBhcyBiZWluZyBhIGdldHRlciBhbmQgdGh1cyBuZWVkaW5nIGltbWVkaWF0ZSBleGVjdXRpb25cbiAqICAgKHJhdGhlciB0aGFuIGJlaW5nIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkpLlxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgaWYgKHJlZlswXSA9PT0gSW50ZXJwcmV0ZXIuU0NPUEVfUkVGRVJFTkNFKSB7XG4gICAgICAgIC8vIEEgbnVsbC92YXJuYW1lIHZhcmlhYmxlIGxvb2t1cC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVGcm9tU2NvcGUocmVmWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBbiBvYmovcHJvcCBjb21wb25lbnRzIHR1cGxlIChmb28uYmFyKS5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvcGVydHkocmVmWzBdLCByZWZbMV0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0cyBhIHZhbHVlIHRvIHRoZSBzY29wZSBjaGFpbiBvciB0byBhbiBvYmplY3QgcHJvcGVydHkuXG4gKiBAcGFyYW0geyFBcnJheX0gcmVmIE5hbWUgb2YgdmFyaWFibGUgb3Igb2JqZWN0L3Byb3BuYW1lIHR1cGxlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fHVuZGVmaW5lZH0gUmV0dXJucyBhIHNldHRlciBmdW5jdGlvbiBpZiBvbmVcbiAqICAgICBuZWVkcyB0byBiZSBjYWxsZWQsIG90aGVyd2lzZSB1bmRlZmluZWQuXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChyZWYsIHZhbHVlKSB7XG4gICAgaWYgKHJlZlswXSA9PT0gSW50ZXJwcmV0ZXIuU0NPUEVfUkVGRVJFTkNFKSB7XG4gICAgICAgIC8vIEEgbnVsbC92YXJuYW1lIHZhcmlhYmxlIGxvb2t1cC5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0VmFsdWVUb1Njb3BlKHJlZlsxXSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFuIG9iai9wcm9wIGNvbXBvbmVudHMgdHVwbGUgKGZvby5iYXIpLlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eShyZWZbMF0sIHJlZlsxXSwgdmFsdWUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhyb3cgYW4gZXhjZXB0aW9uIGluIHRoZSBpbnRlcnByZXRlciB0aGF0IGNhbiBiZSBoYW5kbGVkIGJ5IGFuXG4gKiBpbnRlcnByZXRlciB0cnkvY2F0Y2ggc3RhdGVtZW50LiAgSWYgdW5oYW5kbGVkLCBhIHJlYWwgZXhjZXB0aW9uIHdpbGxcbiAqIGJlIHRocm93bi4gIENhbiBiZSBjYWxsZWQgd2l0aCBlaXRoZXIgYW4gZXJyb3IgY2xhc3MgYW5kIGEgbWVzc2FnZSwgb3JcbiAqIHdpdGggYW4gYWN0dWFsIG9iamVjdCB0byBiZSB0aHJvd24uXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R8SW50ZXJwcmV0ZXIuVmFsdWV9IGVycm9yQ2xhc3MgVHlwZSBvZiBlcnJvclxuICogICAoaWYgbWVzc2FnZSBpcyBwcm92aWRlZCkgb3IgdGhlIHZhbHVlIHRvIHRocm93IChpZiBubyBtZXNzYWdlKS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgTWVzc2FnZSBiZWluZyB0aHJvd24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS50aHJvd0V4Y2VwdGlvbiA9IGZ1bmN0aW9uIChlcnJvckNsYXNzLCBvcHRfbWVzc2FnZSkge1xuICAgIGlmIChvcHRfbWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yQ2xhc3M7IC8vIFRoaXMgaXMgYSB2YWx1ZSB0byB0aHJvdywgbm90IGFuIGVycm9yIGNsYXNzLlxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuY3JlYXRlT2JqZWN0KGVycm9yQ2xhc3MpO1xuICAgICAgICB0aGlzLnNldFByb3BlcnR5KGVycm9yLCAnbWVzc2FnZScsIG9wdF9tZXNzYWdlLCBJbnRlcnByZXRlci5OT05FTlVNRVJBQkxFX0RFU0NSSVBUT1IpO1xuICAgIH1cbiAgICB0aGlzLnVud2luZChJbnRlcnByZXRlci5Db21wbGV0aW9uLlRIUk9XLCBlcnJvciwgdW5kZWZpbmVkKTtcbiAgICAvLyBBYm9ydCBhbnl0aGluZyByZWxhdGVkIHRvIHRoZSBjdXJyZW50IHN0ZXAuXG4gICAgdGhyb3cgSW50ZXJwcmV0ZXIuU1RFUF9FUlJPUjtcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgVGhyb3dhYmxlIG9iamVjdCBmb3IgdXNlIGluIG5hdGl2ZSBmdW5jdGlvbiByZXR1cm4gdmFsdWVzXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R8SW50ZXJwcmV0ZXIuVmFsdWV9IGVycm9yQ2xhc3MgVHlwZSBvZiBlcnJvclxuICogICAoaWYgbWVzc2FnZSBpcyBwcm92aWRlZCkgb3IgdGhlIHZhbHVlIHRvIHRocm93IChpZiBubyBtZXNzYWdlKS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgTWVzc2FnZSBiZWluZyB0aHJvd24uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVUaHJvd2FibGUgPSBmdW5jdGlvbiAoZXJyb3JDbGFzcywgb3B0X21lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlRocm93YWJsZShlcnJvckNsYXNzLCBvcHRfbWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZSByZXN1bHQgb2YgbmF0aXZlIGZ1bmN0aW9uIGNhbGxcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuU3RhdGV9IHN0YXRlIENhbGxFeHByZXNzaW9uIHN0YXRlXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5TY29wZX0gc2NvcGUgQ2FsbEV4cHJlc3Npb24gc2NvcGUuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdHxTdHJpbmd8TnVtYmVyfSB2YWx1ZSBWYWx1ZXMgcmV0dXJuZWQgZnJvbSBuYXRpdmUgZnVuY3Rpb25cbiAqIEByZXR1cm4ge0ludGVycHJldGVyLlN0YXRlfSBOZXcgY2FsbGJhY2sgc3RhdGUgYWRkZWQsIGlmIGFueVxuICovXG5JbnRlcnByZXRlci5wcm90b3R5cGUuaGFuZGxlTmF0aXZlUmVzdWx0XyA9IGZ1bmN0aW9uIChzdGF0ZSwgc2NvcGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuQ2FsbGJhY2spIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIHJlcXVlc3QgZm9yIGEgcHNldWRvIGZ1bmN0aW9uIGNhbGxiYWNrXG4gICAgICAgIHZhbHVlLnB1c2hTdGF0ZV8odGhpcywgc2NvcGUpO1xuICAgICAgICBzdGF0ZS5jYl8gPSB2YWx1ZTtcbiAgICAgICAgc3RhdGUuZG9uZUV4ZWNfID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB2YWx1ZS5zdGF0ZV87XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLlRocm93YWJsZSkge1xuICAgICAgICAvLyBSZXN1bHQgd2FzIGFuIGVycm9yXG4gICAgICAgIHZhbHVlLnRocm93Xyh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmluYWwgdmFsdWVcbiAgICAgICAgdmFyIGNiID0gc3RhdGUuY2JfO1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIGlmIChjYi5zdGF0ZWxlc3NfKSB7XG4gICAgICAgICAgICAgICAgY2IudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2Iuc3RhdGVfLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVud2luZCB0aGUgc3RhY2sgdG8gdGhlIGlubmVybW9zdCByZWxldmFudCBlbmNsb3NpbmcgVHJ5U3RhdGVtZW50LFxuICogRm9yL0ZvckluL1doaWxlU3RhdGVtZW50IG9yIENhbGwvTmV3RXhwcmVzc2lvbi4gIElmIHRoaXMgcmVzdWx0cyBpblxuICogdGhlIHN0YWNrIGJlaW5nIGNvbXBsZXRlbHkgdW53b3VuZCB0aGUgdGhyZWFkIHdpbGwgYmUgdGVybWluYXRlZFxuICogYW5kIHRoZSBhcHByb3ByaWF0ZSBlcnJvciBiZWluZyB0aHJvd24uXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLkNvbXBsZXRpb259IHR5cGUgQ29tcGxldGlvbiB0eXBlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgY29tcHV0ZWQsIHJldHVybmVkIG9yIHRocm93bi5cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gbGFiZWwgVGFyZ2V0IGxhYmVsIGZvciBicmVhayBvciByZXR1cm4uXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS51bndpbmQgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUsIGxhYmVsKSB7XG4gICAgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uTk9STUFMKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignU2hvdWxkIG5vdCB1bndpbmQgZm9yIE5PUk1BTCBjb21wbGV0aW9ucycpO1xuICAgIH1cblxuICAgIGxvb3A6IGZvciAodmFyIHN0YWNrID0gdGhpcy5zdGF0ZVN0YWNrOyBzdGFjay5sZW5ndGggPiAwOyBzdGFjay5wb3AoKSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZS5ub2RlWyd0eXBlJ10pIHtcbiAgICAgICAgICAgIGNhc2UgJ1RyeVN0YXRlbWVudCc6XG4gICAgICAgICAgICAgICAgc3RhdGUuY3YgPSB7IHR5cGU6IHR5cGUsIHZhbHVlOiB2YWx1ZSwgbGFiZWw6IGxhYmVsIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnQ2FsbEV4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnTmV3RXhwcmVzc2lvbic6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uUkVUVVJOKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IEludGVycHJldGVyLkNvbXBsZXRpb24uVEhST1cpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Vuc3luYXRjdGljIGJyZWFrL2NvbnRpbnVlIG5vdCByZWplY3RlZCBieSBBY29ybicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NhbGxFeHByZXNzaW9uRnVuY18nOlxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBJbnRlcnByZXRlci5Db21wbGV0aW9uLlRIUk9XICYmIHN0YXRlLmNhdGNoXykge1xuICAgICAgICAgICAgICAgICAgICAvLyBMZXQgc3RlcENhbGxFeHByZXNzaW9uRnVuY18gY2F0Y2ggdGhpcyB0aHJvd1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS50aHJvd18gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgJ1Byb2dyYW0nOlxuICAgICAgICAgICAgICAgIC8vIERvbid0IHBvcCB0aGUgc3RhdGVTdGFjay5cbiAgICAgICAgICAgICAgICAvLyBMZWF2ZSB0aGUgcm9vdCBzY29wZSBvbiB0aGUgdHJlZSBpbiBjYXNlIHRoZSBwcm9ncmFtIGlzIGFwcGVuZGVkIHRvLlxuICAgICAgICAgICAgICAgIHN0YXRlLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGxvb3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IEludGVycHJldGVyLkNvbXBsZXRpb24uQlJFQUspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBsYWJlbFxuICAgICAgICAgICAgICAgICAgICA/IHN0YXRlLmxhYmVscyAmJiBzdGF0ZS5sYWJlbHMuaW5kZXhPZihsYWJlbCkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgIDogc3RhdGUuaXNMb29wIHx8IHN0YXRlLmlzU3dpdGNoXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSW50ZXJwcmV0ZXIuQ29tcGxldGlvbi5DT05USU5VRSkge1xuICAgICAgICAgICAgaWYgKGxhYmVsID8gc3RhdGUubGFiZWxzICYmIHN0YXRlLmxhYmVscy5pbmRleE9mKGxhYmVsKSAhPT0gLTEgOiBzdGF0ZS5pc0xvb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVbmhhbmRsZWQgY29tcGxldGlvbi4gIFRocm93IGEgcmVhbCBlcnJvci5cbiAgICB2YXIgcmVhbEVycm9yO1xuICAgIGlmICh0aGlzLmlzYSh2YWx1ZSwgdGhpcy5FUlJPUikpIHtcbiAgICAgICAgdmFyIGVycm9yVGFibGUgPSB7XG4gICAgICAgICAgICBFdmFsRXJyb3I6IEV2YWxFcnJvcixcbiAgICAgICAgICAgIFJhbmdlRXJyb3I6IFJhbmdlRXJyb3IsXG4gICAgICAgICAgICBSZWZlcmVuY2VFcnJvcjogUmVmZXJlbmNlRXJyb3IsXG4gICAgICAgICAgICBTeW50YXhFcnJvcjogU3ludGF4RXJyb3IsXG4gICAgICAgICAgICBUeXBlRXJyb3I6IFR5cGVFcnJvcixcbiAgICAgICAgICAgIFVSSUVycm9yOiBVUklFcnJvcixcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5hbWUgPSBTdHJpbmcodGhpcy5nZXRQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnKSk7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5nZXRQcm9wZXJ0eSh2YWx1ZSwgJ21lc3NhZ2UnKS52YWx1ZU9mKCk7XG4gICAgICAgIHZhciBlcnJvckNvbnN0cnVjdG9yID0gZXJyb3JUYWJsZVtuYW1lXSB8fCBFcnJvcjtcbiAgICAgICAgcmVhbEVycm9yID0gZXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZWFsRXJyb3IgPSBTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICB0aHJvdyByZWFsRXJyb3I7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGNhbGwgdG8gYSBnZXR0ZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGZ1bmMgRnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdHwhQXJyYXl9IGxlZnRcbiAqICAgICBOYW1lIG9mIHZhcmlhYmxlIG9yIG9iamVjdC9wcm9wbmFtZSB0dXBsZS5cbiAqIEBwcml2YXRlXG4gKi9cbkludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVHZXR0ZXJfID0gZnVuY3Rpb24gKGZ1bmMsIGxlZnQpIHtcbiAgICBpZiAoIXRoaXMuZ2V0dGVyU3RlcF8pIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1VuZXhwZWN0ZWQgY2FsbCB0byBjcmVhdGVHZXR0ZXInKTtcbiAgICB9XG4gICAgLy8gQ2xlYXIgdGhlIGdldHRlciBmbGFnLlxuICAgIHRoaXMuZ2V0dGVyU3RlcF8gPSBmYWxzZTtcbiAgICAvLyBOb3JtYWxseSBgdGhpc2Agd2lsbCBiZSBzcGVjaWZpZWQgYXMgdGhlIG9iamVjdCBjb21wb25lbnQgKG8ueCkuXG4gICAgLy8gU29tZXRpbWVzIGB0aGlzYCBpcyBleHBsaWNpdGx5IHByb3ZpZGVkIChvKS5cbiAgICB2YXIgZnVuY1RoaXMgPSBBcnJheS5pc0FycmF5KGxlZnQpID8gbGVmdFswXSA6IGxlZnQ7XG4gICAgdmFyIG5vZGUgPSBuZXcgdGhpcy5ub2RlQ29uc3RydWN0b3IoeyBvcHRpb25zOiB7fSB9KTtcbiAgICBub2RlWyd0eXBlJ10gPSAnQ2FsbEV4cHJlc3Npb24nO1xuICAgIHZhciBzdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlLCB0aGlzLnN0YXRlU3RhY2tbdGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCAtIDFdLnNjb3BlKTtcbiAgICBzdGF0ZS5kb25lQ2FsbGVlXyA9IHRydWU7XG4gICAgc3RhdGUuZnVuY1RoaXNfID0gZnVuY1RoaXM7XG4gICAgc3RhdGUuZnVuY18gPSBmdW5jO1xuICAgIHN0YXRlLmRvbmVBcmdzXyA9IHRydWU7XG4gICAgc3RhdGUuYXJndW1lbnRzXyA9IFtdO1xuICAgIHJldHVybiBzdGF0ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FsbCB0byBhIHNldHRlciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZnVuYyBGdW5jdGlvbiB0byBleGVjdXRlLlxuICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fCFBcnJheX0gbGVmdFxuICogICAgIE5hbWUgb2YgdmFyaWFibGUgb3Igb2JqZWN0L3Byb3BuYW1lIHR1cGxlLlxuICogQHBhcmFtIHtJbnRlcnByZXRlci5WYWx1ZX0gdmFsdWUgVmFsdWUgdG8gc2V0LlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZVNldHRlcl8gPSBmdW5jdGlvbiAoZnVuYywgbGVmdCwgdmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuc2V0dGVyU3RlcF8pIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1VuZXhwZWN0ZWQgY2FsbCB0byBjcmVhdGVTZXR0ZXInKTtcbiAgICB9XG4gICAgLy8gQ2xlYXIgdGhlIHNldHRlciBmbGFnLlxuICAgIHRoaXMuc2V0dGVyU3RlcF8gPSBmYWxzZTtcbiAgICAvLyBOb3JtYWxseSBgdGhpc2Agd2lsbCBiZSBzcGVjaWZpZWQgYXMgdGhlIG9iamVjdCBjb21wb25lbnQgKG8ueCkuXG4gICAgLy8gU29tZXRpbWVzIGB0aGlzYCBpcyBpbXBsaWNpdGx5IHRoZSBnbG9iYWwgb2JqZWN0ICh4KS5cbiAgICB2YXIgZnVuY1RoaXMgPSBBcnJheS5pc0FycmF5KGxlZnQpID8gbGVmdFswXSA6IHRoaXMuZ2xvYmFsT2JqZWN0O1xuICAgIHZhciBub2RlID0gbmV3IHRoaXMubm9kZUNvbnN0cnVjdG9yKHsgb3B0aW9uczoge30gfSk7XG4gICAgbm9kZVsndHlwZSddID0gJ0NhbGxFeHByZXNzaW9uJztcbiAgICB2YXIgc3RhdGUgPSBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZSwgdGhpcy5zdGF0ZVN0YWNrW3RoaXMuc3RhdGVTdGFjay5sZW5ndGggLSAxXS5zY29wZSk7XG4gICAgc3RhdGUuZG9uZUNhbGxlZV8gPSB0cnVlO1xuICAgIHN0YXRlLmZ1bmNUaGlzXyA9IGZ1bmNUaGlzO1xuICAgIHN0YXRlLmZ1bmNfID0gZnVuYztcbiAgICBzdGF0ZS5kb25lQXJnc18gPSB0cnVlO1xuICAgIHN0YXRlLmFyZ3VtZW50c18gPSBbdmFsdWVdO1xuICAgIHJldHVybiBzdGF0ZTtcbn07XG5cbi8qKlxuICogSW4gbm9uLXN0cmljdCBtb2RlIGB0aGlzYCBtdXN0IGJlIGFuIG9iamVjdC5cbiAqIE11c3Qgbm90IGJlIGNhbGxlZCBpbiBzdHJpY3QgbW9kZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuVmFsdWV9IHZhbHVlIFByb3Bvc2VkIHZhbHVlIGZvciBgdGhpc2AuXG4gKiBAcmV0dXJuIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBGaW5hbCB2YWx1ZSBmb3IgYHRoaXNgLlxuICogQHByaXZhdGVcbiAqL1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlLmJveFRoaXNfID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gYFVuZGVmaW5lZGAgYW5kIGBudWxsYCBhcmUgY2hhbmdlZCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsT2JqZWN0O1xuICAgIH1cbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkpIHtcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBtdXN0IGJlIGJveGVkLlxuICAgICAgICB2YXIgYm94ID0gdGhpcy5jcmVhdGVPYmplY3RQcm90byh0aGlzLmdldFByb3RvdHlwZSh2YWx1ZSkpO1xuICAgICAgICBib3guZGF0YSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFR5cGVkZWYgZm9yIEpTIHZhbHVlcy5cbiAqIEB0eXBlZGVmIHshSW50ZXJwcmV0ZXIuT2JqZWN0fGJvb2xlYW58bnVtYmVyfHN0cmluZ3x1bmRlZmluZWR8bnVsbH1cbiAqL1xuSW50ZXJwcmV0ZXIuVmFsdWU7XG5cbi8qKlxuICogQ2xhc3MgZm9yIGEgc3RhdGUuXG4gKiBAcGFyYW0geyFPYmplY3R9IG5vZGUgQVNUIG5vZGUgZm9yIHRoZSBzdGF0ZS5cbiAqIEBwYXJhbSB7IUludGVycHJldGVyLlNjb3BlfSBzY29wZSBTY29wZSBvYmplY3QgZm9yIHRoZSBzdGF0ZS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5JbnRlcnByZXRlci5TdGF0ZSA9IGZ1bmN0aW9uIChub2RlLCBzY29wZSkge1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xufTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgYSBzY29wZS5cbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuU2NvcGV9IHBhcmVudFNjb3BlIFBhcmVudCBzY29wZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RyaWN0IFRydWUgaWYgXCJ1c2Ugc3RyaWN0XCIuXG4gKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IG9iamVjdCBPYmplY3QgY29udGFpbmluZyBzY29wZSdzIHZhcmlhYmxlcy5cbiAqIEBzdHJ1Y3RcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5JbnRlcnByZXRlci5TY29wZSA9IGZ1bmN0aW9uIChwYXJlbnRTY29wZSwgc3RyaWN0LCBvYmplY3QpIHtcbiAgICB0aGlzLnBhcmVudFNjb3BlID0gcGFyZW50U2NvcGU7XG4gICAgdGhpcy5zdHJpY3QgPSBzdHJpY3Q7XG4gICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG59O1xuXG4vKipcbiAqIENsYXNzIGZvciBhbGxvd2luZyBhc3luYyBmdW5jdGlvbiB0aHJvd3NcbiAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdHxJbnRlcnByZXRlci5WYWx1ZX0gZXJyb3JDbGFzcyBUeXBlIG9mIGVycm9yXG4gKiAgIChpZiBtZXNzYWdlIGlzIHByb3ZpZGVkKSBvciB0aGUgdmFsdWUgdG8gdGhyb3cgKGlmIG5vIG1lc3NhZ2UpLlxuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWVzc2FnZSBNZXNzYWdlIGJlaW5nIHRocm93bi5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5JbnRlcnByZXRlci5UaHJvd2FibGUgPSBmdW5jdGlvbiAoZXJyb3JDbGFzcywgb3B0X21lc3NhZ2UpIHtcbiAgICB0aGlzLmVycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xuICAgIHRoaXMub3B0X21lc3NhZ2UgPSBvcHRfbWVzc2FnZTtcbn07XG5cbi8qKlxuICogQ2xhc3MgZm9yIGFsbG93aW5nIGFzeW5jIGZ1bmN0aW9uIHRocm93c1xuICogQHBhcmFtIHtJbnRlcnByZXRlcn0gaW50ZXJwcmV0ZXIgSW50ZXJwcmV0ZXIgaW5zdGFuY2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5JbnRlcnByZXRlci5UaHJvd2FibGUucHJvdG90eXBlLnRocm93XyA9IGZ1bmN0aW9uIChpbnRlcnByZXRlcikge1xuICAgIGludGVycHJldGVyLnRocm93RXhjZXB0aW9uKHRoaXMuZXJyb3JDbGFzcywgdGhpcy5vcHRfbWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIENsYXNzIGZvciB0cmFja2luZyBuYXRpdmUgZnVuY3Rpb24gc3RhdGVzLlxuICogQHBhcmFtIHtub2RlQ29uc3RydWN0b3J9IGNhbGxGblN0YXRlIFN0YXRlIHRoYXQncyBiZWluZyB0cmFja2VkXG4gKiBAcGFyYW0ge0Jvb2xlYW49fSBvcHRfcXVldWVkIFdpbGwgdGhpcyBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuSW50ZXJwcmV0ZXIuQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbEZuTm9kZSwgb3B0X3F1ZXVlZCkge1xuICAgIHRoaXMubm9kZV8gPSBjYWxsRm5Ob2RlO1xuICAgIHRoaXMuaGFuZGxlcnNfID0gW107XG4gICAgdGhpcy5jYXRjaF8gPSBudWxsO1xuICAgIHRoaXMubm9kZV8uY2JfID0gdGhpczsgLy8gQXR0YWNoIGNhbGxiYWNrIHRvIG5vZGUgc28gd2UgY2FuIHJldHJpZXZlIGl0IGxhdGVyXG4gICAgdGhpcy5xdWV1ZWRfID0gb3B0X3F1ZXVlZDtcbn07XG5cbi8qKlxuICogQWRkIGhhbmRsZXIgZm9yIHJldHVybiBvZiBwc2V1ZG8gZnVuY3Rpb24ncyB2YWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBGdW5jdGlvbiB0byBoYW5kbGUgdmFsdWVcbiAqIEByZXR1cm4ge0ludGVycHJldGVyLkNhbGxiYWNrfSBTdGF0ZSBvYmplY3QgZm9yIHJ1bm5pbmcgcHNldWRvIGZ1bmN0aW9uXG4gKi9cbkludGVycHJldGVyLkNhbGxiYWNrLnByb3RvdHlwZVsndGhlbiddID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBmdW5jdGlvbiBmb3IgXCJ0aGVuXCIgaGFuZGxlcicpO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZXJzXy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgZXhjZXB0aW9uIGNhdGNoIGhhbmRsZXIgZm9yIHJldHVybiBvZiBwc2V1ZG8gZnVuY3Rpb24ncyBjYWxsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEZ1bmN0aW9uIHRvIGhhbmRsZSB2YWx1ZVxuICogQHJldHVybiB7SW50ZXJwcmV0ZXIuQ2FsbGJhY2t9IFN0YXRlIG9iamVjdCBmb3IgcnVubmluZyBwc2V1ZG8gZnVuY3Rpb25cbiAqL1xuSW50ZXJwcmV0ZXIuQ2FsbGJhY2sucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBmdW5jdGlvbiBmb3IgXCJjYXRjaFwiIGhhbmRsZXInKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2F0Y2hfKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjYXRjaFwiIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIH1cbiAgICAvLyB0aGlzLm5vZGVfLnNraXBUaHJvd18gPSB0cnVlO1xuICAgIHRoaXMuY2F0Y2hfID0gaGFuZGxlcjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIHBzZXVkbyBmdW5jdGlvbiBjYWxsYmFjayB0byBzdGF0U3RhY2tcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXJ9IGludGVycHJldGVyIEludGVycHJldGVyIGluc3RhbmNlXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLlNjb3BlfSBzY29wZSBGdW5jdGlvbidzIHNjb3BlLlxuICovXG5JbnRlcnByZXRlci5DYWxsYmFjay5wcm90b3R5cGUucHVzaFN0YXRlXyA9IGZ1bmN0aW9uIChpbnRlcnByZXRlciwgc2NvcGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZWxlc3NfKSByZXR1cm47IC8vIE9ubHkgdXNlcyBoYW5kbGVyX1xuICAgIGlmICghdGhpcy5zdGF0ZV8pIHtcbiAgICAgICAgdGhpcy5zdGF0ZV8gPSBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUodGhpcy5ub2RlXywgc2NvcGUpO1xuICAgIH1cbiAgICBpbnRlcnByZXRlci5zdGF0ZVN0YWNrLnB1c2godGhpcy5zdGF0ZV8pO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgbmV4dCBzdGVwIGZvciBuYXRpdmUgZnVuY3Rpb24gY2FsbGJhY2tcbiAqIEBwYXJhbSB7SW50ZXJwcmV0ZXIuT2JqZWN0fSB2YWx1ZSBPYmplY3QgY29udGFpbmluZyBwc2V1ZG8gZnVuY3Rpb24gY2FsbGJhY2sncyByZXN1bHQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3luY0NhbGxiYWNrIEZ1bmN0aW9uIGZvciBhc3luY0Z1bmMgY2FsbGJhY2tcbiAqL1xuSW50ZXJwcmV0ZXIuQ2FsbGJhY2sucHJvdG90eXBlLmRvTmV4dF8gPSBmdW5jdGlvbiAoYXN5bmNDYWxsYmFjaykge1xuICAgIHZhciBoYW5kbGVyID0gdGhpcy5oYW5kbGVyc18uc2hpZnQoKTtcbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmZvcmNlXyA9IHRoaXMuaGFuZGxlcnNfLmxlbmd0aDsgLy8gQ29udGludWUgdG8gcnVuIGlmIHdlIGhhdmUgbW9yZVxuICAgICAgICByZXR1cm4gaGFuZGxlcih0aGlzLnN0YXRlbGVzc18gPyB0aGlzLnZhbHVlIDogdGhpcy5zdGF0ZV8udmFsdWUsIGFzeW5jQ2FsbGJhY2spO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZWxlc3NfKSByZXR1cm47IC8vIENhbGxiYWNrIGRvZXMgbm90IGhhdmUgYSBzdGF0ZSB2YWx1ZVxuICAgIGlmIChhc3luY0NhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jQ2FsbGJhY2sodGhpcy5zdGF0ZV8udmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlXy52YWx1ZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENsYXNzIGZvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge0ludGVycHJldGVyLk9iamVjdH0gcHJvdG8gUHJvdG90eXBlIG9iamVjdCBvciBudWxsLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbkludGVycHJldGVyLk9iamVjdCA9IGZ1bmN0aW9uIChwcm90bykge1xuICAgIHRoaXMuZ2V0dGVyID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnNldHRlciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLnByb3RvID0gcHJvdG87XG59O1xuXG4vKiogQHR5cGUge0ludGVycHJldGVyLk9iamVjdH0gKi9cbkludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUucHJvdG8gPSBudWxsO1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbkludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUuY2xhc3MgPSAnT2JqZWN0JztcblxuLyoqIEB0eXBlIHtEYXRlfFJlZ0V4cHxib29sZWFufG51bWJlcnxzdHJpbmd8bnVsbH0gKi9cbkludGVycHJldGVyLk9iamVjdC5wcm90b3R5cGUuZGF0YSA9IG51bGw7XG5cbi8qKlxuICogQ29udmVydCB0aGlzIG9iamVjdCBpbnRvIGEgc3RyaW5nLlxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmcgdmFsdWUuXG4gKiBAb3ZlcnJpZGVcbiAqL1xuSW50ZXJwcmV0ZXIuT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICAvLyBQcmltaXRpdmUgdmFsdWUuXG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2xhc3MgPT09ICdBcnJheScpIHtcbiAgICAgICAgLy8gQXJyYXkgY29udGVudHMgbXVzdCBub3QgaGF2ZSBjeWNsZXMuXG4gICAgICAgIHZhciBjeWNsZXMgPSBJbnRlcnByZXRlci50b1N0cmluZ0N5Y2xlc187XG4gICAgICAgIGN5Y2xlcy5wdXNoKHRoaXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN0cnMgPSBbXTtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHZlcnkgbG9uZyBzdHJpbmdzLiAgVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgc3BlYyxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCBwcmV2ZW50cyBoYW5naW5nIHRoZSBpbnRlcnByZXRlciBmb3IgZ2lnYW50aWMgYXJyYXlzLlxuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IHRoaXMucHJvcGVydGllcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdHJ1bmNhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobWF4TGVuZ3RoID4gMTAyNCkge1xuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9IDEwMDA7XG4gICAgICAgICAgICAgICAgdHJ1bmNhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgc3Ryc1tpXSA9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0ICYmIGN5Y2xlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJy4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJ1bmNhdGVkKSB7XG4gICAgICAgICAgICAgICAgc3Rycy5wdXNoKCcuLi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGN5Y2xlcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Rycy5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2xhc3MgPT09ICdFcnJvcicpIHtcbiAgICAgICAgLy8gRXJyb3IgbmFtZSBhbmQgbWVzc2FnZSBwcm9wZXJ0aWVzIG11c3Qgbm90IGhhdmUgY3ljbGVzLlxuICAgICAgICB2YXIgY3ljbGVzID0gSW50ZXJwcmV0ZXIudG9TdHJpbmdDeWNsZXNfO1xuICAgICAgICBpZiAoY3ljbGVzLmluZGV4T2YodGhpcykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tvYmplY3QgRXJyb3JdJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSwgbWVzc2FnZTtcbiAgICAgICAgLy8gQnVnOiBEb2VzIG5vdCBzdXBwb3J0IGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIG5hbWUgb3IgbWVzc2FnZS5cbiAgICAgICAgdmFyIG9iaiA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgnbmFtZScgaW4gb2JqLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gb2JqLnByb3BlcnRpZXNbJ25hbWUnXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKG9iaiA9IG9iai5wcm90bykpO1xuICAgICAgICB2YXIgb2JqID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCdtZXNzYWdlJyBpbiBvYmoucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBvYmoucHJvcGVydGllc1snbWVzc2FnZSddO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgob2JqID0gb2JqLnByb3RvKSk7XG4gICAgICAgIGN5Y2xlcy5wdXNoKHRoaXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUgJiYgU3RyaW5nKG5hbWUpO1xuICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgJiYgU3RyaW5nKG1lc3NhZ2UpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgY3ljbGVzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlID8gbmFtZSArICc6ICcgKyBtZXNzYWdlIDogU3RyaW5nKG5hbWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgLy8gUmVnRXhwLCBEYXRlLCBhbmQgYm94ZWQgcHJpbWl0aXZlcy5cbiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiAnW29iamVjdCAnICsgdGhpcy5jbGFzcyArICddJztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBvYmplY3QncyB2YWx1ZS5cbiAqIEByZXR1cm4ge0ludGVycHJldGVyLlZhbHVlfSBWYWx1ZS5cbiAqIEBvdmVycmlkZVxuICovXG5JbnRlcnByZXRlci5PYmplY3QucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuZGF0YSA9PT0gbnVsbCB8fCB0aGlzLmRhdGEgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7IC8vIEFuIE9iamVjdCwgUmVnRXhwLCBvciBwcmltaXRpdmUuXG4gICAgfVxuICAgIGlmICh0aGlzLmRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudmFsdWVPZigpOyAvLyBNaWxsaXNlY29uZHMuXG4gICAgfVxuICAgIHJldHVybiAvKiogQHR5cGUgeyhib29sZWFufG51bWJlcnxzdHJpbmcpfSAqLyAodGhpcy5kYXRhKTsgLy8gQm94ZWQgcHJpbWl0aXZlLlxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIHRvIGhhbmRsZSBlYWNoIG5vZGUgdHlwZS5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQXJyYXlFeHByZXNzaW9uJ10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gbm9kZVsnZWxlbWVudHMnXTtcbiAgICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gICAgaWYgKCFzdGF0ZS5hcnJheV8pIHtcbiAgICAgICAgc3RhdGUuYXJyYXlfID0gdGhpcy5jcmVhdGVBcnJheSgpO1xuICAgICAgICBzdGF0ZS5hcnJheV8ucHJvcGVydGllcy5sZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShzdGF0ZS5hcnJheV8sIG4sIHN0YXRlLnZhbHVlKTtcbiAgICAgICAgbisrO1xuICAgIH1cbiAgICB3aGlsZSAobiA8IGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBTa2lwIG1pc3NpbmcgZWxlbWVudHMgLSB0aGV5J3JlIG5vdCBkZWZpbmVkLCBub3QgdW5kZWZpbmVkLlxuICAgICAgICBpZiAoZWxlbWVudHNbbl0pIHtcbiAgICAgICAgICAgIHN0YXRlLm5fID0gbjtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZWxlbWVudHNbbl0sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBuKys7XG4gICAgfVxuICAgIHN0YWNrLnBvcCgpO1xuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gc3RhdGUuYXJyYXlfO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQXNzaWdubWVudEV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBpZiAoIXN0YXRlLmRvbmVMZWZ0Xykge1xuICAgICAgICBzdGF0ZS5kb25lTGVmdF8gPSB0cnVlO1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2xlZnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICBuZXh0U3RhdGUuY29tcG9uZW50cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuICAgIGlmICghc3RhdGUuZG9uZVJpZ2h0Xykge1xuICAgICAgICBpZiAoIXN0YXRlLmxlZnRSZWZlcmVuY2VfKSB7XG4gICAgICAgICAgICBzdGF0ZS5sZWZ0UmVmZXJlbmNlXyA9IHN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5kb25lR2V0dGVyXykge1xuICAgICAgICAgICAgc3RhdGUubGVmdFZhbHVlXyA9IHN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUuZG9uZUdldHRlcl8gJiYgbm9kZVsnb3BlcmF0b3InXSAhPT0gJz0nKSB7XG4gICAgICAgICAgICB2YXIgbGVmdFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzdGF0ZS5sZWZ0UmVmZXJlbmNlXyk7XG4gICAgICAgICAgICBzdGF0ZS5sZWZ0VmFsdWVfID0gbGVmdFZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0dGVyU3RlcF8pIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgc3RhdGUuZG9uZUdldHRlcl8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBmdW5jID0gLyoqIEB0eXBlIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSAqLyAobGVmdFZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXR0ZXJfKGZ1bmMsIHN0YXRlLmxlZnRSZWZlcmVuY2VfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kb25lUmlnaHRfID0gdHJ1ZTtcbiAgICAgICAgLy8gV2hlbiBhc3NpZ25pbmcgYW4gdW5uYW1lZCBmdW5jdGlvbiB0byBhIHZhcmlhYmxlLCB0aGUgZnVuY3Rpb24ncyBuYW1lXG4gICAgICAgIC8vIGlzIHNldCB0byB0aGUgdmFyaWFibGUgbmFtZS4gIFJlY29yZCB0aGUgdmFyaWFibGUgbmFtZSBpbiBjYXNlIHRoZVxuICAgICAgICAvLyByaWdodCBzaWRlIGlzIGEgZnVuY3Rpb25FeHByZXNzaW9uLlxuICAgICAgICAvLyBFLmcuIGZvbyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIGlmIChub2RlWydvcGVyYXRvciddID09PSAnPScgJiYgbm9kZVsnbGVmdCddWyd0eXBlJ10gPT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICAgICAgc3RhdGUuZGVzdGluYXRpb25OYW1lID0gbm9kZVsnbGVmdCddWyduYW1lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydyaWdodCddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5kb25lU2V0dGVyXykge1xuICAgICAgICAvLyBSZXR1cm4gaWYgc2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgICAvLyBTZXR0ZXIgbWV0aG9kIG9uIHByb3BlcnR5IGhhcyBjb21wbGV0ZWQuXG4gICAgICAgIC8vIElnbm9yZSBpdHMgcmV0dXJuIHZhbHVlLCBhbmQgdXNlIHRoZSBvcmlnaW5hbCBzZXQgdmFsdWUgaW5zdGVhZC5cbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gc3RhdGUuc2V0dGVyVmFsdWVfO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IHN0YXRlLmxlZnRWYWx1ZV87XG4gICAgdmFyIHJpZ2h0VmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICBzd2l0Y2ggKG5vZGVbJ29wZXJhdG9yJ10pIHtcbiAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgICB2YWx1ZSA9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnKz0nOlxuICAgICAgICAgICAgdmFsdWUgKz0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICctPSc6XG4gICAgICAgICAgICB2YWx1ZSAtPSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyo9JzpcbiAgICAgICAgICAgIHZhbHVlICo9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLz0nOlxuICAgICAgICAgICAgdmFsdWUgLz0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICclPSc6XG4gICAgICAgICAgICB2YWx1ZSAlPSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJzw8PSc6XG4gICAgICAgICAgICB2YWx1ZSA8PD0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICc+Pj0nOlxuICAgICAgICAgICAgdmFsdWUgPj49IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnPj4+PSc6XG4gICAgICAgICAgICB2YWx1ZSA+Pj49IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnJj0nOlxuICAgICAgICAgICAgdmFsdWUgJj0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdePSc6XG4gICAgICAgICAgICB2YWx1ZSBePSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3w9JzpcbiAgICAgICAgICAgIHZhbHVlIHw9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IFN5bnRheEVycm9yKCdVbmtub3duIGFzc2lnbm1lbnQgZXhwcmVzc2lvbjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICAgIH1cbiAgICB2YXIgc2V0dGVyID0gdGhpcy5zZXRWYWx1ZShzdGF0ZS5sZWZ0UmVmZXJlbmNlXywgdmFsdWUpO1xuICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgc3RhdGUuZG9uZVNldHRlcl8gPSB0cnVlO1xuICAgICAgICBzdGF0ZS5zZXR0ZXJWYWx1ZV8gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2V0dGVyXyhzZXR0ZXIsIHN0YXRlLmxlZnRSZWZlcmVuY2VfLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8vIFJldHVybiBpZiBubyBzZXR0ZXIgZnVuY3Rpb24uXG4gICAgc3RhY2sucG9wKCk7XG4gICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSB2YWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEJpbmFyeUV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBpZiAoIXN0YXRlLmRvbmVMZWZ0Xykge1xuICAgICAgICBzdGF0ZS5kb25lTGVmdF8gPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2xlZnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmRvbmVSaWdodF8pIHtcbiAgICAgICAgc3RhdGUuZG9uZVJpZ2h0XyA9IHRydWU7XG4gICAgICAgIHN0YXRlLmxlZnRWYWx1ZV8gPSBzdGF0ZS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydyaWdodCddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIHN0YWNrLnBvcCgpO1xuICAgIHZhciBsZWZ0VmFsdWUgPSBzdGF0ZS5sZWZ0VmFsdWVfO1xuICAgIHZhciByaWdodFZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgdmFyIHZhbHVlO1xuICAgIHN3aXRjaCAobm9kZVsnb3BlcmF0b3InXSkge1xuICAgICAgICBjYXNlICc9PSc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA9PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlICE9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnPT09JzpcbiAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlID09PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyE9PSc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAhPT0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICc+JzpcbiAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlID4gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA+PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPCByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlIDw9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSArIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAtIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAqIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAvIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAlIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAmIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnfCc6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSB8IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnXic6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSBeIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnPDwnOlxuICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPDwgcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICc+Pic6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA+PiByaWdodFZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJz4+Pic6XG4gICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA+Pj4gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgICBpZiAoIShyaWdodFZhbHVlIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVFlQRV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgXCInaW4nIGV4cGVjdHMgYW4gb2JqZWN0LCBub3QgJ1wiICsgcmlnaHRWYWx1ZSArIFwiJ1wiLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuaGFzUHJvcGVydHkocmlnaHRWYWx1ZSwgbGVmdFZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbnN0YW5jZW9mJzpcbiAgICAgICAgICAgIGlmICghdGhpcy5pc2EocmlnaHRWYWx1ZSwgdGhpcy5GVU5DVElPTikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdSaWdodC1oYW5kIHNpZGUgb2YgaW5zdGFuY2VvZiBpcyBub3QgYW4gb2JqZWN0JyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPVxuICAgICAgICAgICAgICAgIGxlZnRWYWx1ZSBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCA/IHRoaXMuaXNhKGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSkgOiBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gYmluYXJ5IG9wZXJhdG9yOiAnICsgbm9kZVsnb3BlcmF0b3InXSk7XG4gICAgfVxuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBCbG9ja1N0YXRlbWVudCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBuID0gc3RhdGUubl8gfHwgMDtcbiAgICB2YXIgZXhwcmVzc2lvbiA9IG5vZGVbJ2JvZHknXVtuXTtcbiAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICBzdGF0ZS5uXyA9IG4gKyAxO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKGV4cHJlc3Npb24sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBCcmVha1N0YXRlbWVudCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBsYWJlbCA9IG5vZGVbJ2xhYmVsJ10gJiYgbm9kZVsnbGFiZWwnXVsnbmFtZSddO1xuICAgIHRoaXMudW53aW5kKEludGVycHJldGVyLkNvbXBsZXRpb24uQlJFQUssIHVuZGVmaW5lZCwgbGFiZWwpO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQ2FsbEV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBpZiAoIXN0YXRlLmRvbmVDYWxsZWVfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVDYWxsZWVfID0gMTtcbiAgICAgICAgLy8gQ29tcG9uZW50cyBuZWVkZWQgdG8gZGV0ZXJtaW5lIHZhbHVlIG9mIGB0aGlzYC5cbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydjYWxsZWUnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICBuZXh0U3RhdGUuY29tcG9uZW50cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5kb25lQ2FsbGVlXyA9PT0gMSkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdmFsdWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICBzdGF0ZS5kb25lQ2FsbGVlXyA9IDI7XG4gICAgICAgIHZhciBmdW5jID0gc3RhdGUudmFsdWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZ1bmMpKSB7XG4gICAgICAgICAgICBzdGF0ZS5mdW5jXyA9IHRoaXMuZ2V0VmFsdWUoZnVuYyk7XG4gICAgICAgICAgICBpZiAoZnVuY1swXSA9PT0gSW50ZXJwcmV0ZXIuU0NPUEVfUkVGRVJFTkNFKSB7XG4gICAgICAgICAgICAgICAgLy8gKEdsb2JhbGx5IG9yIGxvY2FsbHkpIG5hbWVkIGZ1bmN0aW9uLiAgSXMgaXQgbmFtZWQgJ2V2YWwnP1xuICAgICAgICAgICAgICAgIHN0YXRlLmRpcmVjdEV2YWxfID0gZnVuY1sxXSA9PT0gJ2V2YWwnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNZXRob2QgZnVuY3Rpb24sIGB0aGlzYCBpcyBvYmplY3QgKGlnbm9yZWQgaWYgaW52b2tlZCBhcyBgbmV3YCkuXG4gICAgICAgICAgICAgICAgc3RhdGUuZnVuY1RoaXNfID0gZnVuY1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmMgPSBzdGF0ZS5mdW5jXztcbiAgICAgICAgICAgIGlmICh0aGlzLmdldHRlclN0ZXBfKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIHN0YXRlLmRvbmVDYWxsZWVfID0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXR0ZXJfKC8qKiBAdHlwZSB7IUludGVycHJldGVyLk9iamVjdH0gKi8gKGZ1bmMpLCBzdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBbHJlYWR5IGV2YWx1YXRlZCBmdW5jdGlvbjogKGZ1bmN0aW9uKCl7Li4ufSkoKTtcbiAgICAgICAgICAgIHN0YXRlLmZ1bmNfID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5hcmd1bWVudHNfID0gW107XG4gICAgICAgIHN0YXRlLm5fID0gMDtcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSBzdGF0ZS5mdW5jXztcbiAgICBpZiAoIXN0YXRlLmRvbmVBcmdzXykge1xuICAgICAgICBpZiAoc3RhdGUubl8gIT09IDApIHtcbiAgICAgICAgICAgIHN0YXRlLmFyZ3VtZW50c18ucHVzaChzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGVbJ2FyZ3VtZW50cyddW3N0YXRlLm5fXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydhcmd1bWVudHMnXVtzdGF0ZS5uXysrXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERldGVybWluZSB2YWx1ZSBvZiBgdGhpc2AgaW4gZnVuY3Rpb24uXG4gICAgICAgIGlmIChub2RlWyd0eXBlJ10gPT09ICdOZXdFeHByZXNzaW9uJykge1xuICAgICAgICAgICAgaWYgKCEoZnVuYyBpbnN0YW5jZW9mIEludGVycHJldGVyLk9iamVjdCkgfHwgZnVuYy5pbGxlZ2FsQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJbGxlZ2FsOiBuZXcgZXNjYXBlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbih0aGlzLlRZUEVfRVJST1IsIGZ1bmMgKyAnIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3RvciwgYHRoaXNgIGlzIG5ldyBvYmplY3QuXG4gICAgICAgICAgICBpZiAoZnVuYyA9PT0gdGhpcy5BUlJBWSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXMuY3JlYXRlQXJyYXkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3RvID0gZnVuYy5wcm9wZXJ0aWVzWydwcm90b3R5cGUnXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvICE9PSAnb2JqZWN0JyB8fCBwcm90byA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb24tb2JqZWN0IHByb3RvdHlwZXMgZGVmYXVsdCB0byBgT2JqZWN0LnByb3RvdHlwZWAuXG4gICAgICAgICAgICAgICAgICAgIHByb3RvID0gdGhpcy5PQkpFQ1RfUFJPVE87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8ocHJvdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuaXNDb25zdHJ1Y3RvciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZnVuY1RoaXNfID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEdsb2JhbCBmdW5jdGlvbiwgYHRoaXNgIGlzIGdsb2JhbCBvYmplY3QgKG9yIGB1bmRlZmluZWRgIGlmIHN0cmljdCkuXG4gICAgICAgICAgICBzdGF0ZS5mdW5jVGhpc18gPSBzdGF0ZS5zY29wZS5zdHJpY3QgPyB1bmRlZmluZWQgOiB0aGlzLmdsb2JhbE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kb25lQXJnc18gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuY2JfICYmIHN0YXRlLmNiXy5mb3JjZV8pIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgd2FudHMgdG8gcnVuIGFnYWluXG4gICAgICAgIHN0YXRlLmRvbmVFeGVjXyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5jYl8uZm9yY2VfID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc3RhdGUuZG9uZUV4ZWNfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVFeGVjXyA9IHRydWU7XG4gICAgICAgIGlmICghKGZ1bmMgaW5zdGFuY2VvZiBJbnRlcnByZXRlci5PYmplY3QpKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXhjZXB0aW9uKHRoaXMuVFlQRV9FUlJPUiwgZnVuYyArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnVuY05vZGUgPSBmdW5jLm5vZGU7XG4gICAgICAgIGlmIChmdW5jTm9kZSkge1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5jcmVhdGVTY29wZShmdW5jTm9kZVsnYm9keSddLCBmdW5jLnBhcmVudFNjb3BlKTtcbiAgICAgICAgICAgIC8vIEFkZCBhbGwgYXJndW1lbnRzLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jTm9kZVsncGFyYW1zJ10ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gZnVuY05vZGVbJ3BhcmFtcyddW2ldWyduYW1lJ107XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtVmFsdWUgPSBzdGF0ZS5hcmd1bWVudHNfLmxlbmd0aCA+IGkgPyBzdGF0ZS5hcmd1bWVudHNfW2ldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHkoc2NvcGUub2JqZWN0LCBwYXJhbU5hbWUsIHBhcmFtVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVpbGQgYXJndW1lbnRzIHZhcmlhYmxlLlxuICAgICAgICAgICAgdmFyIGFyZ3NMaXN0ID0gdGhpcy5jcmVhdGVBcnJheSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5hcmd1bWVudHNfLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShhcmdzTGlzdCwgaSwgc3RhdGUuYXJndW1lbnRzX1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgJ2FyZ3VtZW50cycsIGFyZ3NMaXN0KTtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgZnVuY3Rpb24ncyBuYW1lICh2YXIgeCA9IGZ1bmN0aW9uIGZvbygpe307KVxuICAgICAgICAgICAgdmFyIG5hbWUgPSBmdW5jTm9kZVsnaWQnXSAmJiBmdW5jTm9kZVsnaWQnXVsnbmFtZSddO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5KHNjb3BlLm9iamVjdCwgbmFtZSwgZnVuYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNjb3BlLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXMuYm94VGhpc18oc3RhdGUuZnVuY1RoaXNfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgc2NvcGUub2JqZWN0LFxuICAgICAgICAgICAgICAgICd0aGlzJyxcbiAgICAgICAgICAgICAgICBzdGF0ZS5mdW5jVGhpc18sXG4gICAgICAgICAgICAgICAgSW50ZXJwcmV0ZXIuUkVBRE9OTFlfREVTQ1JJUFRPUixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IHVuZGVmaW5lZDsgLy8gRGVmYXVsdCB2YWx1ZSBpZiBubyBleHBsaWNpdCByZXR1cm4uXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKGZ1bmNOb2RlWydib2R5J10sIHNjb3BlKTtcbiAgICAgICAgfSBlbHNlIGlmIChmdW5jLmV2YWwpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gc3RhdGUuYXJndW1lbnRzX1swXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBKUyBkb2VzIG5vdCBwYXJzZSBTdHJpbmcgb2JqZWN0czpcbiAgICAgICAgICAgICAgICAvLyBldmFsKG5ldyBTdHJpbmcoJzEgKyAxJykpIC0+ICcxICsgMSdcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGNvZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3QgPSBhY29ybi5wYXJzZShTdHJpbmcoY29kZSksIEludGVycHJldGVyLlBBUlNFX09QVElPTlMpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWNvcm4gdGhyZXcgYSBTeW50YXhFcnJvci4gIFJldGhyb3cgYXMgYSB0cmFwcGFibGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5TWU5UQVhfRVJST1IsICdJbnZhbGlkIGNvZGU6ICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZXZhbE5vZGUgPSBuZXcgdGhpcy5ub2RlQ29uc3RydWN0b3IoeyBvcHRpb25zOiB7fSB9KTtcbiAgICAgICAgICAgICAgICBldmFsTm9kZVsndHlwZSddID0gJ0V2YWxQcm9ncmFtXyc7XG4gICAgICAgICAgICAgICAgZXZhbE5vZGVbJ2JvZHknXSA9IGFzdFsnYm9keSddO1xuICAgICAgICAgICAgICAgIEludGVycHJldGVyLnN0cmlwTG9jYXRpb25zXyhldmFsTm9kZSwgbm9kZVsnc3RhcnQnXSwgbm9kZVsnZW5kJ10pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgc2NvcGUgYW5kIHVwZGF0ZSBpdCB3aXRoIGRlZmluaXRpb25zIGluIGV2YWwoKS5cbiAgICAgICAgICAgICAgICB2YXIgc2NvcGUgPSBzdGF0ZS5kaXJlY3RFdmFsXyA/IHN0YXRlLnNjb3BlIDogdGhpcy5nbG9iYWxTY29wZTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0cmljdCBtb2RlIGdldCBpdHMgb3duIHNjb3BlIGluIGV2YWwuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gdGhpcy5jcmVhdGVTY29wZShhc3QsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb24tc3RyaWN0IG1vZGUgcG9sbHV0ZXMgdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVTY29wZV8oYXN0LCBzY29wZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7IC8vIERlZmF1bHQgdmFsdWUgaWYgbm8gY29kZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKGV2YWxOb2RlLCBzY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZnVuYy5uYXRpdmVGdW5jKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLnNjb3BlLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmNUaGlzXyA9IHRoaXMuYm94VGhpc18oc3RhdGUuZnVuY1RoaXNfKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF0aXZlUmVzdWx0XyhcbiAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5jYl9cbiAgICAgICAgICAgICAgICAgICAgPyBzdGF0ZS5jYl8uZG9OZXh0XygpXG4gICAgICAgICAgICAgICAgICAgIDogZnVuYy5uYXRpdmVGdW5jLmFwcGx5KHN0YXRlLmZ1bmNUaGlzXywgc3RhdGUuYXJndW1lbnRzXyksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGZ1bmMuYXN5bmNGdW5jKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0ludGVycHJldGVyID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpc0ludGVycHJldGVyLnBhdXNlZF8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzSW50ZXJwcmV0ZXIuaGFuZGxlTmF0aXZlUmVzdWx0XyhzdGF0ZSwgc2NvcGUsIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnBhdXNlZF8gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNiXykge1xuICAgICAgICAgICAgICAgIC8vIERvIG5leHQgc3RlcCBvZiBuYXRpdmUgYXN5bmMgZnVuY1xuICAgICAgICAgICAgICAgIHN0YXRlLmNiXy5kb05leHRfKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3JjZSB0aGUgYXJndW1lbnQgbGVuZ3RocyB0byBtYXRjaCwgdGhlbiBhcHBlbmQgdGhlIGNhbGxiYWNrLlxuICAgICAgICAgICAgdmFyIGFyZ0xlbmd0aCA9IGZ1bmMuYXN5bmNGdW5jLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB2YXIgYXJnc1dpdGhDYWxsYmFjayA9IHN0YXRlLmFyZ3VtZW50c19cbiAgICAgICAgICAgICAgICAuY29uY2F0KG5ldyBBcnJheShhcmdMZW5ndGgpKVxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCBhcmdMZW5ndGgpO1xuICAgICAgICAgICAgYXJnc1dpdGhDYWxsYmFjay5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmICghc3RhdGUuc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZnVuY1RoaXNfID0gdGhpcy5ib3hUaGlzXyhzdGF0ZS5mdW5jVGhpc18pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuYy5hc3luY0Z1bmMuYXBwbHkoc3RhdGUuZnVuY1RoaXNfLCBhcmdzV2l0aENhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIEEgY2hpbGQgb2YgYSBmdW5jdGlvbiBpcyBhIGZ1bmN0aW9uIGJ1dCBpcyBub3QgY2FsbGFibGUuICBGb3IgZXhhbXBsZTpcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIEYucHJvdG90eXBlID0gZXNjYXBlO1xuICAgICAgdmFyIGYgPSBuZXcgRigpO1xuICAgICAgZigpO1xuICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24odGhpcy5UWVBFX0VSUk9SLCBmdW5jLmNsYXNzICsgJyBpcyBub3QgY2FsbGFibGUnKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEV4ZWN1dGlvbiBjb21wbGV0ZS4gIFB1dCB0aGUgcmV0dXJuIHZhbHVlIG9uIHRoZSBzdGFjay5cbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGlmIChzdGF0ZS5pc0NvbnN0cnVjdG9yICYmIHR5cGVvZiBzdGF0ZS52YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCBjYXNlIGZvciBhIGNvbnN0cnVjdG9yIGlzIHRvIHVzZSB0aGUgYHRoaXNgIHZhbHVlLlxuICAgICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS5mdW5jVGhpc187XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb24tY29uc3RydWN0b3JzIG9yIGNvbnN0cnVjdGlvbnMgZXhwbGljaXRseSByZXR1cm5pbmcgb2JqZWN0cyB1c2VcbiAgICAgICAgICAgIC8vIHRoZSByZXR1cm4gdmFsdWUuXG4gICAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQ2F0Y2hDbGF1c2UnXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBpZiAoIXN0YXRlLmRvbmVfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVfID0gdHJ1ZTtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IHNjb3BlLlxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLmNyZWF0ZVNwZWNpYWxTY29wZShzdGF0ZS5zY29wZSk7XG4gICAgICAgIC8vIEFkZCB0aGUgYXJndW1lbnQuXG4gICAgICAgIHRoaXMuc2V0UHJvcGVydHkoc2NvcGUub2JqZWN0LCBub2RlWydwYXJhbSddWyduYW1lJ10sIHN0YXRlLnRocm93VmFsdWUpO1xuICAgICAgICAvLyBFeGVjdXRlIGNhdGNoIGNsYXVzZS5cbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydib2R5J10sIHNjb3BlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBDb25kaXRpb25hbEV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICB2YXIgbW9kZSA9IHN0YXRlLm1vZGVfIHx8IDA7XG4gICAgaWYgKG1vZGUgPT09IDApIHtcbiAgICAgICAgc3RhdGUubW9kZV8gPSAxO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ3Rlc3QnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBpZiAobW9kZSA9PT0gMSkge1xuICAgICAgICBzdGF0ZS5tb2RlXyA9IDI7XG4gICAgICAgIHZhciB2YWx1ZSA9IEJvb2xlYW4oc3RhdGUudmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUgJiYgbm9kZVsnY29uc2VxdWVudCddKSB7XG4gICAgICAgICAgICAvLyBFeGVjdXRlIGBpZmAgYmxvY2suXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2NvbnNlcXVlbnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBub2RlWydhbHRlcm5hdGUnXSkge1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSBgZWxzZWAgYmxvY2suXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2FsdGVybmF0ZSddLCBzdGF0ZS5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZhbCgnMTtpZihmYWxzZSl7Mn0nKSAtPiB1bmRlZmluZWRcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG4gICAgaWYgKG5vZGVbJ3R5cGUnXSA9PT0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbicpIHtcbiAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBDb250aW51ZVN0YXRlbWVudCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBsYWJlbCA9IG5vZGVbJ2xhYmVsJ10gJiYgbm9kZVsnbGFiZWwnXVsnbmFtZSddO1xuICAgIHRoaXMudW53aW5kKEludGVycHJldGVyLkNvbXBsZXRpb24uQ09OVElOVUUsIHVuZGVmaW5lZCwgbGFiZWwpO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRGVidWdnZXJTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICAvLyBEbyBub3RoaW5nLiAgTWF5IGJlIG92ZXJyaWRkZW4gYnkgZGV2ZWxvcGVycy5cbiAgICBzdGFjay5wb3AoKTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcERvV2hpbGVTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBpZiAobm9kZVsndHlwZSddID09PSAnRG9XaGlsZVN0YXRlbWVudCcgJiYgc3RhdGUudGVzdF8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBGaXJzdCBpdGVyYXRpb24gb2YgZG8vd2hpbGUgZXhlY3V0ZXMgd2l0aG91dCBjaGVja2luZyB0ZXN0LlxuICAgICAgICBzdGF0ZS52YWx1ZSA9IHRydWU7XG4gICAgICAgIHN0YXRlLnRlc3RfID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS50ZXN0Xykge1xuICAgICAgICBzdGF0ZS50ZXN0XyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsndGVzdCddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIGlmICghc3RhdGUudmFsdWUpIHtcbiAgICAgICAgLy8gRG9uZSwgZXhpdCBsb29wLlxuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ2JvZHknXSkge1xuICAgICAgICAvLyBFeGVjdXRlIHRoZSBib2R5LlxuICAgICAgICBzdGF0ZS50ZXN0XyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5pc0xvb3AgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2JvZHknXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEVtcHR5U3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBFdmFsUHJvZ3JhbV8nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBub2RlWydib2R5J11bbl07XG4gICAgaWYgKGV4cHJlc3Npb24pIHtcbiAgICAgICAgc3RhdGUubl8gPSBuICsgMTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShleHByZXNzaW9uLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIHN0YWNrLnBvcCgpO1xuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdGhpcy52YWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcENhbGxFeHByZXNzaW9uRnVuY18nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICB2YXIgY2IgPSBub2RlLmNiXztcbiAgICB2YXIgcXVldWVkID0gY2IucXVldWVkXztcbiAgICBpZiAoIXN0YXRlLmRvbmVfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVfID0gdHJ1ZTtcbiAgICAgICAgdmFyIGNlTm9kZSA9IG5ldyB0aGlzLm5vZGVDb25zdHJ1Y3Rvcih7IG9wdGlvbnM6IHt9IH0pO1xuICAgICAgICBjZU5vZGVbJ3R5cGUnXSA9ICdDYWxsRXhwcmVzc2lvbic7XG4gICAgICAgIHZhciBjZVN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKGNlTm9kZSwgbm9kZS5zY29wZV8gfHwgc3RhdGUuc2NvcGUpO1xuICAgICAgICBjZVN0YXRlLmRvbmVDYWxsZWVfID0gdHJ1ZTtcbiAgICAgICAgY2VTdGF0ZS5mdW5jVGhpc18gPSBub2RlLmZ1bmNUaGlzXztcbiAgICAgICAgY2VTdGF0ZS5mdW5jXyA9IG5vZGUuZnVuY187XG4gICAgICAgIGNlU3RhdGUuZG9uZUFyZ3NfID0gdHJ1ZTtcbiAgICAgICAgY2VTdGF0ZS5hcmd1bWVudHNfID0gbm9kZS5hcmd1bWVudHNfO1xuICAgICAgICBzdGF0ZS5jYXRjaF8gPSBjYi5jYXRjaF87XG4gICAgICAgIHJldHVybiBjZVN0YXRlO1xuICAgIH1cbiAgICBpZiAocXVldWVkICYmIGNiLmhhbmRsZXJzXy5sZW5ndGggJiYgIXN0YXRlLnRocm93Xykge1xuICAgICAgICAvLyBDYWxsZWQgdmlhIHF1ZXVlZCBjYWxsYmFja1xuICAgICAgICAvLyBDYWxsYmFjayBhICd0aGVuJyBoYW5kbGVyIG5vdyAobm9uLXF1ZXVlZCBhcmUgY2FsbGVkIGluIHNldENhbGxFeHByZXNzaW9uKVxuICAgICAgICB2YXIgaGFuZGxlciA9IGNiLmhhbmRsZXJzXy5zaGlmdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZU5hdGl2ZVJlc3VsdF8oc3RhdGUsIG5vZGUuZnVuY1RoaXNfLCBoYW5kbGVyKHN0YXRlLnZhbHVlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNhdGNoXyAmJiBzdGF0ZS50aHJvd18pIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgYSAnY2F0Y2gnIGhhbmRsZXJcbiAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgLy8gQ2FsbGVkIHZpYSBxdWV1ZWQgY2FsbGJhY2tcbiAgICAgICAgICAgIC8vIEp1c3QgY2FsbCB0aGUgY2FsbGJhY2sgZGlyZWN0bHlcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF0aXZlUmVzdWx0XyhzdGF0ZSwgbm9kZS5mdW5jVGhpc18sIHN0YXRlLmNhdGNoXyhzdGF0ZS50aHJvd18pKTtcbiAgICAgICAgICAgIHN0YXRlLmNhdGNoXyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbW1lZGlhdGUgY2FsbGJhY2sgZnJvbSBDYWxsRXhwcmVzc2lvblxuICAgICAgICAgICAgLy8gTW9kaWZ5IGV4aXN0aW5nIENhbGxiYWNrIG9iamVjdCB0byBleGVjdXRlIGNhdGNoIHN0ZXBzXG4gICAgICAgICAgICBjYi5zdGF0ZWxlc3NfID0gdHJ1ZTsgLy8gQ2FsbGJhY2sgY2FuIG9ubHkgdXNlIGl0cyBoYW5kbGVyIGZvciByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgIGNiLmhhbmRsZXJzXyA9IFtzdGF0ZS5jYXRjaF9dO1xuICAgICAgICAgICAgY2IudmFsdWUgPSBzdGF0ZS50aHJvd187IC8vIFNldCBzdGF0ZWxlc3MgdmFsdWUgdG8gcGFzcyB0byBoYW5kbGVyXG4gICAgICAgICAgICBjYi5mb3JjZV8gPSB0cnVlOyAvLyBGb3JjZSBjYWxsYmFjayB0byBydW4gYWdhaW5cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFjay5wb3AoKTtcbiAgICBpZiAodGhpcy5zdGF0ZVN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBTYXZlIHZhbHVlIGFzIHJldHVybiB2YWx1ZSBpZiB3ZSB3ZXJlIHRoZSBsYXN0IHRvIGJlIGV4ZWN1dGVkXG4gICAgICAgIHRoaXMudmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBFeHByZXNzaW9uU3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgaWYgKCFzdGF0ZS5kb25lXykge1xuICAgICAgICBzdGF0ZS5kb25lXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnZXhwcmVzc2lvbiddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIHN0YWNrLnBvcCgpO1xuICAgIC8vIFNhdmUgdGhpcyB2YWx1ZSB0byBpbnRlcnByZXRlci52YWx1ZSBmb3IgdXNlIGFzIGEgcmV0dXJuIHZhbHVlIGlmXG4gICAgLy8gdGhpcyBjb2RlIGlzIGluc2lkZSBhbiBldmFsIGZ1bmN0aW9uLlxuICAgIHRoaXMudmFsdWUgPSBzdGF0ZS52YWx1ZTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcEZvckluU3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgLy8gRmlyc3QsIGluaXRpYWxpemUgYSB2YXJpYWJsZSBpZiBleGlzdHMuICBPbmx5IGRvIHNvIG9uY2UsIGV2ZXIuXG4gICAgaWYgKCFzdGF0ZS5kb25lSW5pdF8pIHtcbiAgICAgICAgc3RhdGUuZG9uZUluaXRfID0gdHJ1ZTtcbiAgICAgICAgaWYgKG5vZGVbJ2xlZnQnXVsnZGVjbGFyYXRpb25zJ10gJiYgbm9kZVsnbGVmdCddWydkZWNsYXJhdGlvbnMnXVswXVsnaW5pdCddKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TWU5UQVhfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdmb3ItaW4gbG9vcCB2YXJpYWJsZSBkZWNsYXJhdGlvbiBtYXkgbm90IGhhdmUgYW4gaW5pdGlhbGl6ZXIuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFyaWFibGUgaW5pdGlhbGl6YXRpb246IGZvciAodmFyIHggPSA0IGluIHkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2xlZnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlY29uZCwgbG9vayB1cCB0aGUgb2JqZWN0LiAgT25seSBkbyBzbyBvbmNlLCBldmVyLlxuICAgIGlmICghc3RhdGUuZG9uZU9iamVjdF8pIHtcbiAgICAgICAgc3RhdGUuZG9uZU9iamVjdF8gPSB0cnVlO1xuICAgICAgICBpZiAoIXN0YXRlLnZhcmlhYmxlXykge1xuICAgICAgICAgICAgc3RhdGUudmFyaWFibGVfID0gc3RhdGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydyaWdodCddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIGlmICghc3RhdGUuaXNMb29wKSB7XG4gICAgICAgIC8vIEZpcnN0IGl0ZXJhdGlvbi5cbiAgICAgICAgc3RhdGUuaXNMb29wID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUub2JqZWN0XyA9IHN0YXRlLnZhbHVlO1xuICAgICAgICBzdGF0ZS52aXNpdGVkXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIC8vIFRoaXJkLCBmaW5kIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGlzIGl0ZXJhdGlvbi5cbiAgICBpZiAoc3RhdGUubmFtZV8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBnb3RQcm9wTmFtZTogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5vYmplY3RfIGluc3RhbmNlb2YgSW50ZXJwcmV0ZXIuT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5wcm9wc18pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvcHNfID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3RhdGUub2JqZWN0Xy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSBzdGF0ZS5wcm9wc18uc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIFJlYWNoZWQgZW5kIG9mIHRoaXMgb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdGF0ZS5vYmplY3RfLnByb3BlcnRpZXMsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gUHJvcGVydHkgaGFzIGJlZW4gZGVsZXRlZCBpbiB0aGUgbG9vcC5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUudmlzaXRlZF9bcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBBbHJlYWR5IHNlZW4gdGhpcyBwcm9wZXJ0eSBvbiBhIGNoaWxkLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZpc2l0ZWRfW3Byb3BdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzdGF0ZS5vYmplY3RfLnByb3BlcnRpZXMsIHByb3ApXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgbm9uLWVudW1lcmFibGUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubmFtZV8gPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBnb3RQcm9wTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdF8gIT09IG51bGwgJiYgc3RhdGUub2JqZWN0XyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJpbWl0aXZlIHZhbHVlIChvdGhlciB0aGFuIG51bGwgb3IgdW5kZWZpbmVkKS5cbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLnByb3BzXykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9wc18gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0ZS5vYmplY3RfKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSBzdGF0ZS5wcm9wc18uc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIFJlYWNoZWQgZW5kIG9mIHRoaXMgdmFsdWUncyBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZpc2l0ZWRfW3Byb3BdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc3RhdGUub2JqZWN0XywgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm5hbWVfID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgZ290UHJvcE5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUub2JqZWN0XyA9IHRoaXMuZ2V0UHJvdG90eXBlKHN0YXRlLm9iamVjdF8pO1xuICAgICAgICAgICAgc3RhdGUucHJvcHNfID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5vYmplY3RfID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uZSwgZXhpdCBsb29wLlxuICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGb3VydGgsIGZpbmQgdGhlIHZhcmlhYmxlXG4gICAgaWYgKCFzdGF0ZS5kb25lVmFyaWFibGVfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVWYXJpYWJsZV8gPSB0cnVlO1xuICAgICAgICB2YXIgbGVmdCA9IG5vZGVbJ2xlZnQnXTtcbiAgICAgICAgaWYgKGxlZnRbJ3R5cGUnXSA9PT0gJ1ZhcmlhYmxlRGVjbGFyYXRpb24nKSB7XG4gICAgICAgICAgICAvLyBJbmxpbmUgdmFyaWFibGUgZGVjbGFyYXRpb246IGZvciAodmFyIHggaW4geSlcbiAgICAgICAgICAgIHN0YXRlLnZhcmlhYmxlXyA9IFtJbnRlcnByZXRlci5TQ09QRV9SRUZFUkVOQ0UsIGxlZnRbJ2RlY2xhcmF0aW9ucyddWzBdWydpZCddWyduYW1lJ11dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQXJiaXRyYXJ5IGxlZnQgc2lkZTogZm9yIChmb28oKS5iYXIgaW4geSlcbiAgICAgICAgICAgIHN0YXRlLnZhcmlhYmxlXyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKGxlZnQsIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgICAgIG5leHRTdGF0ZS5jb21wb25lbnRzID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdGF0ZS52YXJpYWJsZV8pIHtcbiAgICAgICAgc3RhdGUudmFyaWFibGVfID0gc3RhdGUudmFsdWU7XG4gICAgfVxuICAgIC8vIEZpZnRoLCBzZXQgdGhlIHZhcmlhYmxlLlxuICAgIGlmICghc3RhdGUuZG9uZVNldHRlcl8pIHtcbiAgICAgICAgc3RhdGUuZG9uZVNldHRlcl8gPSB0cnVlO1xuICAgICAgICB2YXIgdmFsdWUgPSBzdGF0ZS5uYW1lXztcbiAgICAgICAgdmFyIHNldHRlciA9IHRoaXMuc2V0VmFsdWUoc3RhdGUudmFyaWFibGVfLCB2YWx1ZSk7XG4gICAgICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNldHRlcl8oc2V0dGVyLCBzdGF0ZS52YXJpYWJsZV8sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBOZXh0IHN0ZXAgd2lsbCBiZSBzdGVwIHRocmVlLlxuICAgIHN0YXRlLm5hbWVfID0gdW5kZWZpbmVkO1xuICAgIC8vIFJlZXZhbHVhdGUgdGhlIHZhcmlhYmxlIHNpbmNlIGl0IGNvdWxkIGJlIGEgc2V0dGVyIG9uIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHN0YXRlLmRvbmVWYXJpYWJsZV8gPSBmYWxzZTtcbiAgICBzdGF0ZS5kb25lU2V0dGVyXyA9IGZhbHNlO1xuICAgIC8vIFNpeHRoIGFuZCBmaW5hbGx5LCBleGVjdXRlIHRoZSBib2R5IGlmIHRoZXJlIHdhcyBvbmUuICB0aGlzLlxuICAgIGlmIChub2RlWydib2R5J10pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydib2R5J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBGb3JTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICB2YXIgbW9kZSA9IHN0YXRlLm1vZGVfIHx8IDA7XG4gICAgaWYgKG1vZGUgPT09IDApIHtcbiAgICAgICAgc3RhdGUubW9kZV8gPSAxO1xuICAgICAgICBpZiAobm9kZVsnaW5pdCddKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2luaXQnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSAxKSB7XG4gICAgICAgIHN0YXRlLm1vZGVfID0gMjtcbiAgICAgICAgaWYgKG5vZGVbJ3Rlc3QnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWyd0ZXN0J10sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gMikge1xuICAgICAgICBzdGF0ZS5tb2RlXyA9IDM7XG4gICAgICAgIGlmIChub2RlWyd0ZXN0J10gJiYgIXN0YXRlLnZhbHVlKSB7XG4gICAgICAgICAgICAvLyBEb25lLCBleGl0IGxvb3AuXG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGJvZHkuXG4gICAgICAgICAgICBzdGF0ZS5pc0xvb3AgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydib2R5J10sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gMykge1xuICAgICAgICBzdGF0ZS5tb2RlXyA9IDE7XG4gICAgICAgIGlmIChub2RlWyd1cGRhdGUnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWyd1cGRhdGUnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRnVuY3Rpb25EZWNsYXJhdGlvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIC8vIFRoaXMgd2FzIGZvdW5kIGFuZCBoYW5kbGVkIHdoZW4gdGhlIHNjb3BlIHdhcyBwb3B1bGF0ZWQuXG4gICAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBGdW5jdGlvbkV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIHN0YXRlLnZhbHVlID0gdGhpcy5jcmVhdGVGdW5jdGlvbihub2RlLCBzdGF0ZS5zY29wZSwgc3RhdGUuZGVzdGluYXRpb25OYW1lKTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcElkZW50aWZpZXInXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBzdGFjay5wb3AoKTtcbiAgICBpZiAoc3RhdGUuY29tcG9uZW50cykge1xuICAgICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IFtJbnRlcnByZXRlci5TQ09QRV9SRUZFUkVOQ0UsIG5vZGVbJ25hbWUnXV07XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYWx1ZUZyb21TY29wZShub2RlWyduYW1lJ10pO1xuICAgIC8vIEFuIGlkZW50aWZpZXIgY291bGQgYmUgYSBnZXR0ZXIgaWYgaXQncyBhIHByb3BlcnR5IG9uIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIGlmICh0aGlzLmdldHRlclN0ZXBfKSB7XG4gICAgICAgIC8vIENhbGwgdGhlIGdldHRlciBmdW5jdGlvbi5cbiAgICAgICAgdmFyIHNjb3BlID0gc3RhdGUuc2NvcGU7XG4gICAgICAgIHdoaWxlIChzY29wZSAhPT0gdGhpcy5nbG9iYWxTY29wZSAmJiAhdGhpcy5oYXNQcm9wZXJ0eShzY29wZSwgbm9kZVsnbmFtZSddKSkge1xuICAgICAgICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnRTY29wZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnVuYyA9IC8qKiBAdHlwZSB7IUludGVycHJldGVyLk9iamVjdH0gKi8gKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlR2V0dGVyXyhmdW5jLCB0aGlzLmdsb2JhbE9iamVjdCk7XG4gICAgfVxuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBJZlN0YXRlbWVudCddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQ29uZGl0aW9uYWxFeHByZXNzaW9uJ107XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcExhYmVsZWRTdGF0ZW1lbnQnXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICAvLyBObyBuZWVkIHRvIGhpdCB0aGlzIG5vZGUgYWdhaW4gb24gdGhlIHdheSBiYWNrIHVwIHRoZSBzdGFjay5cbiAgICBzdGFjay5wb3AoKTtcbiAgICAvLyBOb3RlIHRoYXQgYSBzdGF0ZW1lbnQgbWlnaHQgaGF2ZSBtdWx0aXBsZSBsYWJlbHMuXG4gICAgdmFyIGxhYmVscyA9IHN0YXRlLmxhYmVscyB8fCBbXTtcbiAgICBsYWJlbHMucHVzaChub2RlWydsYWJlbCddWyduYW1lJ10pO1xuICAgIHZhciBuZXh0U3RhdGUgPSBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYm9keSddLCBzdGF0ZS5zY29wZSk7XG4gICAgbmV4dFN0YXRlLmxhYmVscyA9IGxhYmVscztcbiAgICByZXR1cm4gbmV4dFN0YXRlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTGl0ZXJhbCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHN0YWNrLnBvcCgpO1xuICAgIHZhciB2YWx1ZSA9IG5vZGVbJ3ZhbHVlJ107XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHZhciBwc2V1ZG9SZWdleHAgPSB0aGlzLmNyZWF0ZU9iamVjdFByb3RvKHRoaXMuUkVHRVhQX1BST1RPKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJlZ0V4cChwc2V1ZG9SZWdleHAsIHZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSBwc2V1ZG9SZWdleHA7XG4gICAgfVxuICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBMb2dpY2FsRXhwcmVzc2lvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIGlmIChub2RlWydvcGVyYXRvciddICE9PSAnJiYnICYmIG5vZGVbJ29wZXJhdG9yJ10gIT09ICd8fCcpIHtcbiAgICAgICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gbG9naWNhbCBvcGVyYXRvcjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmRvbmVMZWZ0Xykge1xuICAgICAgICBzdGF0ZS5kb25lTGVmdF8gPSB0cnVlO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2xlZnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmRvbmVSaWdodF8pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICcmJicgJiYgIXN0YXRlLnZhbHVlKSB8fFxuICAgICAgICAgICAgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICd8fCcgJiYgc3RhdGUudmFsdWUpXG4gICAgICAgICkge1xuICAgICAgICAgICAgLy8gU2hvcnRjdXQgZXZhbHVhdGlvbi5cbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmRvbmVSaWdodF8gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydyaWdodCddLCBzdGF0ZS5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBNZW1iZXJFeHByZXNzaW9uJ10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgaWYgKCFzdGF0ZS5kb25lT2JqZWN0Xykge1xuICAgICAgICBzdGF0ZS5kb25lT2JqZWN0XyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnb2JqZWN0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgdmFyIHByb3BOYW1lO1xuICAgIGlmICghbm9kZVsnY29tcHV0ZWQnXSkge1xuICAgICAgICBzdGF0ZS5vYmplY3RfID0gc3RhdGUudmFsdWU7XG4gICAgICAgIC8vIG9iai5mb28gLS0gSnVzdCBhY2Nlc3MgYGZvb2AgZGlyZWN0bHkuXG4gICAgICAgIHByb3BOYW1lID0gbm9kZVsncHJvcGVydHknXVsnbmFtZSddO1xuICAgIH0gZWxzZSBpZiAoIXN0YXRlLmRvbmVQcm9wZXJ0eV8pIHtcbiAgICAgICAgc3RhdGUub2JqZWN0XyA9IHN0YXRlLnZhbHVlO1xuICAgICAgICAvLyBvYmpbZm9vXSAtLSBDb21wdXRlIHZhbHVlIG9mIGBmb29gLlxuICAgICAgICBzdGF0ZS5kb25lUHJvcGVydHlfID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydwcm9wZXJ0eSddLCBzdGF0ZS5zY29wZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcE5hbWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG4gICAgaWYgKHN0YXRlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBbc3RhdGUub2JqZWN0XywgcHJvcE5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0UHJvcGVydHkoc3RhdGUub2JqZWN0XywgcHJvcE5hbWUpO1xuICAgICAgICBpZiAodGhpcy5nZXR0ZXJTdGVwXykge1xuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAgICAgICAgdmFyIGZ1bmMgPSAvKiogQHR5cGUgeyFJbnRlcnByZXRlci5PYmplY3R9ICovICh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXR0ZXJfKGZ1bmMsIHN0YXRlLm9iamVjdF8pO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwTmV3RXhwcmVzc2lvbiddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwQ2FsbEV4cHJlc3Npb24nXTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwT2JqZWN0RXhwcmVzc2lvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBuID0gc3RhdGUubl8gfHwgMDtcbiAgICB2YXIgcHJvcGVydHkgPSBub2RlWydwcm9wZXJ0aWVzJ11bbl07XG4gICAgaWYgKCFzdGF0ZS5vYmplY3RfKSB7XG4gICAgICAgIC8vIEZpcnN0IGV4ZWN1dGlvbi5cbiAgICAgICAgc3RhdGUub2JqZWN0XyA9IHRoaXMuY3JlYXRlT2JqZWN0UHJvdG8odGhpcy5PQkpFQ1RfUFJPVE8pO1xuICAgICAgICBzdGF0ZS5wcm9wZXJ0aWVzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSBjb21wdXRlZCBpbiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLlxuICAgICAgICB2YXIgcHJvcE5hbWUgPSBzdGF0ZS5kZXN0aW5hdGlvbk5hbWU7XG4gICAgICAgIGlmICghc3RhdGUucHJvcGVydGllc19bcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGVtcCBvYmplY3QgdG8gY29sbGVjdCB2YWx1ZSwgZ2V0dGVyLCBhbmQvb3Igc2V0dGVyLlxuICAgICAgICAgICAgc3RhdGUucHJvcGVydGllc19bcHJvcE5hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUucHJvcGVydGllc19bcHJvcE5hbWVdW3Byb3BlcnR5WydraW5kJ11dID0gc3RhdGUudmFsdWU7XG4gICAgICAgIHN0YXRlLm5fID0gKytuO1xuICAgICAgICBwcm9wZXJ0eSA9IG5vZGVbJ3Byb3BlcnRpZXMnXVtuXTtcbiAgICB9XG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICAgIC8vIERldGVybWluZSBwcm9wZXJ0eSBuYW1lLlxuICAgICAgICB2YXIga2V5ID0gcHJvcGVydHlbJ2tleSddO1xuICAgICAgICBpZiAoa2V5Wyd0eXBlJ10gPT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0ga2V5WyduYW1lJ107XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5Wyd0eXBlJ10gPT09ICdMaXRlcmFsJykge1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0ga2V5Wyd2YWx1ZSddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gb2JqZWN0IHN0cnVjdHVyZTogJyArIGtleVsndHlwZSddKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIGFzc2lnbmluZyBhbiB1bm5hbWVkIGZ1bmN0aW9uIHRvIGEgcHJvcGVydHksIHRoZSBmdW5jdGlvbidzIG5hbWVcbiAgICAgICAgLy8gaXMgc2V0IHRvIHRoZSBwcm9wZXJ0eSBuYW1lLiAgUmVjb3JkIHRoZSBwcm9wZXJ0eSBuYW1lIGluIGNhc2UgdGhlXG4gICAgICAgIC8vIHZhbHVlIGlzIGEgZnVuY3Rpb25FeHByZXNzaW9uLlxuICAgICAgICAvLyBFLmcuIHtmb286IGZ1bmN0aW9uKCkge319XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uTmFtZSA9IHByb3BOYW1lO1xuICAgICAgICByZXR1cm4gbmV3IEludGVycHJldGVyLlN0YXRlKHByb3BlcnR5Wyd2YWx1ZSddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBzdGF0ZS5wcm9wZXJ0aWVzXykge1xuICAgICAgICB2YXIga2luZHMgPSBzdGF0ZS5wcm9wZXJ0aWVzX1trZXldO1xuICAgICAgICBpZiAoJ2dldCcgaW4ga2luZHMgfHwgJ3NldCcgaW4ga2luZHMpIHtcbiAgICAgICAgICAgIC8vIFNldCBhIHByb3BlcnR5IHdpdGggYSBnZXR0ZXIgb3Igc2V0dGVyLlxuICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiBraW5kc1snZ2V0J10sXG4gICAgICAgICAgICAgICAgc2V0OiBraW5kc1snc2V0J10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShzdGF0ZS5vYmplY3RfLCBrZXksIEludGVycHJldGVyLlZBTFVFX0lOX0RFU0NSSVBUT1IsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2V0IGEgbm9ybWFsIHByb3BlcnR5IHdpdGggYSB2YWx1ZS5cbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHkoc3RhdGUub2JqZWN0Xywga2V5LCBraW5kc1snaW5pdCddKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLm9iamVjdF87XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBQcm9ncmFtJ10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBub2RlWydib2R5J10uc2hpZnQoKTtcbiAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICBzdGF0ZS5kb25lID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZXhwcmVzc2lvbiwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgICAvLyBEb24ndCBwb3AgdGhlIHN0YXRlU3RhY2suXG4gICAgLy8gTGVhdmUgdGhlIHJvb3Qgc2NvcGUgb24gdGhlIHRyZWUgaW4gY2FzZSB0aGUgcHJvZ3JhbSBpcyBhcHBlbmRlZCB0by5cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFJldHVyblN0YXRlbWVudCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIGlmIChub2RlWydhcmd1bWVudCddICYmICFzdGF0ZS5kb25lXykge1xuICAgICAgICBzdGF0ZS5kb25lXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYXJndW1lbnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICB0aGlzLnVud2luZChJbnRlcnByZXRlci5Db21wbGV0aW9uLlJFVFVSTiwgc3RhdGUudmFsdWUsIHVuZGVmaW5lZCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBTZXF1ZW5jZUV4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gICAgdmFyIGV4cHJlc3Npb24gPSBub2RlWydleHByZXNzaW9ucyddW25dO1xuICAgIGlmIChleHByZXNzaW9uKSB7XG4gICAgICAgIHN0YXRlLm5fID0gbiArIDE7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZXhwcmVzc2lvbiwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHN0YXRlLnZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwU3dpdGNoU3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgaWYgKCFzdGF0ZS50ZXN0Xykge1xuICAgICAgICBzdGF0ZS50ZXN0XyA9IDE7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnZGlzY3JpbWluYW50J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnRlc3RfID09PSAxKSB7XG4gICAgICAgIHN0YXRlLnRlc3RfID0gMjtcbiAgICAgICAgLy8gUHJlc2VydmUgc3dpdGNoIHZhbHVlIGJldHdlZW4gY2FzZSB0ZXN0cy5cbiAgICAgICAgc3RhdGUuc3dpdGNoVmFsdWVfID0gc3RhdGUudmFsdWU7XG4gICAgICAgIHN0YXRlLmRlZmF1bHRDYXNlXyA9IC0xO1xuICAgIH1cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4XyB8fCAwO1xuICAgICAgICB2YXIgc3dpdGNoQ2FzZSA9IG5vZGVbJ2Nhc2VzJ11baW5kZXhdO1xuICAgICAgICBpZiAoIXN0YXRlLm1hdGNoZWRfICYmIHN3aXRjaENhc2UgJiYgIXN3aXRjaENhc2VbJ3Rlc3QnXSkge1xuICAgICAgICAgICAgLy8gVGVzdCBvbiB0aGUgZGVmYXVsdCBjYXNlIGlzIG51bGwuXG4gICAgICAgICAgICAvLyBCeXBhc3MgKGJ1dCBzdG9yZSkgdGhlIGRlZmF1bHQgY2FzZSwgYW5kIGdldCBiYWNrIHRvIGl0IGxhdGVyLlxuICAgICAgICAgICAgc3RhdGUuZGVmYXVsdENhc2VfID0gaW5kZXg7XG4gICAgICAgICAgICBzdGF0ZS5pbmRleF8gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN3aXRjaENhc2UgJiYgIXN0YXRlLm1hdGNoZWRfICYmIHN0YXRlLmRlZmF1bHRDYXNlXyAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFJhbiB0aHJvdWdoIGFsbCBjYXNlcywgbm8gbWF0Y2guICBKdW1wIHRvIHRoZSBkZWZhdWx0LlxuICAgICAgICAgICAgc3RhdGUubWF0Y2hlZF8gPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUuaW5kZXhfID0gc3RhdGUuZGVmYXVsdENhc2VfO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3aXRjaENhc2UpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGUubWF0Y2hlZF8gJiYgIXN0YXRlLnRlc3RlZF8gJiYgc3dpdGNoQ2FzZVsndGVzdCddKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudGVzdGVkXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShzd2l0Y2hDYXNlWyd0ZXN0J10sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5tYXRjaGVkXyB8fCBzdGF0ZS52YWx1ZSA9PT0gc3RhdGUuc3dpdGNoVmFsdWVfKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubWF0Y2hlZF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBuID0gc3RhdGUubl8gfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAoc3dpdGNoQ2FzZVsnY29uc2VxdWVudCddW25dKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUubl8gPSBuICsgMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShzd2l0Y2hDYXNlWydjb25zZXF1ZW50J11bbl0sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNb3ZlIG9uIHRvIG5leHQgY2FzZS5cbiAgICAgICAgICAgIHN0YXRlLnRlc3RlZF8gPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLm5fID0gMDtcbiAgICAgICAgICAgIHN0YXRlLmluZGV4XyA9IGluZGV4ICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwVGhpc0V4cHJlc3Npb24nXSA9IGZ1bmN0aW9uIChzdGFjaywgc3RhdGUsIG5vZGUpIHtcbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHRoaXMuZ2V0VmFsdWVGcm9tU2NvcGUoJ3RoaXMnKTtcbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFRocm93U3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgaWYgKCFzdGF0ZS5kb25lXykge1xuICAgICAgICBzdGF0ZS5kb25lXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYXJndW1lbnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24oc3RhdGUudmFsdWUpO1xuICAgIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFRyeVN0YXRlbWVudCddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIGlmICghc3RhdGUuZG9uZUJsb2NrXykge1xuICAgICAgICBzdGF0ZS5kb25lQmxvY2tfID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydibG9jayddLCBzdGF0ZS5zY29wZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICAgc3RhdGUuY3YgJiZcbiAgICAgICAgc3RhdGUuY3YudHlwZSA9PT0gSW50ZXJwcmV0ZXIuQ29tcGxldGlvbi5USFJPVyAmJlxuICAgICAgICAhc3RhdGUuZG9uZUhhbmRsZXJfICYmXG4gICAgICAgIG5vZGVbJ2hhbmRsZXInXVxuICAgICkge1xuICAgICAgICBzdGF0ZS5kb25lSGFuZGxlcl8gPSB0cnVlO1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2hhbmRsZXInXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICBuZXh0U3RhdGUudGhyb3dWYWx1ZSA9IHN0YXRlLmN2LnZhbHVlO1xuICAgICAgICBzdGF0ZS5jdiA9IHVuZGVmaW5lZDsgLy8gVGhpcyBlcnJvciBoYXMgYmVlbiBoYW5kbGVkLCBkb24ndCByZXRocm93LlxuICAgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmRvbmVGaW5hbGl6ZXJfICYmIG5vZGVbJ2ZpbmFsaXplciddKSB7XG4gICAgICAgIHN0YXRlLmRvbmVGaW5hbGl6ZXJfID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydmaW5hbGl6ZXInXSwgc3RhdGUuc2NvcGUpO1xuICAgIH1cbiAgICBzdGFjay5wb3AoKTtcbiAgICBpZiAoc3RhdGUuY3YpIHtcbiAgICAgICAgLy8gVGhlcmUgd2FzIG5vIGNhdGNoIGhhbmRsZXIsIG9yIHRoZSBjYXRjaC9maW5hbGx5IHRocmV3IGFuIGVycm9yLlxuICAgICAgICAvLyBUaHJvdyB0aGUgZXJyb3IgdXAgdG8gYSBoaWdoZXIgdHJ5LlxuICAgICAgICB0aGlzLnVud2luZChzdGF0ZS5jdi50eXBlLCBzdGF0ZS5jdi52YWx1ZSwgc3RhdGUuY3YubGFiZWwpO1xuICAgIH1cbn07XG5cbkludGVycHJldGVyLnByb3RvdHlwZVsnc3RlcFVuYXJ5RXhwcmVzc2lvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIGlmICghc3RhdGUuZG9uZV8pIHtcbiAgICAgICAgc3RhdGUuZG9uZV8gPSB0cnVlO1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0gbmV3IEludGVycHJldGVyLlN0YXRlKG5vZGVbJ2FyZ3VtZW50J10sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgbmV4dFN0YXRlLmNvbXBvbmVudHMgPSBub2RlWydvcGVyYXRvciddID09PSAnZGVsZXRlJztcbiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICctJykge1xuICAgICAgICB2YWx1ZSA9IC12YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICcrJykge1xuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICchJykge1xuICAgICAgICB2YWx1ZSA9ICF2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICd+Jykge1xuICAgICAgICB2YWx1ZSA9IH52YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICdkZWxldGUnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgICAvLyBJZiB2YWx1ZSBpcyBub3QgYW4gYXJyYXksIHRoZW4gaXQgaXMgYSBwcmltaXRpdmUsIG9yIHNvbWUgb3RoZXIgdmFsdWUuXG4gICAgICAgIC8vIElmIHNvLCBza2lwIHRoZSBkZWxldGUgYW5kIHJldHVybiB0cnVlLlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIGlmIChvYmogPT09IEludGVycHJldGVyLlNDT1BFX1JFRkVSRU5DRSkge1xuICAgICAgICAgICAgICAgIC8vIGBkZWxldGUgZm9vO2AgaXMgdGhlIHNhbWUgYXMgYGRlbGV0ZSB3aW5kb3cuZm9vO2AuXG4gICAgICAgICAgICAgICAgb2JqID0gc3RhdGUuc2NvcGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmFtZSA9IFN0cmluZyh2YWx1ZVsxXSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmoucHJvcGVydGllc1tuYW1lXTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2NvcGUuc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlRZUEVfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBkZWxldGUgcHJvcGVydHkgJ1wiICsgbmFtZSArIFwiJyBvZiAnXCIgKyBvYmogKyBcIidcIixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChub2RlWydvcGVyYXRvciddID09PSAndHlwZW9mJykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLmNsYXNzID09PSAnRnVuY3Rpb24nID8gJ2Z1bmN0aW9uJyA6IHR5cGVvZiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICd2b2lkJykge1xuICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBTeW50YXhFcnJvcignVW5rbm93biB1bmFyeSBvcGVyYXRvcjogJyArIG5vZGVbJ29wZXJhdG9yJ10pO1xuICAgIH1cbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwVXBkYXRlRXhwcmVzc2lvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIGlmICghc3RhdGUuZG9uZUxlZnRfKSB7XG4gICAgICAgIHN0YXRlLmRvbmVMZWZ0XyA9IHRydWU7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnYXJndW1lbnQnXSwgc3RhdGUuc2NvcGUpO1xuICAgICAgICBuZXh0U3RhdGUuY29tcG9uZW50cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuICAgIGlmICghc3RhdGUubGVmdFNpZGVfKSB7XG4gICAgICAgIHN0YXRlLmxlZnRTaWRlXyA9IHN0YXRlLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuZG9uZUdldHRlcl8pIHtcbiAgICAgICAgc3RhdGUubGVmdFZhbHVlXyA9IHN0YXRlLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmRvbmVHZXR0ZXJfKSB7XG4gICAgICAgIHZhciBsZWZ0VmFsdWUgPSB0aGlzLmdldFZhbHVlKHN0YXRlLmxlZnRTaWRlXyk7XG4gICAgICAgIHN0YXRlLmxlZnRWYWx1ZV8gPSBsZWZ0VmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmdldHRlclN0ZXBfKSB7XG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICAgICAgICBzdGF0ZS5kb25lR2V0dGVyXyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IC8qKiBAdHlwZSB7IUludGVycHJldGVyLk9iamVjdH0gKi8gKGxlZnRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHZXR0ZXJfKGZ1bmMsIHN0YXRlLmxlZnRTaWRlXyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0YXRlLmRvbmVTZXR0ZXJfKSB7XG4gICAgICAgIC8vIFJldHVybiBpZiBzZXR0ZXIgZnVuY3Rpb24uXG4gICAgICAgIC8vIFNldHRlciBtZXRob2Qgb24gcHJvcGVydHkgaGFzIGNvbXBsZXRlZC5cbiAgICAgICAgLy8gSWdub3JlIGl0cyByZXR1cm4gdmFsdWUsIGFuZCB1c2UgdGhlIG9yaWdpbmFsIHNldCB2YWx1ZSBpbnN0ZWFkLlxuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0udmFsdWUgPSBzdGF0ZS5zZXR0ZXJWYWx1ZV87XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxlZnRWYWx1ZSA9IE51bWJlcihzdGF0ZS5sZWZ0VmFsdWVfKTtcbiAgICB2YXIgY2hhbmdlVmFsdWU7XG4gICAgaWYgKG5vZGVbJ29wZXJhdG9yJ10gPT09ICcrKycpIHtcbiAgICAgICAgY2hhbmdlVmFsdWUgPSBsZWZ0VmFsdWUgKyAxO1xuICAgIH0gZWxzZSBpZiAobm9kZVsnb3BlcmF0b3InXSA9PT0gJy0tJykge1xuICAgICAgICBjaGFuZ2VWYWx1ZSA9IGxlZnRWYWx1ZSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgU3ludGF4RXJyb3IoJ1Vua25vd24gdXBkYXRlIGV4cHJlc3Npb246ICcgKyBub2RlWydvcGVyYXRvciddKTtcbiAgICB9XG4gICAgdmFyIHJldHVyblZhbHVlID0gbm9kZVsncHJlZml4J10gPyBjaGFuZ2VWYWx1ZSA6IGxlZnRWYWx1ZTtcbiAgICB2YXIgc2V0dGVyID0gdGhpcy5zZXRWYWx1ZShzdGF0ZS5sZWZ0U2lkZV8sIGNoYW5nZVZhbHVlKTtcbiAgICBpZiAoc2V0dGVyKSB7XG4gICAgICAgIHN0YXRlLmRvbmVTZXR0ZXJfID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUuc2V0dGVyVmFsdWVfID0gcmV0dXJuVmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNldHRlcl8oc2V0dGVyLCBzdGF0ZS5sZWZ0U2lkZV8sIGNoYW5nZVZhbHVlKTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIGlmIG5vIHNldHRlciBmdW5jdGlvbi5cbiAgICBzdGFjay5wb3AoKTtcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS52YWx1ZSA9IHJldHVyblZhbHVlO1xufTtcblxuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwVmFyaWFibGVEZWNsYXJhdGlvbiddID0gZnVuY3Rpb24gKHN0YWNrLCBzdGF0ZSwgbm9kZSkge1xuICAgIHZhciBkZWNsYXJhdGlvbnMgPSBub2RlWydkZWNsYXJhdGlvbnMnXTtcbiAgICB2YXIgbiA9IHN0YXRlLm5fIHx8IDA7XG4gICAgdmFyIGRlY2xhcmF0aW9uTm9kZSA9IGRlY2xhcmF0aW9uc1tuXTtcbiAgICBpZiAoc3RhdGUuaW5pdF8gJiYgZGVjbGFyYXRpb25Ob2RlKSB7XG4gICAgICAgIC8vIFRoaXMgc2V0VmFsdWUgY2FsbCBuZXZlciBuZWVkcyB0byBkZWFsIHdpdGggY2FsbGluZyBhIHNldHRlciBmdW5jdGlvbi5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgc2V0dGluZyB0aGUgaW5pdCB2YWx1ZSwgbm90IGRlZmluaW5nIHRoZSB2YXJpYWJsZS5cbiAgICAgICAgLy8gVmFyaWFibGUgZGVmaW5pdGlvbiBpcyBkb25lIHdoZW4gc2NvcGUgaXMgcG9wdWxhdGVkLlxuICAgICAgICB0aGlzLnNldFZhbHVlVG9TY29wZShkZWNsYXJhdGlvbk5vZGVbJ2lkJ11bJ25hbWUnXSwgc3RhdGUudmFsdWUpO1xuICAgICAgICBzdGF0ZS5pbml0XyA9IGZhbHNlO1xuICAgICAgICBkZWNsYXJhdGlvbk5vZGUgPSBkZWNsYXJhdGlvbnNbKytuXTtcbiAgICB9XG4gICAgd2hpbGUgKGRlY2xhcmF0aW9uTm9kZSkge1xuICAgICAgICAvLyBTa2lwIGFueSBkZWNsYXJhdGlvbnMgdGhhdCBhcmUgbm90IGluaXRpYWxpemVkLiAgVGhleSBoYXZlIGFscmVhZHlcbiAgICAgICAgLy8gYmVlbiBkZWZpbmVkIGFzIHVuZGVmaW5lZCBpbiBwb3B1bGF0ZVNjb3BlXy5cbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uTm9kZVsnaW5pdCddKSB7XG4gICAgICAgICAgICBzdGF0ZS5uXyA9IG47XG4gICAgICAgICAgICBzdGF0ZS5pbml0XyA9IHRydWU7XG4gICAgICAgICAgICAvLyBXaGVuIGFzc2lnbmluZyBhbiB1bm5hbWVkIGZ1bmN0aW9uIHRvIGEgdmFyaWFibGUsIHRoZSBmdW5jdGlvbidzIG5hbWVcbiAgICAgICAgICAgIC8vIGlzIHNldCB0byB0aGUgdmFyaWFibGUgbmFtZS4gIFJlY29yZCB0aGUgdmFyaWFibGUgbmFtZSBpbiBjYXNlIHRoZVxuICAgICAgICAgICAgLy8gcmlnaHQgc2lkZSBpcyBhIGZ1bmN0aW9uRXhwcmVzc2lvbi5cbiAgICAgICAgICAgIC8vIEUuZy4gdmFyIGZvbyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbk5hbWUgPSBkZWNsYXJhdGlvbk5vZGVbJ2lkJ11bJ25hbWUnXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUoZGVjbGFyYXRpb25Ob2RlWydpbml0J10sIHN0YXRlLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNsYXJhdGlvbk5vZGUgPSBkZWNsYXJhdGlvbnNbKytuXTtcbiAgICB9XG4gICAgc3RhY2sucG9wKCk7XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBXaXRoU3RhdGVtZW50J10gPSBmdW5jdGlvbiAoc3RhY2ssIHN0YXRlLCBub2RlKSB7XG4gICAgaWYgKCFzdGF0ZS5kb25lT2JqZWN0Xykge1xuICAgICAgICBzdGF0ZS5kb25lT2JqZWN0XyA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXcgSW50ZXJwcmV0ZXIuU3RhdGUobm9kZVsnb2JqZWN0J10sIHN0YXRlLnNjb3BlKTtcbiAgICB9IGVsc2UgaWYgKCFzdGF0ZS5kb25lQm9keV8pIHtcbiAgICAgICAgc3RhdGUuZG9uZUJvZHlfID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5jcmVhdGVTcGVjaWFsU2NvcGUoc3RhdGUuc2NvcGUsIHN0YXRlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnByZXRlci5TdGF0ZShub2RlWydib2R5J10sIHNjb3BlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICB9XG59O1xuXG5JbnRlcnByZXRlci5wcm90b3R5cGVbJ3N0ZXBXaGlsZVN0YXRlbWVudCddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwRG9XaGlsZVN0YXRlbWVudCddO1xuXG4vLyBQcmVzZXJ2ZSB0b3AtbGV2ZWwgQVBJIGZ1bmN0aW9ucyBmcm9tIGJlaW5nIHBydW5lZC9yZW5hbWVkIGJ5IEpTIGNvbXBpbGVycy5cbi8vIEFkZCBvdGhlcnMgYXMgbmVlZGVkLlxuLy8gVGhlIGdsb2JhbCBvYmplY3QgKGB3aW5kb3dgIGluIGEgYnJvd3NlciwgYGdsb2JhbGAgaW4gbm9kZS5qcykgaXMgYHRoaXNgLlxuLy8gdGhpc1snSW50ZXJwcmV0ZXInXSA9IEludGVycHJldGVyO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydzdGVwJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuc3RlcDtcbkludGVycHJldGVyLnByb3RvdHlwZVsncnVuJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUucnVuO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydhcHBlbmRDb2RlJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuYXBwZW5kQ29kZTtcbkludGVycHJldGVyLnByb3RvdHlwZVsnY3JlYXRlT2JqZWN0J10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlT2JqZWN0O1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydjcmVhdGVPYmplY3RQcm90byddID0gSW50ZXJwcmV0ZXIucHJvdG90eXBlLmNyZWF0ZU9iamVjdFByb3RvO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydjcmVhdGVBc3luY0Z1bmN0aW9uJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlQXN5bmNGdW5jdGlvbjtcbkludGVycHJldGVyLnByb3RvdHlwZVsnY3JlYXRlTmF0aXZlRnVuY3Rpb24nXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5jcmVhdGVOYXRpdmVGdW5jdGlvbjtcbkludGVycHJldGVyLnByb3RvdHlwZVsnZ2V0UHJvcGVydHknXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eTtcbkludGVycHJldGVyLnByb3RvdHlwZVsnc2V0UHJvcGVydHknXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0eTtcbkludGVycHJldGVyLnByb3RvdHlwZVsnbmF0aXZlVG9Qc2V1ZG8nXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5uYXRpdmVUb1BzZXVkbztcbkludGVycHJldGVyLnByb3RvdHlwZVsncHNldWRvVG9OYXRpdmUnXSA9IEludGVycHJldGVyLnByb3RvdHlwZS5wc2V1ZG9Ub05hdGl2ZTtcbkludGVycHJldGVyLnByb3RvdHlwZVsnY2FsbEZ1bmN0aW9uJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuY2FsbEZ1bmN0aW9uO1xuSW50ZXJwcmV0ZXIucHJvdG90eXBlWydxdWV1ZUZ1bmN0aW9uJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUucXVldWVGdW5jdGlvbjtcbkludGVycHJldGVyLnByb3RvdHlwZVsnY3JlYXRlVGhyb3dhYmxlJ10gPSBJbnRlcnByZXRlci5wcm90b3R5cGUuY3JlYXRlVGhyb3dhYmxlO1xuXG5leHBvcnQgeyBJbnRlcnByZXRlciB9O1xuIiwiaW1wb3J0IHtJbnRlcnByZXRlcn0gZnJvbSBcIi4uLy4uL3NyY1wiO1xuXG5jb25zdCB0aW1lb3V0czogYW55W10gPSBbXTtcbmxldCB0aW1lb3V0Q291bnRlciA9IDA7XG5cbmNvbnN0IHByZXNldHMgPSBbXG4gICAge1xuICAgICAgICBrZXk6ICd0aW1lb3V0JyxcbiAgICAgICAgdmFsdWU6IGBzZXRUaW1lb3V0KFxuICAgZnVuY3Rpb24oKXtcbiAgICAgIGxvZyhcImxhdGVyXCIpO1xuICAgfSxcbiAgIDEwMDBcbik7YCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnY2FsbEEnLFxuICAgICAgICB2YWx1ZTogYGNhbGxBKGZ1bmN0aW9uKGEpe1xuICAgIGxvZyhhKTtcbn0sIGZ1bmN0aW9uKGUpIHtcbiAgICBsb2coZSk7XG59KTtgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdjYWxsRicsXG4gICAgICAgIHZhbHVlOiBgY2FsbEYoZnVuY3Rpb24oYSwgYil7XG4gICAgbG9nKGEpO1xuICAgIGxvZyhiKTtcbn0pO2AsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ3JlcXVpcmUnLFxuICAgICAgICB2YWx1ZTogYHZhciBmb28gPSBcImhpXCI7XG52YXIgZG9lciA9IHJlcXVpcmUoXCJkb2VyXCIpO1xudmFyIGdldCA9IHJlcXVpcmUoXCJnZXRcIik7XG52YXIgZGVmZXIgPSByZXF1aXJlKFwiZGVmZXJcIik7XG52YXIgbG9nID0gcmVxdWlyZShcImxvZ1wiKTtcbmRlZmVyKGZ1bmN0aW9uKCl7XG4gICAgZGVmZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgbG9nKGdldCgpKTtcbiAgICAgICAgZG9lcigpKCk7XG4gICAgfSk7XG59KTtgLFxuICAgIH1cbl07XG5cbmNvbnN0IHNjcmlwdCA9ICgpID0+IHtcbiAgICAvL3Rocm93ICdzY3JpcHQgZXJyb3InO1xuICAgIHJldHVybiAnc2NyaXB0IGRvbmUnO1xufVxuXG5jb25zdCBsb2cgPSAoc3RyOiBzdHJpbmcsIGxvZ1RleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KSA9PiB7XG4gICAgbG9nVGV4dEFyZWEudmFsdWUgPSBsb2dUZXh0QXJlYS52YWx1ZSArICdcXG4nICsgc3RyO1xufVxuXG5cbmNvbnN0IHJ1bkNvZGUgPSAoY29kZTogc3RyaW5nLCBsb2dUZXh0QXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkgPT4ge1xuICAgIGxvZ1RleHRBcmVhLnZhbHVlID0gJ1N0YXJ0ZWQnO1xuXG4gICAgbmV3IEludGVycHJldGVyKFxuICAgICAgICBjb2RlLFxuICAgICAgICAoaW50ZXJwcmV0ZXIsIHNjb3BlKSA9PiB7XG4gICAgICAgICAgICBpbnRlcnByZXRlci5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgICAnY2FsbEEnLFxuICAgICAgICAgICAgICAgIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKChzdWNjZXNzOiBhbnksIGZhaWx1cmU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IHNjcmlwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycHJldGVyLnF1ZXVlRnVuY3Rpb24oc3VjY2VzcywgdW5kZWZpbmVkLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnByZXRlci5ydW4oKTsgLy8gS2VlcCBydW5uaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIucXVldWVGdW5jdGlvbihzdWNjZXNzLCB1bmRlZmluZWQsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycHJldGVyLnJ1bigpOyAvLyBLZWVwIHJ1bm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICAgICdjYWxsRicsXG4gICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24oKHN1Y2Nlc3M6IGFueSwgZmFpbHVyZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnByZXRlci5jYWxsRnVuY3Rpb24oc3VjY2VzcywgdW5kZWZpbmVkLCAnc2Rhc2QnLCAnZHNkc2QnKTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnRlcnByZXRlci5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgICAnbG9nJyxcbiAgICAgICAgICAgICAgICBpbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbygobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nKG1zZywgbG9nVGV4dEFyZWEpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICAgICdzZXRUaW1lb3V0JyxcbiAgICAgICAgICAgICAgICBpbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbihmdW5jdGlvbiAoZm46IGFueSwgdGltZTogbnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpZCA9ICsrdGltZW91dENvdW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXRzW3RpZF0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0c1t0aWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRpbWVvdXRzW3RpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIucXVldWVGdW5jdGlvbihmbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIucnVuKCk7IC8vIEtlZXAgcnVubmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGludGVycHJldGVyLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICAgIFwiY2xlYXJUaW1lb3V0XCIsXG4gICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24oKHRpZDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0c1t0aWRdKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRpbWVvdXRzW3RpZF07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnRlcnByZXRlci5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgICAncmVxdWlyZScsXG4gICAgICAgICAgICAgICAgaW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24oKHBhY2thZ2VOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwYWNrYWdlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZG9lcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKCgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2coJ2JsYSBibGEnLCBsb2dUZXh0QXJlYSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdnZXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnByZXRlci5uYXRpdmVUb1BzZXVkbygnaGknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKChtc2c6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cobXNnLCBsb2dUZXh0QXJlYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWZlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKChmOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnByZXRlci5xdWV1ZUZ1bmN0aW9uKGYsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnByZXRlci5ydW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICApLnJ1bkFsbChcbiAgICAgICAgKGUpID0+IGxvZyhgU29tZSBlcnJvcjogJHtlfWAsIGxvZ1RleHRBcmVhKSxcbiAgICAgICAgKCkgPT4gbG9nKCdGaW5pc2hlZCcsIGxvZ1RleHRBcmVhKSxcbiAgICApO1xufTtcblxuLy8gUnVuIEJ1dHRvblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvZGVUZXh0QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGw7XG4gICAgY29uc3QgbG9nVGV4dEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nJykgYXMgSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKGNvZGVUZXh0QXJlYSAhPT0gbnVsbCAmJiBsb2dUZXh0QXJlYSAhPT0gbnVsbCkge1xuICAgICAgICBjb2RlVGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsb2dUZXh0QXJlYS52YWx1ZSA9ICcnO1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCBwcmVzZXRTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlc2V0JykgYXMgSFRNTFNlbGVjdEVsZW1lbnQgfCBudWxsO1xuICAgICAgICBpZiAocHJlc2V0U2VsZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwcmVzZXRzLmZvckVhY2goKHByZXNldCkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXNldFNlbGVjdC5vcHRpb25zW3ByZXNldFNlbGVjdC5vcHRpb25zLmxlbmd0aF0gPSBuZXcgT3B0aW9uKHByZXNldC5rZXksIHByZXNldC52YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXNldFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbG9nVGV4dEFyZWEudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICBjb2RlVGV4dEFyZWEudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY2xpY2tlZCBlbGVtZW50IGRvZXNuJ3QgaGF2ZSB0aGUgcmlnaHQgc2VsZWN0b3IsIGJhaWxcbiAgICAgICAgICAgIGlmICghKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkubWF0Y2hlcygnLnJ1bi1idXR0b24nKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBmb2xsb3cgdGhlIGxpbmtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8vIFJ1biB0aGUgY29kZVxuICAgICAgICAgICAgcnVuQ29kZShjb2RlVGV4dEFyZWEudmFsdWUsIGxvZ1RleHRBcmVhKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==